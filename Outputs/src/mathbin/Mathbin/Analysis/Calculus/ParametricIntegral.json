{"has_fderiv_at_integral_of_dominated_of_fderiv_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr →L[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/-- Differentiation under integral of `x ↦ ∫ F x a` at a given point `x₀`, assuming\n`F x₀` is integrable, `x ↦ F x a` is differentiable on a ball around `x₀` for ae `a` with\nderivative norm uniformly bounded by an integrable function (the ball radius is independent of `a`),\nand `F x` is ae-measurable for `x` in a possibly smaller neighborhood of `x₀`. -/\ntheorem has_fderiv_at_integral_of_dominated_of_fderiv_le {F : H → α → E} {F' : H → α → «expr →L[ ] » H 𝕜 E} {x₀ : H}\n    {bound : α → exprℝ} {ε : exprℝ} (ε_pos : 0 < ε)\n    (hF_meas :\n      «expr∀ᶠ in , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , »\"\n        ((nhds) x₀) (ae_strongly_measurable (F x) μ))\n    (hF_int : integrable (F x₀) μ) (hF'_meas : ae_strongly_measurable (F' x₀) μ)\n    (h_bound :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (∀ x ∈ ball x₀ ε, «expr‖ ‖» (F' x a) ≤ bound a))\n    (bound_integrable : integrable (bound : α → exprℝ) μ)\n    (h_diff :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (∀ x ∈ ball x₀ ε, has_fderiv_at (fun x => F x a) (F' x a) x)) :\n    has_fderiv_at\n      (fun x =>\n        «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F x a) μ)\n      («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F' x₀ a) μ)\n      x₀ :=\n  by\n  letI : normed_space (exprℝ) H := normed_space.restrict_scalars (exprℝ) 𝕜 H\n  have x₀_in : x₀ ∈ ball x₀ ε := mem_ball_self ε_pos\n  have diff_x₀ :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (has_fderiv_at (fun x => F x a) (F' x₀ a) x₀) :=\n    h_diff.mono fun a ha => ha x₀ x₀_in\n  have :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (lipschitz_on_with (real.nnabs (bound a)) (fun x => F x a) (ball x₀ ε)) :=\n    by\n    apply (h_diff.and h_bound).mono\n    rintro a ⟨ha_deriv, ha_bound⟩\n    refine'\n      (convex_ball _ _).lipschitz_on_with_of_nnnorm_has_fderiv_within_le\n        (fun x x_in => (ha_deriv x x_in).has_fderiv_within_at) fun x x_in => _\n    rw [← nnreal.coe_le_coe, coe_nnnorm, real.coe_nnabs]\n    exact (ha_bound x x_in).trans (le_abs_self _)\n  exact (has_fderiv_at_integral_of_dominated_loc_of_lip ε_pos hF_meas hF_int hF'_meas this bound_integrable diff_x₀).2\n#align has_fderiv_at_integral_of_dominated_of_fderiv_le has_fderiv_at_integral_of_dominated_of_fderiv_le\n\n",
 "has_fderiv_at_integral_of_dominated_loc_of_lip'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr →L[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/-\nCopyright (c) 2021 Patrick Massot. All rights reserved.\nReleased under Apache 2.0 license as described in the file LICENSE.\nAuthors: Patrick Massot\n-/\n/-- Differentiation under integral of `x ↦ ∫ F x a` at a given point `x₀`, assuming `F x₀` is\nintegrable, `‖F x a - F x₀ a‖ ≤ bound a * ‖x - x₀‖` for `x` in a ball around `x₀` for ae `a` with\nintegrable Lipschitz bound `bound` (with a ball radius independent of `a`), and `F x` is\nae-measurable for `x` in the same ball. See `has_fderiv_at_integral_of_dominated_loc_of_lip` for a\nslightly less general but usually more useful version. -/\ntheorem has_fderiv_at_integral_of_dominated_loc_of_lip' {F : H → α → E} {F' : α → «expr →L[ ] » H 𝕜 E} {x₀ : H}\n    {bound : α → exprℝ} {ε : exprℝ} (ε_pos : 0 < ε) (hF_meas : ∀ x ∈ ball x₀ ε, ae_strongly_measurable (F x) μ)\n    (hF_int : integrable (F x₀) μ) (hF'_meas : ae_strongly_measurable F' μ)\n    (h_lipsch :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (∀ x ∈ ball x₀ ε, «expr‖ ‖» (F x a - F x₀ a) ≤ bound a * «expr‖ ‖» (x - x₀)))\n    (bound_integrable : integrable (bound : α → exprℝ) μ)\n    (h_diff :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (has_fderiv_at (fun x => F x a) (F' a) x₀)) :\n    integrable F' μ ∧\n      has_fderiv_at\n        (fun x =>\n          «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F x a) μ)\n        («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F' a) μ)\n        x₀ :=\n  by\n  have x₀_in : x₀ ∈ ball x₀ ε := mem_ball_self ε_pos\n  have nneg : ∀ x, 0 ≤ («expr‖ ‖» (x - x₀))⁻¹ := fun x => inv_nonneg.mpr (norm_nonneg _)\n  set b : α → exprℝ := fun a => |bound a|\n  have b_int : integrable b μ := bound_integrable.norm\n  have b_nonneg : ∀ a, 0 ≤ b a := fun a => abs_nonneg _\n  replace h_lipsch :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (∀ x ∈ ball x₀ ε, «expr‖ ‖» (F x a - F x₀ a) ≤ b a * «expr‖ ‖» (x - x₀))\n  exact h_lipsch.mono fun a ha x hx => (ha x hx).trans <| mul_le_mul_of_nonneg_right (le_abs_self _) (norm_nonneg _)\n  have hF_int' : ∀ x ∈ ball x₀ ε, integrable (F x) μ :=\n    by\n    intro x x_in\n    have :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        («expr‖ ‖» (F x₀ a - F x a) ≤ ε * b a) :=\n      by\n      simp only [norm_sub_rev (F x₀ _)]\n      refine' h_lipsch.mono fun a ha => (ha x x_in).trans _\n      rw [mul_comm ε]\n      rw [mem_ball, dist_eq_norm] at x_in\n      exact mul_le_mul_of_nonneg_left x_in.le (b_nonneg _)\n    exact integrable_of_norm_sub_le (hF_meas x x_in) hF_int (integrable.const_mul bound_integrable.norm ε) this\n  have hF'_int : integrable F' μ :=\n    haveI :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        («expr‖ ‖» (F' a) ≤ b a) :=\n      by\n      apply (h_diff.and h_lipsch).mono\n      rintro a ⟨ha_diff, ha_lip⟩\n      refine' ha_diff.le_of_lip' (b_nonneg a) (mem_of_superset (ball_mem_nhds _ ε_pos) <| ha_lip)\n    b_int.mono' hF'_meas this\n  refine' ⟨hF'_int, _⟩\n  have h_ball : ball x₀ ε ∈ (nhds) x₀ := ball_mem_nhds x₀ ε_pos\n  have :\n    «expr∀ᶠ in , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , »\" ((nhds) x₀)\n      ((«expr‖ ‖» (x - x₀))⁻¹ *\n          «expr‖ ‖»\n            («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F x a)\n                  μ -\n                «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n                  (F x₀ a) μ -\n              («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n                  (F' a) μ)\n                (x - x₀)) =\n        «expr‖ ‖»\n          («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n            («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a - F' a (x - x₀))) μ)) :=\n    by\n    apply mem_of_superset (ball_mem_nhds _ ε_pos)\n    intro x x_in\n    rw [Set.mem_setOf_eq, ← norm_smul_of_nonneg (nneg _), integral_smul, integral_sub, integral_sub, ←\n      continuous_linear_map.integral_apply hF'_int]\n    exacts[hF_int' x x_in, hF_int, (hF_int' x x_in).sub hF_int, hF'_int.apply_continuous_linear_map _]\n  rw [has_fderiv_at_iff_tendsto, tendsto_congr' this, ← tendsto_zero_iff_norm_tendsto_zero, ←\n    show\n      «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n          («expr • » («expr‖ ‖» (x₀ - x₀))⁻¹ (F x₀ a - F x₀ a - (F' a) (x₀ - x₀))) μ =\n        0\n      by simp]\n  apply tendsto_integral_filter_of_dominated_convergence\n  · filter_upwards [h_ball] with _ x_in\n    apply ae_strongly_measurable.const_smul\n    exact ((hF_meas _ x_in).sub (hF_meas _ x₀_in)).sub (hF'_meas.apply_continuous_linear_map _)\n  · apply mem_of_superset h_ball\n    intro x hx\n    apply (h_diff.and h_lipsch).mono\n    rintro a ⟨ha_deriv, ha_bound⟩\n    show «expr‖ ‖» («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a - F' a (x - x₀))) ≤ b a + «expr‖ ‖» (F' a)\n    replace ha_bound : «expr‖ ‖» (F x a - F x₀ a) ≤ b a * «expr‖ ‖» (x - x₀) := ha_bound x hx\n    calc\n      «expr‖ ‖» («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a - F' a (x - x₀))) =\n          «expr‖ ‖»\n            («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a) - «expr • » («expr‖ ‖» (x - x₀))⁻¹ (F' a (x - x₀))) :=\n        by rw [smul_sub]\n      _ ≤\n          «expr‖ ‖» («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a)) +\n            «expr‖ ‖» («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F' a (x - x₀))) :=\n        norm_sub_le _ _\n      _ = («expr‖ ‖» (x - x₀))⁻¹ * «expr‖ ‖» (F x a - F x₀ a) + («expr‖ ‖» (x - x₀))⁻¹ * «expr‖ ‖» (F' a (x - x₀)) := by\n        rw [norm_smul_of_nonneg, norm_smul_of_nonneg] <;> exact nneg _\n      _ ≤\n          («expr‖ ‖» (x - x₀))⁻¹ * (b a * «expr‖ ‖» (x - x₀)) +\n            («expr‖ ‖» (x - x₀))⁻¹ * («expr‖ ‖» (F' a) * «expr‖ ‖» (x - x₀)) :=\n        add_le_add _ _\n      _ ≤ b a + «expr‖ ‖» (F' a) := _\n      \n    exact mul_le_mul_of_nonneg_left ha_bound (nneg _)\n    apply mul_le_mul_of_nonneg_left ((F' a).le_op_norm _) (nneg _)\n    by_cases h : «expr‖ ‖» (x - x₀) = 0\n    · simpa [h] using add_nonneg (b_nonneg a) (norm_nonneg (F' a))\n    · field_simp [h]\n  · exact b_int.add hF'_int.norm\n  · apply h_diff.mono\n    intro a ha\n    suffices tendsto (fun x => «expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a - F' a (x - x₀))) ((nhds) x₀) ((nhds) 0)\n      by simpa\n    rw [tendsto_zero_iff_norm_tendsto_zero]\n    have :\n      (fun x => («expr‖ ‖» (x - x₀))⁻¹ * «expr‖ ‖» (F x a - F x₀ a - F' a (x - x₀))) = fun x =>\n        «expr‖ ‖» («expr • » («expr‖ ‖» (x - x₀))⁻¹ (F x a - F x₀ a - F' a (x - x₀))) :=\n      by\n      ext x\n      rw [norm_smul_of_nonneg (nneg _)]\n    rwa [has_fderiv_at_iff_tendsto, this] at ha\n#align has_fderiv_at_integral_of_dominated_loc_of_lip' has_fderiv_at_integral_of_dominated_loc_of_lip'\n\n",
 "has_fderiv_at_integral_of_dominated_loc_of_lip":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr →L[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/-- Differentiation under integral of `x ↦ ∫ F x a` at a given point `x₀`, assuming\n`F x₀` is integrable, `x ↦ F x a` is locally Lipschitz on a ball around `x₀` for ae `a`\n(with a ball radius independent of `a`) with integrable Lipschitz bound, and `F x` is ae-measurable\nfor `x` in a possibly smaller neighborhood of `x₀`. -/\ntheorem has_fderiv_at_integral_of_dominated_loc_of_lip {F : H → α → E} {F' : α → «expr →L[ ] » H 𝕜 E} {x₀ : H}\n    {bound : α → exprℝ} {ε : exprℝ} (ε_pos : 0 < ε)\n    (hF_meas :\n      «expr∀ᶠ in , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , »\"\n        ((nhds) x₀) (ae_strongly_measurable (F x) μ))\n    (hF_int : integrable (F x₀) μ) (hF'_meas : ae_strongly_measurable F' μ)\n    (h_lip :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (lipschitz_on_with (real.nnabs <| bound a) (fun x => F x a) (ball x₀ ε)))\n    (bound_integrable : integrable (bound : α → exprℝ) μ)\n    (h_diff :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (has_fderiv_at (fun x => F x a) (F' a) x₀)) :\n    integrable F' μ ∧\n      has_fderiv_at\n        (fun x =>\n          «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F x a) μ)\n        («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F' a) μ)\n        x₀ :=\n  by\n  obtain ⟨δ, δ_pos, hδ⟩ : ∃ δ > 0, ∀ x ∈ ball x₀ δ, ae_strongly_measurable (F x) μ ∧ x ∈ ball x₀ ε\n  exact eventually_nhds_iff_ball.mp (hF_meas.and (ball_mem_nhds x₀ ε_pos))\n  choose hδ_meas hδε using hδ\n  replace h_lip :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (∀ x ∈ ball x₀ δ, «expr‖ ‖» (F x a - F x₀ a) ≤ |bound a| * «expr‖ ‖» (x - x₀))\n  exact h_lip.mono fun a lip x hx => lip.norm_sub_le (hδε x hx) (mem_ball_self ε_pos)\n  replace bound_integrable := bound_integrable.norm\n  apply has_fderiv_at_integral_of_dominated_loc_of_lip' δ_pos <;> assumption\n#align has_fderiv_at_integral_of_dominated_loc_of_lip has_fderiv_at_integral_of_dominated_loc_of_lip\n\n",
 "has_deriv_at_integral_of_dominated_loc_of_lip":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr →L[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr →L[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/-- Derivative under integral of `x ↦ ∫ F x a` at a given point `x₀ : 𝕜`, `𝕜 = ℝ` or `𝕜 = ℂ`,\nassuming `F x₀` is integrable, `x ↦ F x a` is locally Lipschitz on a ball around `x₀` for ae `a`\n(with ball radius independent of `a`) with integrable Lipschitz bound, and `F x` is\nae-measurable for `x` in a possibly smaller neighborhood of `x₀`. -/\ntheorem has_deriv_at_integral_of_dominated_loc_of_lip {F : 𝕜 → α → E} {F' : α → E} {x₀ : 𝕜} {ε : exprℝ} (ε_pos : 0 < ε)\n    (hF_meas :\n      «expr∀ᶠ in , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , »\"\n        ((nhds) x₀) (ae_strongly_measurable (F x) μ))\n    (hF_int : integrable (F x₀) μ) (hF'_meas : ae_strongly_measurable F' μ) {bound : α → exprℝ}\n    (h_lipsch :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (lipschitz_on_with (real.nnabs <| bound a) (fun x => F x a) (ball x₀ ε)))\n    (bound_integrable : integrable (bound : α → exprℝ) μ)\n    (h_diff :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (has_deriv_at (fun x => F x a) (F' a) x₀)) :\n    integrable F' μ ∧\n      has_deriv_at\n        (fun x =>\n          «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F x a) μ)\n        («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F' a) μ)\n        x₀ :=\n  by\n  set L : «expr →L[ ] » E 𝕜 («expr →L[ ] » 𝕜 𝕜 E) := continuous_linear_map.smul_rightL 𝕜 𝕜 E 1\n  replace h_diff :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (has_fderiv_at (fun x => F x a) (L (F' a)) x₀) :=\n    h_diff.mono fun x hx => hx.has_fderiv_at\n  have hm : ae_strongly_measurable (L ∘ F') μ := L.continuous.comp_ae_strongly_measurable hF'_meas\n  cases' has_fderiv_at_integral_of_dominated_loc_of_lip ε_pos hF_meas hF_int hm h_lipsch bound_integrable h_diff with\n    hF'_int key\n  replace hF'_int : integrable F' μ\n  · rw [← integrable_norm_iff hm] at hF'_int\n    simpa only [L, (· ∘ ·), integrable_norm_iff, hF'_meas, one_mul, norm_one, continuous_linear_map.comp_apply,\n      continuous_linear_map.coe_restrict_scalarsL', continuous_linear_map.norm_restrict_scalars,\n      continuous_linear_map.norm_smul_rightL_apply] using hF'_int\n  refine' ⟨hF'_int, _⟩\n  simp_rw [has_deriv_at_iff_has_fderiv_at] at h_diff⊢\n  rwa [continuous_linear_map.integral_comp_comm _ hF'_int] at key\n  all_goals infer_instance\n#align has_deriv_at_integral_of_dominated_loc_of_lip has_deriv_at_integral_of_dominated_loc_of_lip\n\n",
 "has_deriv_at_integral_of_dominated_loc_of_deriv_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr‖ ‖» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/-- Derivative under integral of `x ↦ ∫ F x a` at a given point `x₀ : ℝ`, assuming\n`F x₀` is integrable, `x ↦ F x a` is differentiable on an interval around `x₀` for ae `a`\n(with interval radius independent of `a`) with derivative uniformly bounded by an integrable\nfunction, and `F x` is ae-measurable for `x` in a possibly smaller neighborhood of `x₀`. -/\ntheorem has_deriv_at_integral_of_dominated_loc_of_deriv_le {F : 𝕜 → α → E} {F' : 𝕜 → α → E} {x₀ : 𝕜} {ε : exprℝ}\n    (ε_pos : 0 < ε)\n    (hF_meas :\n      «expr∀ᶠ in , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , »\"\n        ((nhds) x₀) (ae_strongly_measurable (F x) μ))\n    (hF_int : integrable (F x₀) μ) (hF'_meas : ae_strongly_measurable (F' x₀) μ) {bound : α → exprℝ}\n    (h_bound :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (∀ x ∈ ball x₀ ε, «expr‖ ‖» (F' x a) ≤ bound a))\n    (bound_integrable : integrable bound μ)\n    (h_diff :\n      «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n        (∀ x ∈ ball x₀ ε, has_deriv_at (fun x => F x a) (F' x a) x)) :\n    integrable (F' x₀) μ ∧\n      has_deriv_at\n        (fun n =>\n          «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F n a) μ)\n        («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (F' x₀ a)\n          μ)\n        x₀ :=\n  by\n  have x₀_in : x₀ ∈ ball x₀ ε := mem_ball_self ε_pos\n  have diff_x₀ :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (has_deriv_at (fun x => F x a) (F' x₀ a) x₀) :=\n    h_diff.mono fun a ha => ha x₀ x₀_in\n  have :\n    «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\" μ\n      (lipschitz_on_with (real.nnabs (bound a)) (fun x : 𝕜 => F x a) (ball x₀ ε)) :=\n    by\n    apply (h_diff.and h_bound).mono\n    rintro a ⟨ha_deriv, ha_bound⟩\n    refine'\n      (convex_ball _ _).lipschitz_on_with_of_nnnorm_has_deriv_within_le\n        (fun x x_in => (ha_deriv x x_in).has_deriv_within_at) fun x x_in => _\n    rw [← nnreal.coe_le_coe, coe_nnnorm, real.coe_nnabs]\n    exact (ha_bound x x_in).trans (le_abs_self _)\n  exact has_deriv_at_integral_of_dominated_loc_of_lip ε_pos hF_meas hF_int hF'_meas this bound_integrable diff_x₀\n#align has_deriv_at_integral_of_dominated_loc_of_deriv_le has_deriv_at_integral_of_dominated_loc_of_deriv_le\n\n"}