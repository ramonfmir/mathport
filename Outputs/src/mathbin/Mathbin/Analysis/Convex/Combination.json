{"sum_mem":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\ntheorem convex.sum_mem (hs : convex R s) (h₀ : ∀ i ∈ t, 0 ≤ w i)\n    (h₁ : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i) = 1)\n    (hz : ∀ i ∈ t, z i ∈ s) :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t\n        («expr • » (w i) (z i)) ∈\n      s :=\n  by simpa only [h₁, center_mass, inv_one, one_smul] using hs.center_mass_mem h₀ (h₁.symm ▸ zero_lt_one) hz\n#align convex.sum_mem convex.sum_mem\n\n",
 "mk_mem_convex_hull_prod":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.product -/\ntheorem mk_mem_convex_hull_prod {t : set F} {x : E} {y : F} (hx : x ∈ convex_hull R s) (hy : y ∈ convex_hull R t) :\n    (x, y) ∈ convex_hull R (finset.product s t) :=\n  by\n  rw [convex_hull_eq] at hx hy⊢\n  obtain ⟨ι, a, w, S, hw, hw', hS, hSp⟩ := hx\n  obtain ⟨κ, b, v, T, hv, hv', hT, hTp⟩ := hy\n  have h_sum :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (finset.product a b)\n        (w i.fst * v i.snd) =\n      1 :=\n    by\n    rw [finset.sum_product, ← hw']\n    congr\n    ext i\n    have :\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" b (w i * v y) =\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" b (v y * w i) :=\n      by\n      congr\n      ext\n      simp [mul_comm]\n    rw [this, ← finset.sum_mul, hv']\n    simp\n  refine'\n    ⟨ι × κ, finset.product a b, fun p => w p.1 * v p.2, fun p => (S p.1, T p.2), fun p hp => _, h_sum, fun p hp => _, _⟩\n  · rw [mem_product] at hp\n    exact mul_nonneg (hw p.1 hp.1) (hv p.2 hp.2)\n  · rw [mem_product] at hp\n    exact ⟨hS p.1 hp.1, hT p.2 hp.2⟩\n  ext\n  · rw [← hSp, finset.center_mass_eq_of_sum_1 _ _ hw', finset.center_mass_eq_of_sum_1 _ _ h_sum]\n    simp_rw [prod.fst_sum, Prod.smul_mk]\n    rw [finset.sum_product]\n    congr\n    ext i\n    have :\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" b\n          («expr • » (w i * v j) (S i)) =\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" b\n          («expr • » (v j) («expr • » (w i) (S i))) :=\n      by\n      congr\n      ext\n      rw [mul_smul, smul_comm]\n    rw [this, ← finset.sum_smul, hv', one_smul]\n  · rw [← hTp, finset.center_mass_eq_of_sum_1 _ _ hv', finset.center_mass_eq_of_sum_1 _ _ h_sum]\n    simp_rw [prod.snd_sum, Prod.smul_mk]\n    rw [finset.sum_product, finset.sum_comm]\n    congr\n    ext j\n    simp_rw [mul_smul]\n    rw [← finset.sum_smul, hw', one_smul]\n#align mk_mem_convex_hull_prod mk_mem_convex_hull_prod\n\n",
 "mem_convex_hull":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem finset.mem_convex_hull {s : Finset E} {x : E} :\n    x ∈ convex_hull R (s : set E) ↔\n      ∃ (w : E → R)(hw₀ : ∀ y ∈ s, 0 ≤ w y)(hw₁ :\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s (w y) = 1),\n        s.center_mass w id = x :=\n  by rw [finset.convex_hull_eq, Set.mem_setOf_eq]\n#align finset.mem_convex_hull finset.mem_convex_hull\n\n",
 "mem_Icc_of_mem_std_simplex":
 "/-- All values of a function `f ∈ std_simplex 𝕜 ι` belong to `[0, 1]`. -/\ntheorem mem_Icc_of_mem_std_simplex (hf : f ∈ std_simplex R ι) (x) : f x ∈ Icc (0 : R) 1 :=\n  ⟨hf.1 x, hf.2 ▸ finset.single_le_sum (fun y hy => hf.1 y) (finset.mem_univ x)⟩\n#align mem_Icc_of_mem_std_simplex mem_Icc_of_mem_std_simplex\n\n",
 "inf_le_center_mass":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr ᵒᵈ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem inf_le_center_mass {s : Finset ι} {f : ι → α} {w : ι → R} (hw₀ : ∀ i ∈ s, 0 ≤ w i)\n    (hw₁ :\n      0 < finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s (w i)) :\n    s.inf'\n        (nonempty_of_ne_empty <| by\n          rintro rfl\n          simpa using hw₁)\n        f ≤\n      s.center_mass w f :=\n  @center_mass_le_sup R _ («expr ᵒᵈ» α) _ _ _ _ _ _ _ hw₀ hw₁\n#align inf_le_center_mass inf_le_center_mass\n\n",
 "finsum_mem":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finsum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finsum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finsum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finsum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/-- A version of `convex.sum_mem` for `finsum`s. If `s` is a convex set, `w : ι → R` is a family of\nnonnegative weights with sum one and `z : ι → E` is a family of elements of a module over `R` such\nthat `z i ∈ s` whenever `w i ≠ 0``, then the sum `∑ᶠ i, w i • z i` belongs to `s`. See also\n`partition_of_unity.finsum_smul_mem_convex`. -/\ntheorem convex.finsum_mem {ι : Sort _} {w : ι → R} {z : ι → E} {s : set E} (hs : convex R s) (h₀ : ∀ i, 0 ≤ w i)\n    (h₁ : finsum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finsum\" (w i) = 1)\n    (hz : ∀ i, w i ≠ 0 → z i ∈ s) :\n    finsum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finsum\" («expr • » (w i) (z i)) ∈\n      s :=\n  by\n  have hfin_w : (support (w ∘ plift.down)).finite := by\n    by_contra H\n    rw [finsum, dif_neg H] at h₁\n    exact zero_ne_one h₁\n  have hsub : support ((fun i => «expr • » (w i) (z i)) ∘ plift.down) ⊆ hfin_w.to_finset :=\n    (support_smul_subset_left _ _).trans hfin_w.coe_to_finset.ge\n  rw [finsum_eq_sum_plift_of_support_subset hsub]\n  refine' hs.sum_mem (fun _ _ => h₀ _) _ fun i hi => hz _ _\n  · rwa [finsum, dif_pos hfin_w] at h₁\n  · rwa [hfin_w.mem_to_finset] at hi\n#align convex.finsum_mem convex.finsum_mem\n\n",
 "convex_iff_sum_mem":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\ntheorem convex_iff_sum_mem :\n    convex R s ↔\n      ∀ (t : Finset E) (w : E → R),\n        (∀ i ∈ t, 0 ≤ w i) →\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i) = 1 →\n            (∀ x ∈ t, x ∈ s) →\n              finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t\n                  («expr • » (w x) x) ∈\n                s :=\n  by\n  refine' ⟨fun hs t w hw₀ hw₁ hts => hs.sum_mem hw₀ hw₁ hts, _⟩\n  intro h x hx y hy a b ha hb hab\n  by_cases h_cases : x = y\n  · rw [h_cases, ← add_smul, hab, one_smul]\n    exact hy\n  · convert h {x, y} (fun z => if z = y then b else a) _ _ _\n    · simp only [sum_pair h_cases, if_neg h_cases, if_pos rfl]\n    · simp_intro i hi\n      cases hi <;> subst i <;> simp [ha, hb, if_neg h_cases]\n    · simp only [sum_pair h_cases, if_neg h_cases, if_pos rfl, hab]\n    · simp_intro i hi\n      cases hi <;> subst i <;> simp [hx, hy, if_neg h_cases]\n#align convex_iff_sum_mem convex_iff_sum_mem\n\n",
 "convex_hull_sub":
 "theorem convex_hull_sub (s t : set E) : convex_hull R (s - t) = convex_hull R s - convex_hull R t := by\n  simp_rw [sub_eq_add_neg, convex_hull_add, convex_hull_neg]\n#align convex_hull_sub convex_hull_sub\n\n",
 "convex_hull_range_eq_exists_affine_combination":
 "theorem convex_hull_range_eq_exists_affine_combination (v : ι → E) :\n    convex_hull R (range v) =\n      { x | ∃ (s : Finset ι)(w : ι → R)(hw₀ : ∀ i ∈ s, 0 ≤ w i)(hw₁ : s.sum w = 1), s.affine_combination v w = x } :=\n  by\n  refine' subset.antisymm (convex_hull_min _ _) _\n  · intro x hx\n    obtain ⟨i, hi⟩ := set.mem_range.mp hx\n    refine' ⟨{i}, function.const ι (1 : R), by simp, by simp, by simp [hi]⟩\n  · rintro x ⟨s, w, hw₀, hw₁, rfl⟩ y ⟨s', w', hw₀', hw₁', rfl⟩ a b ha hb hab\n    let W : ι → R := fun i => (if i ∈ s then a * w i else 0) + if i ∈ s' then b * w' i else 0\n    have hW₁ : (s ∪ s').sum W = 1 := by\n      rw [sum_add_distrib, ← sum_subset (subset_union_left s s'), ← sum_subset (subset_union_right s s'),\n            sum_ite_of_true _ _ fun i hi => hi, sum_ite_of_true _ _ fun i hi => hi, ← mul_sum, ← mul_sum, hw₁, hw₁', ←\n            add_mul, hab, mul_one] <;>\n          intro i hi hi' <;>\n        simp [hi']\n    refine' ⟨s ∪ s', W, _, hW₁, _⟩\n    · rintro i -\n      by_cases hi : i ∈ s <;> by_cases hi' : i ∈ s' <;>\n        simp [hi, hi', add_nonneg, mul_nonneg ha (hw₀ i _), mul_nonneg hb (hw₀' i _)]\n    · simp_rw [affine_combination_eq_linear_combination (s ∪ s') v _ hW₁,\n        affine_combination_eq_linear_combination s v w hw₁, affine_combination_eq_linear_combination s' v w' hw₁',\n        add_smul, sum_add_distrib]\n      rw [← sum_subset (subset_union_left s s'), ← sum_subset (subset_union_right s s')]\n      · simp only [ite_smul, sum_ite_of_true _ _ fun i hi => hi, mul_smul, ← smul_sum]\n      · intro i hi hi'\n        simp [hi']\n      · intro i hi hi'\n        simp [hi']\n  · rintro x ⟨s, w, hw₀, hw₁, rfl⟩\n    exact affine_combination_mem_convex_hull hw₀ hw₁\n#align convex_hull_range_eq_exists_affine_combination convex_hull_range_eq_exists_affine_combination\n\n",
 "convex_hull_prod":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.product -/\n@[simp]\ntheorem convex_hull_prod (s : set E) (t : set F) :\n    convex_hull R (finset.product s t) = finset.product (convex_hull R s) (convex_hull R t) :=\n  Subset.antisymm\n      (convex_hull_min (prod_mono (subset_convex_hull _ _) <| subset_convex_hull _ _) <|\n        (convex_convex_hull _ _).prod <| convex_convex_hull _ _) <|\n    prod_subset_iff.2 fun x hx y => mk_mem_convex_hull_prod hx\n#align convex_hull_prod convex_hull_prod\n\n",
 "convex_hull_eq_union_convex_hull_finite_subsets":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n/-- A weak version of Carathéodory's theorem. -/\ntheorem convex_hull_eq_union_convex_hull_finite_subsets (s : set E) :\n    convex_hull R s =\n      «expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\"\n        (convex_hull R ↑t) :=\n  by\n  refine' subset.antisymm _ _\n  · rw [convex_hull_eq]\n    rintro x ⟨ι, t, w, z, hw₀, hw₁, hz, rfl⟩\n    simp only [mem_Union]\n    refine' ⟨t.image z, _, _⟩\n    · rw [coe_image, Set.image_subset_iff]\n      exact hz\n    · apply t.center_mass_mem_convex_hull hw₀\n      · simp only [hw₁, zero_lt_one]\n      · exact fun i hi => Finset.mem_coe.2 (Finset.mem_image_of_mem _ hi)\n  · exact Union_subset fun i => Union_subset convex_hull_mono\n#align convex_hull_eq_union_convex_hull_finite_subsets convex_hull_eq_union_convex_hull_finite_subsets\n\n",
 "convex_hull_eq_image":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr '' » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⇑ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum_univ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum_univ -/\n/-- The convex hull of a finite set is the image of the standard simplex in `s → ℝ`\nunder the linear map sending each function `w` to `∑ x in s, w x • x`.\n\nSince we have no sums over finite sets, we use sum over `@finset.univ _ hs.fintype`.\nThe map is defined in terms of operations on `(s → ℝ) →ₗ[ℝ] ℝ` so that later we will not need\nto prove that this map is linear. -/\ntheorem set.finite.convex_hull_eq_image {s : set E} (hs : s.finite) :\n    convex_hull R s =\n      haveI := hs.fintype\n      «expr '' »\n        («expr⇑ »\n          (finset.sum_univ \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum_univ\"\n            ((@linear_map.proj R s _ (fun i => R) _ _ x).smul_right x.1)))\n        (std_simplex R s) :=\n  by\n  rw [← convex_hull_basis_eq_std_simplex, ← linear_map.convex_hull_image, ← Set.range_comp, (· ∘ ·)]\n  apply congr_arg\n  convert subtype.range_coe.symm\n  ext x\n  simp [linear_map.sum_apply, ite_smul, Finset.filter_eq]\n#align set.finite.convex_hull_eq_image set.finite.convex_hull_eq_image\n\n",
 "convex_hull_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem set.finite.convex_hull_eq {s : set E} (hs : s.finite) :\n    convex_hull R s =\n      { x : E |\n        ∃ (w : E → R)(hw₀ : ∀ y ∈ s, 0 ≤ w y)(hw₁ :\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" hs.to_finset\n              (w y) =\n            1),\n          hs.to_finset.center_mass w id = x } :=\n  by simpa only [set.finite.coe_to_finset, set.finite.mem_to_finset, exists_prop] using hs.to_finset.convex_hull_eq\n#align set.finite.convex_hull_eq set.finite.convex_hull_eq\n\n",
 "convex_hull_basis_eq_std_simplex":
 "/-- `std_simplex 𝕜 ι` is the convex hull of the canonical basis in `ι → 𝕜`. -/\ntheorem convex_hull_basis_eq_std_simplex :\n    convex_hull R (range fun i j : ι => if i = j then (1 : R) else 0) = std_simplex R ι :=\n  by\n  refine' subset.antisymm (convex_hull_min _ (convex_std_simplex R ι)) _\n  · rintro _ ⟨i, rfl⟩\n    exact ite_eq_mem_std_simplex R i\n  · rintro w ⟨hw₀, hw₁⟩\n    rw [pi_eq_sum_univ w, ← finset.univ.center_mass_eq_of_sum_1 _ hw₁]\n    exact\n      finset.univ.center_mass_mem_convex_hull (fun i hi => hw₀ i) (hw₁.symm ▸ zero_lt_one) fun i hi => mem_range_self i\n#align convex_hull_basis_eq_std_simplex convex_hull_basis_eq_std_simplex\n\n",
 "convex_hull_affine_basis_eq_nonneg_barycentric":
 "/-- The convex hull of an affine basis is the intersection of the half-spaces defined by the\ncorresponding barycentric coordinates. -/\ntheorem convex_hull_affine_basis_eq_nonneg_barycentric {ι : Type _} (b : affine_basis ι R E) :\n    convex_hull R (range b.points) = { x | ∀ i, 0 ≤ b.coord i x } :=\n  by\n  rw [convex_hull_range_eq_exists_affine_combination]\n  ext x\n  constructor\n  · rintro ⟨s, w, hw₀, hw₁, rfl⟩ i\n    by_cases hi : i ∈ s\n    · rw [b.coord_apply_combination_of_mem hi hw₁]\n      exact hw₀ i hi\n    · rw [b.coord_apply_combination_of_not_mem hi hw₁]\n  · intro hx\n    have hx' : x ∈ affine_span R (range b.points) := by\n      rw [b.tot]\n      exact affine_subspace.mem_top R E x\n    obtain ⟨s, w, hw₁, rfl⟩ := (mem_affine_span_iff_eq_affine_combination R E).mp hx'\n    refine' ⟨s, w, _, hw₁, rfl⟩\n    intro i hi\n    specialize hx i\n    rw [b.coord_apply_combination_of_mem hi hw₁] at hx\n    exact hx\n#align convex_hull_affine_basis_eq_nonneg_barycentric convex_hull_affine_basis_eq_nonneg_barycentric\n\n",
 "convex_hull_add":
 "theorem convex_hull_add (s t : set E) : convex_hull R (s + t) = convex_hull R s + convex_hull R t := by\n  simp_rw [← image2_add, ← image_prod, is_linear_map.is_linear_map_add.convex_hull_image, convex_hull_prod]\n#align convex_hull_add convex_hull_add\n\n",
 "centroid_mem_convex_hull":
 "theorem finset.centroid_mem_convex_hull (s : Finset E) (hs : s.nonempty) :\n    s.centroid R id ∈ convex_hull R (s : set E) :=\n  by\n  rw [s.centroid_eq_center_mass hs]\n  apply s.center_mass_id_mem_convex_hull\n  · simp only [inv_nonneg, imp_true_iff, nat.cast_nonneg, finset.centroid_weights_apply]\n  · have hs_card : (s.card : R) ≠ 0 := by simp [finset.nonempty_iff_ne_empty.mp hs]\n    simp only [hs_card, finset.sum_const, nsmul_eq_mul, mul_inv_cancel, ne.def, not_false_iff,\n      finset.centroid_weights_apply, zero_lt_one]\n#align finset.centroid_mem_convex_hull finset.centroid_mem_convex_hull\n\n",
 "centroid_eq_center_mass":
 "/-- The centroid can be regarded as a center of mass. -/\n@[simp]\ntheorem finset.centroid_eq_center_mass (s : Finset ι) (hs : s.nonempty) (p : ι → E) :\n    s.centroid R p = s.center_mass (s.centroid_weights R) p :=\n  affine_combination_eq_center_mass (s.sum_centroid_weights_eq_one_of_nonempty R hs)\n#align finset.centroid_eq_center_mass finset.centroid_eq_center_mass\n\n",
 "center_mass_subset":
 "theorem finset.center_mass_subset {t' : Finset ι} (ht : t ⊆ t') (h : ∀ i ∈ t', i ∉ t → w i = 0) :\n    t.center_mass w z = t'.center_mass w z :=\n  by\n  rw [center_mass, sum_subset ht h, smul_sum, center_mass, smul_sum]\n  apply sum_subset ht\n  intro i hit' hit\n  rw [h i hit' hit, zero_smul, smul_zero]\n#align finset.center_mass_subset finset.center_mass_subset\n\n",
 "center_mass_smul":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\ntheorem finset.center_mass_smul : (t.center_mass w fun i => «expr • » c (z i)) = «expr • » c (t.center_mass w z) := by\n  simp only [finset.center_mass, finset.smul_sum, (mul_smul _ _ _).symm, mul_comm c, mul_assoc]\n#align finset.center_mass_smul finset.center_mass_smul\n\n",
 "center_mass_singleton":
 "theorem finset.center_mass_singleton (hw : w i ≠ 0) : ({i} : Finset ι).center_mass w z = z i := by\n  rw [center_mass, sum_singleton, sum_singleton, ← mul_smul, inv_mul_cancel hw, one_smul]\n#align finset.center_mass_singleton finset.center_mass_singleton\n\n",
 "center_mass_segment'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/-- A convex combination of two centers of mass is a center of mass as well. This version\ndeals with two different index types. -/\ntheorem finset.center_mass_segment' (s : Finset ι) (t : Finset ι') (ws : ι → R) (zs : ι → E) (wt : ι' → R) (zt : ι' → E)\n    (hws : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s (ws i) = 1)\n    (hwt : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (wt i) = 1)\n    (a b : R) (hab : a + b = 1) :\n    «expr • » a (s.center_mass ws zs) + «expr • » b (t.center_mass wt zt) =\n      (s.disj_sum t).center_mass (sum.elim (fun i => a * ws i) fun j => b * wt j) (sum.elim zs zt) :=\n  by\n  rw [s.center_mass_eq_of_sum_1 _ hws, t.center_mass_eq_of_sum_1 _ hwt, smul_sum, smul_sum, ← finset.sum_sum_elim,\n    finset.center_mass_eq_of_sum_1]\n  · congr with ⟨⟩ <;> simp only [sum.elim_inl, sum.elim_inr, mul_smul]\n  · rw [sum_sum_elim, ← mul_sum, ← mul_sum, hws, hwt, mul_one, mul_one, hab]\n#align finset.center_mass_segment' finset.center_mass_segment'\n\n",
 "center_mass_segment":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/-- A convex combination of two centers of mass is a center of mass as well. This version\nworks if two centers of mass share the set of original points. -/\ntheorem finset.center_mass_segment (s : Finset ι) (w₁ w₂ : ι → R) (z : ι → E)\n    (hw₁ : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s (w₁ i) = 1)\n    (hw₂ : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s (w₂ i) = 1)\n    (a b : R) (hab : a + b = 1) :\n    «expr • » a (s.center_mass w₁ z) + «expr • » b (s.center_mass w₂ z) =\n      s.center_mass (fun i => a * w₁ i + b * w₂ i) z :=\n  by\n  have hw :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s\n        (a * w₁ i + b * w₂ i) =\n      1 :=\n    by simp only [mul_sum.symm, sum_add_distrib, mul_one, *]\n  simp only [finset.center_mass_eq_of_sum_1, smul_sum, sum_add_distrib, add_smul, mul_smul, *]\n#align finset.center_mass_segment finset.center_mass_segment\n\n",
 "center_mass_pair":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\ntheorem finset.center_mass_pair (hne : i ≠ j) :\n    ({i, j} : Finset ι).center_mass w z = «expr • » (w i / (w i + w j)) (z i) + «expr • » (w j / (w i + w j)) (z j) :=\n  by simp only [center_mass, sum_pair hne, smul_add, (mul_smul _ _ _).symm, div_eq_inv_mul]\n#align finset.center_mass_pair finset.center_mass_pair\n\n",
 "center_mass_mem_convex_hull":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem finset.center_mass_mem_convex_hull (t : Finset ι) {w : ι → R} (hw₀ : ∀ i ∈ t, 0 ≤ w i)\n    (hws : 0 < finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i))\n    {z : ι → E} (hz : ∀ i ∈ t, z i ∈ s) : t.center_mass w z ∈ convex_hull R s :=\n  (convex_convex_hull R s).center_mass_mem hw₀ hws fun i hi => subset_convex_hull R s <| hz i hi\n#align finset.center_mass_mem_convex_hull finset.center_mass_mem_convex_hull\n\n",
 "center_mass_mem":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/-- The center of mass of a finite subset of a convex set belongs to the set\nprovided that all weights are non-negative, and the total weight is positive. -/\ntheorem convex.center_mass_mem (hs : convex R s) :\n    (∀ i ∈ t, 0 ≤ w i) →\n      0 < finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i) →\n        (∀ i ∈ t, z i ∈ s) → t.center_mass w z ∈ s :=\n  by\n  induction' t using Finset.induction with i t hi ht\n  · simp [lt_irrefl]\n  intro h₀ hpos hmem\n  have zi : z i ∈ s := hmem _ (mem_insert_self _ _)\n  have hs₀ : ∀ j ∈ t, 0 ≤ w j := fun j hj => h₀ j <| mem_insert_of_mem hj\n  rw [sum_insert hi] at hpos\n  by_cases hsum_t :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w j) = 0\n  · have ws : ∀ j ∈ t, w j = 0 := (sum_eq_zero_iff_of_nonneg hs₀).1 hsum_t\n    have wz :\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t\n          («expr • » (w j) (z j)) =\n        0 :=\n      sum_eq_zero fun i hi => by simp [ws i hi]\n    simp only [center_mass, sum_insert hi, wz, hsum_t, add_zero]\n    simp only [hsum_t, add_zero] at hpos\n    rw [← mul_smul, inv_mul_cancel (ne_of_gt hpos), one_smul]\n    exact zi\n  · rw [finset.center_mass_insert _ _ _ hi hsum_t]\n    refine' convex_iff_div.1 hs zi (ht hs₀ _ _) _ (sum_nonneg hs₀) hpos\n    · exact lt_of_le_of_ne (sum_nonneg hs₀) (ne.symm hsum_t)\n    · intro j hj\n      exact hmem j (mem_insert_of_mem hj)\n    · exact h₀ _ (mem_insert_self _ _)\n#align convex.center_mass_mem convex.center_mass_mem\n\n",
 "center_mass_le_sup":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem center_mass_le_sup {s : Finset ι} {f : ι → α} {w : ι → R} (hw₀ : ∀ i ∈ s, 0 ≤ w i)\n    (hw₁ :\n      0 < finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" s (w i)) :\n    s.center_mass w f ≤\n      s.sup'\n        (nonempty_of_ne_empty <| by\n          rintro rfl\n          simpa using hw₁)\n        f :=\n  by\n  rw [center_mass, inv_smul_le_iff hw₁, sum_smul]\n  exact sum_le_sum fun i hi => smul_le_smul_of_nonneg (le_sup' _ hi) <| hw₀ i hi\n  infer_instance\n#align center_mass_le_sup center_mass_le_sup\n\n",
 "center_mass_ite_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem finset.center_mass_ite_eq (hi : i ∈ t) : t.center_mass (fun j => if i = j then (1 : R) else 0) z = z i :=\n  by\n  rw [finset.center_mass_eq_of_sum_1]\n  trans\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t\n      (if i = j then z i else 0)\n  · congr with i\n    split_ifs\n    exacts[h ▸ one_smul _ _, zero_smul _ _]\n  · rw [sum_ite_eq, if_pos hi]\n  · rw [sum_ite_eq, if_pos hi]\n#align finset.center_mass_ite_eq finset.center_mass_ite_eq\n\n",
 "center_mass_insert":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem finset.center_mass_insert (ha : i ∉ t)\n    (hw : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w j) ≠ 0) :\n    (insert i t).center_mass w z =\n      «expr • »\n          (w i /\n            (w i +\n              finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w j)))\n          (z i) +\n        «expr • »\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w j) /\n            (w i +\n              finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w j)))\n          (t.center_mass w z) :=\n  by\n  simp only [center_mass, sum_insert ha, smul_add, (mul_smul _ _ _).symm, ← div_eq_inv_mul]\n  congr 2\n  rw [div_mul_eq_mul_div, mul_inv_cancel hw, one_div]\n#align finset.center_mass_insert finset.center_mass_insert\n\n",
 "center_mass_id_mem_convex_hull":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/-- A refinement of `finset.center_mass_mem_convex_hull` when the indexed family is a `finset` of\nthe space. -/\ntheorem finset.center_mass_id_mem_convex_hull (t : Finset E) {w : E → R} (hw₀ : ∀ i ∈ t, 0 ≤ w i)\n    (hws :\n      0 < finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i)) :\n    t.center_mass w id ∈ convex_hull R (t : set E) :=\n  t.center_mass_mem_convex_hull hw₀ hws fun i => mem_coe.2\n#align finset.center_mass_id_mem_convex_hull finset.center_mass_id_mem_convex_hull\n\n",
 "center_mass_filter_ne_zero":
 "theorem finset.center_mass_filter_ne_zero : (t.filter fun i => w i ≠ 0).center_mass w z = t.center_mass w z :=\n  finset.center_mass_subset z (filter_subset _ _) fun i hit hit' => by\n    simpa only [hit, mem_filter, true_and_iff, ne.def, not_not] using hit'\n#align finset.center_mass_filter_ne_zero finset.center_mass_filter_ne_zero\n\n",
 "center_mass_eq_of_sum_1":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\ntheorem finset.center_mass_eq_of_sum_1\n    (hw : finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i) = 1) :\n    t.center_mass w z =\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t\n        («expr • » (w i) (z i)) :=\n  by simp only [finset.center_mass, hw, inv_one, one_smul]\n#align finset.center_mass_eq_of_sum_1 finset.center_mass_eq_of_sum_1\n\n",
 "center_mass_empty":
 "/-\nCopyright (c) 2019 Yury Kudriashov. All rights reserved.\nReleased under Apache 2.0 license as described in the file LICENSE.\nAuthors: Yury Kudriashov\n-/\ntheorem finset.center_mass_empty : (∅ : Finset ι).center_mass w z = 0 := by\n  simp only [center_mass, sum_empty, smul_zero]\n#align finset.center_mass_empty finset.center_mass_empty\n\n",
 "affine_combination_mem_convex_hull":
 "theorem affine_combination_mem_convex_hull {s : Finset ι} {v : ι → E} {w : ι → R} (hw₀ : ∀ i ∈ s, 0 ≤ w i)\n    (hw₁ : s.sum w = 1) : s.affine_combination v w ∈ convex_hull R (range v) :=\n  by\n  rw [affine_combination_eq_center_mass hw₁]\n  apply s.center_mass_mem_convex_hull hw₀\n  · simp [hw₁]\n  · simp\n#align affine_combination_mem_convex_hull affine_combination_mem_convex_hull\n\n",
 "affine_combination_eq_center_mass":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem affine_combination_eq_center_mass {ι : Type _} {t : Finset ι} {p : ι → E} {w : ι → R}\n    (hw₂ :\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" t (w i) = 1) :\n    affine_combination t p w = center_mass t w p :=\n  by\n  rw [affine_combination_eq_weighted_vsub_of_point_vadd_of_sum_eq_one _ w _ hw₂ (0 : E),\n    finset.weighted_vsub_of_point_apply, vadd_eq_add, add_zero, t.center_mass_eq_of_sum_1 _ hw₂]\n  simp_rw [vsub_eq_sub, sub_zero]\n#align affine_combination_eq_center_mass affine_combination_eq_center_mass\n\n"}