{"subset_convex_join_right":
 "theorem subset_convex_join_right (h : s.nonempty) : t ⊆ convex_join 𝕜 s t := fun y hy =>\n  let ⟨x, hx⟩ := h\n  segment_subset_convex_join hx hy <| right_mem_segment _ _ _\n#align subset_convex_join_right subset_convex_join_right\n\n",
 "subset_convex_join_left":
 "theorem subset_convex_join_left (h : t.nonempty) : s ⊆ convex_join 𝕜 s t := fun x hx =>\n  let ⟨y, hy⟩ := h\n  segment_subset_convex_join hx hy <| left_mem_segment _ _ _\n#align subset_convex_join_left subset_convex_join_left\n\n",
 "segment_subset_convex_join":
 "theorem segment_subset_convex_join (hx : x ∈ s) (hy : y ∈ t) : segment 𝕜 x y ⊆ convex_join 𝕜 s t :=\n  (subset_unionᵢ₂ y hy).trans (subset_unionᵢ₂ x hx)\n#align segment_subset_convex_join segment_subset_convex_join\n\n",
 "mem_convex_join":
 "/-\nCopyright (c) 2022 Yaël Dillies. All rights reserved.\nReleased under Apache 2.0 license as described in the file LICENSE.\nAuthors: Yaël Dillies\n-/\ntheorem mem_convex_join : x ∈ convex_join 𝕜 s t ↔ ∃ a ∈ s, ∃ b ∈ t, x ∈ segment 𝕜 a b := by simp [convex_join]\n#align mem_convex_join mem_convex_join\n\n",
 "convex_join_union_right":
 "@[simp]\ntheorem convex_join_union_right (s t₁ t₂ : set E) :\n    convex_join 𝕜 s (t₁ ∪ t₂) = convex_join 𝕜 s t₁ ∪ convex_join 𝕜 s t₂ := by\n  simp_rw [convex_join, mem_union, Union_or, Union_union_distrib]\n#align convex_join_union_right convex_join_union_right\n\n",
 "convex_join_union_left":
 "@[simp]\ntheorem convex_join_union_left (s₁ s₂ t : set E) :\n    convex_join 𝕜 (s₁ ∪ s₂) t = convex_join 𝕜 s₁ t ∪ convex_join 𝕜 s₂ t := by\n  simp_rw [convex_join, mem_union, Union_or, Union_union_distrib]\n#align convex_join_union_left convex_join_union_left\n\n",
 "convex_join_subset_convex_hull":
 "theorem convex_join_subset_convex_hull (s t : set E) : convex_join 𝕜 s t ⊆ convex_hull 𝕜 (s ∪ t) :=\n  convex_join_subset ((subset_union_left _ _).trans <| subset_convex_hull _ _)\n      ((subset_union_right _ _).trans <| subset_convex_hull _ _) <|\n    convex_convex_hull _ _\n#align convex_join_subset_convex_hull convex_join_subset_convex_hull\n\n",
 "convex_join_subset":
 "theorem convex_join_subset (hs : s ⊆ u) (ht : t ⊆ u) (hu : convex 𝕜 u) : convex_join 𝕜 s t ⊆ u :=\n  Union₂_subset fun x hx => Union₂_subset fun y hy => hu.segment_subset (hs hx) (ht hy)\n#align convex_join_subset convex_join_subset\n\n",
 "convex_join_singletons":
 "@[simp]\ntheorem convex_join_singletons (x : E) : convex_join 𝕜 {x} {y} = segment 𝕜 x y := by simp [convex_join]\n#align convex_join_singletons convex_join_singletons\n\n",
 "convex_join_singleton_segment":
 "theorem convex_join_singleton_segment (a b c : E) : convex_join 𝕜 {a} (segment 𝕜 b c) = convex_hull 𝕜 {a, b, c} := by\n  rw [← segment_same 𝕜, convex_join_segments, insert_idem]\n#align convex_join_singleton_segment convex_join_singleton_segment\n\n",
 "convex_join_singleton_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n@[simp]\ntheorem convex_join_singleton_right (s : set E) (y : E) :\n    convex_join 𝕜 s {y} =\n      «expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\" (segment 𝕜 x y) :=\n  by simp [convex_join]\n#align convex_join_singleton_right convex_join_singleton_right\n\n",
 "convex_join_singleton_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n@[simp]\ntheorem convex_join_singleton_left (t : set E) (x : E) :\n    convex_join 𝕜 {x} t =\n      «expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\" (segment 𝕜 x y) :=\n  by simp [convex_join]\n#align convex_join_singleton_left convex_join_singleton_left\n\n",
 "convex_join_segments":
 "theorem convex_join_segments (a b c d : E) :\n    convex_join 𝕜 (segment 𝕜 a b) (segment 𝕜 c d) = convex_hull 𝕜 {a, b, c, d} := by\n  simp only [convex_hull_insert, insert_nonempty, singleton_nonempty, convex_hull_pair, ← convex_join_assoc,\n    convex_join_singletons]\n#align convex_join_segments convex_join_segments\n\n",
 "convex_join_segment_singleton":
 "theorem convex_join_segment_singleton (a b c : E) : convex_join 𝕜 (segment 𝕜 a b) {c} = convex_hull 𝕜 {a, b, c} := by\n  rw [← pair_eq_singleton, ← convex_join_segments, segment_same, pair_eq_singleton]\n#align convex_join_segment_singleton convex_join_segment_singleton\n\n",
 "convex_join_right_comm":
 "theorem convex_join_right_comm (s t u : set E) :\n    convex_join 𝕜 (convex_join 𝕜 s t) u = convex_join 𝕜 (convex_join 𝕜 s u) t := by\n  simp_rw [convex_join_assoc, convex_join_comm]\n#align convex_join_right_comm convex_join_right_comm\n\n",
 "convex_join_mono_right":
 "theorem convex_join_mono_right (ht : t₁ ⊆ t₂) : convex_join 𝕜 s t₁ ⊆ convex_join 𝕜 s t₂ :=\n  convex_join_mono Subset.rfl ht\n#align convex_join_mono_right convex_join_mono_right\n\n",
 "convex_join_mono_left":
 "theorem convex_join_mono_left (hs : s₁ ⊆ s₂) : convex_join 𝕜 s₁ t ⊆ convex_join 𝕜 s₂ t :=\n  convex_join_mono hs Subset.rfl\n#align convex_join_mono_left convex_join_mono_left\n\n",
 "convex_join_mono":
 "theorem convex_join_mono (hs : s₁ ⊆ s₂) (ht : t₁ ⊆ t₂) : convex_join 𝕜 s₁ t₁ ⊆ convex_join 𝕜 s₂ t₂ :=\n  bunionᵢ_mono hs fun x hx => bunionᵢ_mono ht fun y hy => Subset.rfl\n#align convex_join_mono convex_join_mono\n\n",
 "convex_join_left_comm":
 "theorem convex_join_left_comm (s t u : set E) :\n    convex_join 𝕜 s (convex_join 𝕜 t u) = convex_join 𝕜 t (convex_join 𝕜 s u) := by\n  simp_rw [← convex_join_assoc, convex_join_comm]\n#align convex_join_left_comm convex_join_left_comm\n\n",
 "convex_join_empty_right":
 "@[simp]\ntheorem convex_join_empty_right (s : set E) : convex_join 𝕜 s ∅ = ∅ := by simp [convex_join]\n#align convex_join_empty_right convex_join_empty_right\n\n",
 "convex_join_empty_left":
 "@[simp]\ntheorem convex_join_empty_left (t : set E) : convex_join 𝕜 ∅ t = ∅ := by simp [convex_join]\n#align convex_join_empty_left convex_join_empty_left\n\n",
 "convex_join_convex_join_convex_join_comm":
 "theorem convex_join_convex_join_convex_join_comm (s t u v : set E) :\n    convex_join 𝕜 (convex_join 𝕜 s t) (convex_join 𝕜 u v) = convex_join 𝕜 (convex_join 𝕜 s u) (convex_join 𝕜 t v) := by\n  simp_rw [← convex_join_assoc, convex_join_right_comm]\n#align convex_join_convex_join_convex_join_comm convex_join_convex_join_convex_join_comm\n\n",
 "convex_join_comm":
 "theorem convex_join_comm (s t : set E) : convex_join 𝕜 s t = convex_join 𝕜 t s :=\n  (unionᵢ₂_comm _).trans <| by simp_rw [convex_join, segment_symm]\n#align convex_join_comm convex_join_comm\n\n",
 "convex_join_assoc_aux":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\ntheorem convex_join_assoc_aux (s t u : set E) :\n    convex_join 𝕜 (convex_join 𝕜 s t) u ⊆ convex_join 𝕜 s (convex_join 𝕜 t u) :=\n  by\n  simp_rw [subset_def, mem_convex_join]\n  rintro _ ⟨z, ⟨x, hx, y, hy, a₁, b₁, ha₁, hb₁, hab₁, rfl⟩, z, hz, a₂, b₂, ha₂, hb₂, hab₂, rfl⟩\n  obtain rfl | hb₂ := hb₂.eq_or_lt\n  · refine' ⟨x, hx, y, ⟨y, hy, z, hz, left_mem_segment _ _ _⟩, a₁, b₁, ha₁, hb₁, hab₁, _⟩\n    rw [add_zero] at hab₂\n    rw [hab₂, one_smul, zero_smul, add_zero]\n  have ha₂b₁ : 0 ≤ a₂ * b₁ := mul_nonneg ha₂ hb₁\n  have hab : 0 < a₂ * b₁ + b₂ := add_pos_of_nonneg_of_pos ha₂b₁ hb₂\n  refine'\n    ⟨x, hx, «expr • » (a₂ * b₁ / (a₂ * b₁ + b₂)) y + «expr • » (b₂ / (a₂ * b₁ + b₂)) z,\n      ⟨y, hy, z, hz, _, _, _, _, _, rfl⟩, a₂ * a₁, a₂ * b₁ + b₂, mul_nonneg ha₂ ha₁, hab.le, _, _⟩\n  · exact div_nonneg ha₂b₁ hab.le\n  · exact div_nonneg hb₂.le hab.le\n  · rw [← add_div, div_self hab.ne']\n  · rw [← add_assoc, ← mul_add, hab₁, mul_one, hab₂]\n  · simp_rw [smul_add, ← mul_smul, mul_div_cancel' _ hab.ne', add_assoc]\n#align convex_join_assoc_aux convex_join_assoc_aux\n\n",
 "convex_join_assoc":
 "theorem convex_join_assoc (s t u : set E) : convex_join 𝕜 (convex_join 𝕜 s t) u = convex_join 𝕜 s (convex_join 𝕜 t u) :=\n  by\n  refine' (convex_join_assoc_aux _ _ _).antisymm _\n  simp_rw [convex_join_comm s, convex_join_comm _ u]\n  exact convex_join_assoc_aux _ _ _\n#align convex_join_assoc convex_join_assoc\n\n",
 "convex_join_Union_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n@[simp]\ntheorem convex_join_Union_right (s : set E) (t : ι → set E) :\n    convex_join 𝕜 s\n        («expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\" (t i)) =\n      «expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\"\n        (convex_join 𝕜 s (t i)) :=\n  by simp_rw [convex_join_comm s, convex_join_Union_left]\n#align convex_join_Union_right convex_join_Union_right\n\n",
 "convex_join_Union_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n@[simp]\ntheorem convex_join_Union_left (s : ι → set E) (t : set E) :\n    convex_join 𝕜\n        («expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\" (s i)) t =\n      «expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\"\n        (convex_join 𝕜 (s i) t) :=\n  by\n  simp_rw [convex_join, mem_Union, Union_exists]\n  exact Union_comm _\n#align convex_join_Union_left convex_join_Union_left\n\n",
 "convex_join":
 "protected theorem convex.convex_join (hs : convex 𝕜 s) (ht : convex 𝕜 t) : convex 𝕜 (convex_join 𝕜 s t) :=\n  by\n  rw [convex_iff_segment_subset] at ht hs⊢\n  simp_rw [mem_convex_join]\n  rintro x ⟨xa, hxa, xb, hxb, hx⟩ y ⟨ya, hya, yb, hyb, hy⟩\n  refine' (segment_subset_convex_join hx hy).trans _\n  have triv : ({xa, xb, ya, yb} : set E) = {xa, ya, xb, yb} := by simp only [Set.insert_comm]\n  rw [convex_join_segments, triv, ← convex_join_segments]\n  exact convex_join_mono (hs hxa hya) (ht hxb hyb)\n#align convex.convex_join convex.convex_join\n\n",
 "convex_hull_union":
 "theorem convex_hull_union (hs : s.nonempty) (ht : t.nonempty) :\n    convex_hull 𝕜 (s ∪ t) = convex_join 𝕜 (convex_hull 𝕜 s) (convex_hull 𝕜 t) :=\n  by\n  rw [← convex_hull_convex_hull_union_left, ← convex_hull_convex_hull_union_right]\n  exact (convex_convex_hull 𝕜 s).convex_hull_union (convex_convex_hull 𝕜 t) hs.convex_hull ht.convex_hull\n#align convex_hull_union convex_hull_union\n\n",
 "convex_hull_insert":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr • » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem convex_hull_insert (hs : s.nonempty) : convex_hull 𝕜 (insert x s) = convex_join 𝕜 {x} (convex_hull 𝕜 s) := by\n  classical\n    refine'\n      (convex_join_subset ((singleton_subset_iff.2 <| mem_insert _ _).trans <| subset_convex_hull _ _)\n              (convex_hull_mono <| subset_insert _ _) <|\n            convex_convex_hull _ _).antisymm'\n        fun x hx => _\n    rw [convex_hull_eq] at hx\n    obtain ⟨ι, t, w, z, hw₀, hw₁, hz, rfl⟩ := hx\n    have :\n      «expr • »\n            (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (t.filter fun i => z i = x) (w i))\n            x +\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (t.filter fun i => z i ≠ x) («expr • » (w i) (z i)) =\n        t.center_mass w z :=\n      by\n      rw [finset.center_mass_eq_of_sum_1 _ _ hw₁, finset.sum_smul]\n      convert finset.sum_filter_add_sum_filter_not _ _ («expr • » w z) using 2\n      refine' finset.sum_congr rfl fun i hi => _\n      rw [Pi.smul_apply', (Finset.mem_filter.1 hi).2]\n    rw [← this]\n    have hw₀' : ∀ i ∈ t.filter fun i => z i ≠ x, 0 ≤ w i := fun i hi => hw₀ _ <| Finset.filter_subset _ _ hi\n    obtain hw | hw := (finset.sum_nonneg hw₀').eq_or_gt\n    · rw [← finset.sum_filter_add_sum_filter_not _ fun i => z i = x, hw, add_zero] at hw₁\n      rw [hw₁, one_smul, finset.sum_eq_zero, add_zero]\n      · exact subset_convex_join_left hs.convex_hull (mem_singleton _)\n      simp_rw [finset.sum_eq_zero_iff_of_nonneg hw₀'] at hw\n      rintro i hi\n      rw [hw _ hi, zero_smul]\n    refine'\n      mem_convex_join.2\n        ⟨x, mem_singleton _, (t.filter fun i => z i ≠ x).center_mass w z,\n          finset.center_mass_mem_convex_hull _ hw₀' hw fun i hi => _,\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (t.filter fun i => z i = x) (w i),\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (t.filter fun i => z i ≠ x) (w i),\n          finset.sum_nonneg fun i hi => hw₀ _ <| Finset.filter_subset _ _ hi, finset.sum_nonneg hw₀', _, _⟩\n    · rw [Finset.mem_filter] at hi\n      exact mem_of_mem_insert_of_ne (hz _ hi.1) hi.2\n    · rw [finset.sum_filter_add_sum_filter_not, hw₁]\n    · rw [finset.center_mass, smul_inv_smul₀ hw.ne', finset.sum_smul]\n#align convex_hull_insert convex_hull_insert\n\n"}