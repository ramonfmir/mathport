{"zero_convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n@[simp]\ntheorem zero_convolution : convolution 0 L Î¼ g = 0 := by\n  ext\n  simp_rw [convolution_def, Pi.zero_apply, L.map_zeroâ‚‚, integral_zero]\n#align zero_convolution zero_convolution\n\n",
 "support_convolution_subset_swap":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem support_convolution_subset_swap : support (convolution f L Î¼ g) âŠ† support g + support f :=\n  by\n  intro x h2x\n  by_contra hx\n  apply h2x\n  simp_rw [Set.mem_add, not_exists, not_and_or, nmem_support] at hx\n  rw [convolution_def]\n  convert integral_zero G F\n  ext t\n  rcases hx (x - t) t with (h | h | h)\n  Â· rw [h, (L _).map_zero]\n  Â· rw [h, L.map_zeroâ‚‚]\n  Â· exact (h <| sub_add_cancel x t).elim\n#align support_convolution_subset_swap support_convolution_subset_swap\n\n",
 "support_convolution_subset":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem support_convolution_subset : support (convolution f L Î¼ g) âŠ† support f + support g :=\n  (support_convolution_subset_swap L).trans (add_comm _ _).subset\n#align support_convolution_subset support_convolution_subset\n\n",
 "smul_convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem smul_convolution [SMulCommClass (exprâ„) ğ•œ F] {y : ğ•œ} :\n    convolution (Â«expr â€¢ Â» y f) L Î¼ g = Â«expr â€¢ Â» y (convolution f L Î¼ g) :=\n  by\n  ext\n  simp only [Pi.smul_apply, convolution_def, â† integral_smul, L.map_smulâ‚‚]\n#align smul_convolution smul_convolution\n\n",
 "pos_convolution_eq_convolution_indicator":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem pos_convolution_eq_convolution_indicator (f : exprâ„ â†’ E) (g : exprâ„ â†’ E')\n    (L : Â«expr â†’L[ ] Â» E (exprâ„) (Â«expr â†’L[ ] Â» E' (exprâ„) F))\n    (Î½ : measure (exprâ„) := by exact measure_theory.measure_space.volume) [NoAtoms Î½] :\n    pos_convolution f g L Î½ = convolution (indicator (Ioi 0) f) (indicator (Ioi 0) g) L Î½ :=\n  by\n  ext1 x\n  rw [convolution, pos_convolution, indicator]\n  split_ifs\n  Â· rw [interval_integral.integral_of_le (le_of_lt h), integral_Ioc_eq_integral_Ioo, â†\n      integral_indicator (measurable_set_Ioo : MeasurableSet (Ioo 0 x))]\n    congr 1 with t : 1\n    have : t â‰¤ 0 âˆ¨ t âˆˆ Ioo 0 x âˆ¨ x â‰¤ t := by\n      rcases le_or_lt t 0 with (h | h)\n      Â· exact or.inl h\n      Â· rcases lt_or_le t x with (h' | h')\n        exacts[or.inr (or.inl âŸ¨h, h'âŸ©), or.inr (or.inr h')]\n    rcases this with (ht | ht | ht)\n    Â·\n      rw [indicator_of_not_mem (not_mem_Ioo_of_le ht), indicator_of_not_mem (not_mem_Ioi.mpr ht),\n        ContinuousLinearMap.map_zero, ContinuousLinearMap.zero_apply]\n    Â· rw [indicator_of_mem ht, indicator_of_mem (mem_Ioi.mpr ht.1), indicator_of_mem (mem_Ioi.mpr <| sub_pos.mpr ht.2)]\n    Â·\n      rw [indicator_of_not_mem (not_mem_Ioo_of_ge ht), indicator_of_not_mem (not_mem_Ioi.mpr (sub_nonpos_of_le ht)),\n        ContinuousLinearMap.map_zero]\n  Â· convert(integral_zero (exprâ„) F).symm\n    ext1 t\n    by_cases ht : 0 < t\n    Â· rw [indicator_of_not_mem (_ : x - t âˆ‰ Ioi 0), ContinuousLinearMap.map_zero]\n      rw [not_mem_Ioi] at hâŠ¢\n      exact sub_nonpos.mpr (h.trans ht.le)\n    Â· rw [indicator_of_not_mem (mem_Ioi.not.mpr ht), ContinuousLinearMap.map_zero, ContinuousLinearMap.zero_apply]\n#align pos_convolution_eq_convolution_indicator pos_convolution_eq_convolution_indicator\n\n",
 "of_norm'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/-- If `â€–fâ€– *[Î¼] â€–gâ€–` exists, then `f *[L, Î¼] g` exists. -/\ntheorem convolution_exists_at.of_norm' {xâ‚€ : G}\n    (h : convolution_exists_at (fun x => Â«exprâ€– â€–Â» (f x)) (fun x => Â«exprâ€– â€–Â» (g x)) xâ‚€ (mul (exprâ„) (exprâ„)) Î¼)\n    (hmf : ae_strongly_measurable f Î¼) (hmg : ae_strongly_measurable g <| map (fun t => xâ‚€ - t) Î¼) :\n    convolution_exists_at f g xâ‚€ L Î¼ :=\n  by\n  refine' (h.const_mul (Â«exprâ€– â€–Â» L)).mono' (hmf.convolution_integrand_snd' L hmg) (eventually_of_forall fun x => _)\n  rw [mul_apply', â† mul_assoc]\n  apply L.le_op_normâ‚‚\n#align convolution_exists_at.of_norm' convolution_exists_at.of_norm'\n\n",
 "of_norm":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/-- If `â€–fâ€– *[Î¼] â€–gâ€–` exists, then `f *[L, Î¼] g` exists. -/\ntheorem convolution_exists_at.of_norm {xâ‚€ : G}\n    (h : convolution_exists_at (fun x => Â«exprâ€– â€–Â» (f x)) (fun x => Â«exprâ€– â€–Â» (g x)) xâ‚€ (mul (exprâ„) (exprâ„)) Î¼)\n    (hmf : ae_strongly_measurable f Î¼) (hmg : ae_strongly_measurable g Î¼) : convolution_exists_at f g xâ‚€ L Î¼ :=\n  h.of_norm' L hmf <| hmg.mono' (quasi_measure_preserving_sub_left_of_right_invariant Î¼ xâ‚€).absolutely_continuous\n#align convolution_exists_at.of_norm convolution_exists_at.of_norm\n\n",
 "normed_convolution_eq_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/-- If `Ï†` is a normed bump function, compute `Ï† â‹† g` if `g` is constant on `metric.ball xâ‚€ Ï†.R`. -/\ntheorem normed_convolution_eq_right {xâ‚€ : G} (hg : âˆ€ x âˆˆ ball xâ‚€ Ï†.R, g x = g xâ‚€) :\n    (convolution (Ï†.normed Î¼) (lsmul (exprâ„) (exprâ„)) Î¼ g : G â†’ E') xâ‚€ = g xâ‚€ :=\n  by\n  simp_rw [convolution_eq_right' _ Ï†.support_normed_eq.subset hg, lsmul_apply]\n  exact integral_normed_smul Ï† Î¼ (g xâ‚€)\n#align normed_convolution_eq_right normed_convolution_eq_right\n\n",
 "integral_pos_convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« in , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« in .. , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in .. , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« in , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« in , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in , âˆ‚ Â» -/\n/-- The integral over `Ioi 0` of a forward convolution of two functions is equal to the product\nof their integrals over this set. (Compare `integral_convolution` for the two-sided convolution.) -/\ntheorem integral_pos_convolution [CompleteSpace E] [CompleteSpace E'] {Î¼ Î½ : measure (exprâ„)} [SigmaFinite Î¼]\n    [SigmaFinite Î½] [is_add_right_invariant Î¼] [NoAtoms Î½] {f : exprâ„ â†’ E} {g : exprâ„ â†’ E'}\n    (hf : integrable_on f (Ioi 0) Î½) (hg : integrable_on g (Ioi 0) Î¼)\n    (L : Â«expr â†’L[ ] Â» E (exprâ„) (Â«expr â†’L[ ] Â» E' (exprâ„) F)) :\n    Â«exprâˆ« in , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in , âˆ‚ Â»\" (Ioi 0)\n        (Â«exprâˆ« in .. , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in .. , âˆ‚ Â»\"\n          0 x (L (f t) (g (x - t))) Î½)\n        Î¼ =\n      L\n        (Â«exprâˆ« in , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in , âˆ‚ Â»\"\n          (Ioi 0) (f x) Î½)\n        (Â«exprâˆ« in , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« in , âˆ‚ Â»\"\n          (Ioi 0) (g x) Î¼) :=\n  by\n  rw [â† integrable_indicator_iff (measurable_set_Ioi : MeasurableSet (Ioi (0 : exprâ„)))] at hf hg\n  simp_rw [â† integral_indicator measurable_set_Ioi]\n  convert integral_convolution L hf hg using 2\n  apply pos_convolution_eq_convolution_indicator\n#align integral_pos_convolution integral_pos_convolution\n\n",
 "integral_convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\ntheorem integral_convolution [MeasurableAddâ‚‚ G] [MeasurableNeg G] [NormedSpace (exprâ„) E] [NormedSpace (exprâ„) E']\n    [CompleteSpace E] [CompleteSpace E'] (hf : integrable f Î½) (hg : integrable g Î¼) :\n    Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        ((convolution f L Î½ g) x) Î¼ =\n      L (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\" (f x) Î½)\n        (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\" (g x) Î¼) :=\n  by\n  refine' (integral_integral_swap (by apply hf.convolution_integrand L hg)).trans _\n  simp_rw [integral_comp_comm _ (hg.comp_sub_right _), integral_sub_right_eq_self]\n  exact\n    (L.flip\n          (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\" (g x)\n            Î¼)).integral_comp_comm\n      hf\n#align integral_convolution integral_convolution\n\n",
 "integrable_swap":
 "theorem convolution_exists_at.integrable_swap (h : convolution_exists_at f g x L Î¼) :\n    integrable (fun t => L (f (x - t)) (g t)) Î¼ :=\n  by\n  convert h.comp_sub_left x\n  simp_rw [sub_sub_self]\n#align convolution_exists_at.integrable_swap convolution_exists_at.integrable_swap\n\n",
 "integrable_pos_convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem integrable_pos_convolution {f : exprâ„ â†’ E} {g : exprâ„ â†’ E'} {Î¼ Î½ : measure (exprâ„)} [SigmaFinite Î¼]\n    [SigmaFinite Î½] [is_add_right_invariant Î¼] [NoAtoms Î½] (hf : integrable_on f (Ioi 0) Î½)\n    (hg : integrable_on g (Ioi 0) Î¼) (L : Â«expr â†’L[ ] Â» E (exprâ„) (Â«expr â†’L[ ] Â» E' (exprâ„) F)) :\n    integrable (pos_convolution f g L Î½) Î¼ :=\n  by\n  rw [â† integrable_indicator_iff (measurable_set_Ioi : MeasurableSet (Ioi (0 : exprâ„)))] at hf hg\n  rw [pos_convolution_eq_convolution_indicator f g L Î½]\n  exact (hf.convolution_integrand L hg).integral_prod_left\n#align integrable_pos_convolution integrable_pos_convolution\n\n",
 "integrable_convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem measure_theory.integrable.integrable_convolution (hf : integrable f Î¼) (hg : integrable g Î¼) :\n    integrable (convolution f L Î¼ g) Î¼ :=\n  (hf.convolution_integrand L hg).integral_prod_left\n#align measure_theory.integrable.integrable_convolution measure_theory.integrable.integrable_convolution\n\n",
 "integrable":
 "theorem convolution_exists_at.integrable [Sub G] {x : G} (h : convolution_exists_at f g x L Î¼) :\n    integrable (fun t => L (f t) (g (x - t))) Î¼ :=\n  h\n#align convolution_exists_at.integrable convolution_exists_at.integrable\n\n",
 "has_fderiv_at_convolution_right_with_param":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr á¶œÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr '' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr '' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/-- The derivative of the convolution `f * g` is given by `f * Dg`, when `f` is locally integrable\nand `g` is `C^1` and compactly supported. Version where `g` depends on an additional parameter in an\nopen subset `s` of a parameter space `P` (and the compact support `k` is independent of the\nparameter in `s`). -/\ntheorem has_fderiv_at_convolution_right_with_param {g : P â†’ G â†’ E'} {s : Set P} {k : Set G} (hs : IsOpen s)\n    (hk : IsCompact k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : cont_diff_on ğ•œ 1 (uncurry g) (lower_set.prod s univ)) (qâ‚€ : P Ã— G) (hqâ‚€ : qâ‚€.1 âˆˆ s) :\n    has_fderiv_at (fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2)\n      ((convolution f (L.precompR (P Ã— G)) Î¼ fun x : G => fderiv ğ•œ (uncurry g) (qâ‚€.1, x)) qâ‚€.2) qâ‚€ :=\n  by\n  let g' := fderiv ğ•œ (uncurry g)\n  have A : âˆ€ p âˆˆ s, Continuous (g p) := by\n    intro p hp\n    apply hg.continuous_on.comp_continuous (continuous_const.prod_mk continuous_id') fun x => _\n    simpa only [prod_mk_mem_set_prod_eq, mem_univ, and_true_iff] using hp\n  have A' : âˆ€ q : P Ã— G, q.1 âˆˆ s â†’ lower_set.prod s univ âˆˆ (nhds) q :=\n    by\n    intro q hq\n    apply (hs.prod isOpen_univ).mem_nhds\n    simpa only [mem_prod, mem_univ, and_true_iff] using hq\n  -- The derivative of `g` vanishes away from `k`.\n  have g'_zero : âˆ€ p x, p âˆˆ s â†’ x âˆ‰ k â†’ g' (p, x) = 0 :=\n    by\n    intro p x hp hx\n    refine' (has_fderiv_at_zero_of_eventually_const 0 _).fderiv\n    have M2 : Â«expr á¶œÂ» k âˆˆ (nhds) x := IsOpen.mem_nhds hk.is_closed.is_open_compl hx\n    have M1 : s âˆˆ (nhds) p := hs.mem_nhds hp\n    rw [nhds_prod_eq]\n    filter_upwards [prod_mem_prod M1 M2]\n    rintro âŸ¨p, yâŸ© âŸ¨hp, hyâŸ©\n    exact hgs p y hp hy\n  /- We find a small neighborhood of `{qâ‚€.1} Ã— k` on which the derivative is uniformly bounded. This\n    follows from the continuity at all points of the compact set `k`. -/\n  obtain âŸ¨Îµ, C, Îµpos, Cnonneg, hâ‚€Îµ, hÎµâŸ© :\n    âˆƒ Îµ C, 0 < Îµ âˆ§ 0 â‰¤ C âˆ§ ball qâ‚€.1 Îµ âŠ† s âˆ§ âˆ€ p x, Â«exprâ€– â€–Â» (p - qâ‚€.1) < Îµ â†’ Â«exprâ€– â€–Â» (g' (p, x)) â‰¤ C :=\n    by\n    have A : IsCompact (lower_set.prod {qâ‚€.1} k) := is_compact_singleton.prod hk\n    obtain âŸ¨t, kt, t_open, htâŸ© : âˆƒ t, lower_set.prod {qâ‚€.1} k âŠ† t âˆ§ IsOpen t âˆ§ bounded (Â«expr '' Â» g' t) :=\n      by\n      have B : ContinuousOn g' (lower_set.prod s univ) := hg.continuous_on_fderiv_of_open (hs.prod isOpen_univ) le_rfl\n      apply exists_is_open_bounded_image_of_is_compact_of_continuous_on A (hs.prod isOpen_univ) _ B\n      simp only [prod_subset_prod_iff, hqâ‚€, singleton_subset_iff, subset_univ, and_self_iff, true_or_iff]\n    obtain âŸ¨Îµ, Îµpos, hÎµ, h'ÎµâŸ© : âˆƒ Îµ : exprâ„, 0 < Îµ âˆ§ thickening Îµ (lower_set.prod {qâ‚€.fst} k) âŠ† t âˆ§ ball qâ‚€.1 Îµ âŠ† s :=\n      by\n      obtain âŸ¨Îµ, Îµpos, hÎµâŸ© : âˆƒ Îµ : exprâ„, 0 < Îµ âˆ§ thickening Îµ (lower_set.prod {qâ‚€.fst} k) âŠ† t\n      exact A.exists_thickening_subset_open t_open kt\n      obtain âŸ¨Î´, Î´pos, hÎ´âŸ© : âˆƒ (Î´ : exprâ„)(H : 0 < Î´), ball qâ‚€.1 Î´ âŠ† s\n      exact Metric.isOpen_iff.1 hs _ hqâ‚€\n      refine' âŸ¨min Îµ Î´, lt_min Îµpos Î´pos, _, _âŸ©\n      Â· exact subset.trans (thickening_mono (min_le_left _ _) _) hÎµ\n      Â· exact subset.trans (ball_subset_ball (min_le_right _ _)) hÎ´\n    obtain âŸ¨C, Cpos, hCâŸ© : âˆƒ C, 0 < C âˆ§ Â«expr '' Â» g' t âŠ† closed_ball 0 C\n    exact ht.subset_ball_lt 0 0\n    refine' âŸ¨Îµ, C, Îµpos, Cpos.le, h'Îµ, fun p x hp => _âŸ©\n    have hps : p âˆˆ s := h'Îµ (mem_ball_iff_norm.2 hp)\n    by_cases hx : x âˆˆ k\n    Â· have H : (p, x) âˆˆ t := by\n        apply hÎµ\n        refine' mem_thickening_iff.2 âŸ¨(qâ‚€.1, x), _, _âŸ©\n        Â· simp only [hx, singleton_prod, mem_image, Prod.mk.inj_iff, eq_self_iff_true, true_and_iff, exists_eq_right]\n        Â· rw [â† dist_eq_norm] at hp\n          simpa only [Prod.dist_eq, Îµpos, dist_self, max_lt_iff, and_true_iff] using hp\n      have : g' (p, x) âˆˆ closed_ball (0 : Â«expr â†’L[ ] Â» (P Ã— G) ğ•œ E') C := hC (mem_image_of_mem _ H)\n      rwa [mem_closedBall_zero_iff] at this\n    Â· have : g' (p, x) = 0 := g'_zero _ _ hps hx\n      rw [this]\n      simpa only [norm_zero] using Cpos.le\n  /- Now, we wish to apply a theorem on differentiation of integrals. For this, we need to check\n    trivial measurability or integrability assumptions (in `I1`, `I2`, `I3`), as well as a uniform\n    integrability assumption over the derivative (in `I4` and `I5`) and pointwise differentiability\n    in `I6`. -/\n  have I1 :\n    Â«exprâˆ€á¶  in , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â»\" ((nhds) qâ‚€)\n      (ae_strongly_measurable (fun a : G => L (f a) (g x.1 (x.2 - a))) Î¼) :=\n    by\n    filter_upwards [A' qâ‚€ hqâ‚€]\n    rintro âŸ¨p, xâŸ© âŸ¨hp, hxâŸ©\n    refine' (has_compact_support.convolution_exists_right L _ hf (A _ hp) _).1\n    apply isCompact_of_isClosed_subset hk (isClosed_tsupport _)\n    exact closure_minimal (support_subset_iff'.2 fun z hz => hgs _ _ hp hz) hk.is_closed\n  have I2 : integrable (fun a : G => L (f a) (g qâ‚€.1 (qâ‚€.2 - a))) Î¼ :=\n    by\n    have M : HasCompactSupport (g qâ‚€.1) := HasCompactSupport.intro hk fun x hx => hgs qâ‚€.1 x hqâ‚€ hx\n    apply M.convolution_exists_right L hf (A qâ‚€.1 hqâ‚€) qâ‚€.2\n  have I3 : ae_strongly_measurable (fun a : G => (L (f a)).comp (g' (qâ‚€.fst, qâ‚€.snd - a))) Î¼ :=\n    by\n    have T : HasCompactSupport fun y => g' (qâ‚€.1, y) := HasCompactSupport.intro hk fun x hx => g'_zero qâ‚€.1 x hqâ‚€ hx\n    apply (has_compact_support.convolution_exists_right (L.precompR (P Ã— G) : _) T hf _ qâ‚€.2).1\n    have : ContinuousOn g' (lower_set.prod s univ) := hg.continuous_on_fderiv_of_open (hs.prod isOpen_univ) le_rfl\n    apply this.comp_continuous (continuous_const.prod_mk continuous_id')\n    intro x\n    simpa only [prod_mk_mem_set_prod_eq, mem_univ, and_true_iff] using hqâ‚€\n  set K' := -k + {qâ‚€.2} with K'_def\n  have hK' : IsCompact K' := hk.neg.add isCompact_singleton\n  obtain âŸ¨U, U_open, K'U, hUâŸ© : âˆƒ U, IsOpen U âˆ§ K' âŠ† U âˆ§ integrable_on f U Î¼\n  exact hf.integrable_on_nhds_is_compact hK'\n  obtain âŸ¨Î´, Î´pos, Î´Îµ, hÎ´âŸ© : âˆƒ Î´, (0 : exprâ„) < Î´ âˆ§ Î´ â‰¤ Îµ âˆ§ K' + ball 0 Î´ âŠ† U :=\n    by\n    obtain âŸ¨V, V_mem, hVâŸ© : âˆƒ (V : Set G)(V_mem : V âˆˆ (nhds) (0 : G)), K' + V âŠ† U\n    exact compact_open_separated_add_right hK' U_open K'U\n    rcases Metric.mem_nhds_iff.1 V_mem with âŸ¨Î´, Î´pos, hÎ´âŸ©\n    refine' âŸ¨min Î´ Îµ, lt_min Î´pos Îµpos, min_le_right _ _, _âŸ©\n    exact (add_subset_add_left ((ball_subset_ball (min_le_left _ _)).trans hÎ´)).trans hV\n  let bound : G â†’ exprâ„ := indicator U fun a => Â«exprâ€– â€–Â» (L.precompR (P Ã— G)) * Â«exprâ€– â€–Â» (f a) * C\n  have I4 :\n    Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n      (âˆ€ x : P Ã— G, dist x qâ‚€ < Î´ â†’ Â«exprâ€– â€–Â» (L.precompR (P Ã— G) (f a) (g' (x.fst, x.snd - a))) â‰¤ bound a) :=\n    by\n    apply eventually_of_forall\n    intro a x hx\n    rw [Prod.dist_eq, dist_eq_norm, dist_eq_norm] at hx\n    have : (-tsupport fun a => g' (x.1, a)) + ball qâ‚€.2 Î´ âŠ† U :=\n      by\n      apply subset.trans _ hÎ´\n      rw [K'_def, add_assoc]\n      apply add_subset_add\n      Â· rw [neg_subset_neg]\n        apply closure_minimal (support_subset_iff'.2 fun z hz => _) hk.is_closed\n        apply g'_zero x.1 z (hâ‚€Îµ _) hz\n        rw [mem_ball_iff_norm]\n        exact ((le_max_left _ _).trans_lt hx).trans_le Î´Îµ\n      Â· simp only [add_ball, thickening_singleton, zero_vadd]\n    apply convolution_integrand_bound_right_of_le_of_subset _ _ _ this\n    Â· intro y\n      exact hÎµ _ _ (((le_max_left _ _).trans_lt hx).trans_le Î´Îµ)\n    Â· rw [mem_ball_iff_norm]\n      exact (le_max_right _ _).trans_lt hx\n  have I5 : integrable bound Î¼ := by\n    rw [integrable_indicator_iff U_open.measurable_set]\n    exact (hU.norm.const_mul _).mul_const _\n  have I6 :\n    Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n      (âˆ€ x : P Ã— G,\n        dist x qâ‚€ < Î´ â†’\n          has_fderiv_at (fun x : P Ã— G => L (f a) (g x.1 (x.2 - a))) ((L (f a)).comp (g' (x.fst, x.snd - a))) x) :=\n    by\n    apply eventually_of_forall\n    intro a x hx\n    apply (L _).has_fderiv_at.comp x\n    have N : lower_set.prod s univ âˆˆ (nhds) (x.1, x.2 - a) :=\n      by\n      apply A'\n      apply hâ‚€Îµ\n      rw [Prod.dist_eq] at hx\n      exact lt_of_lt_of_le (lt_of_le_of_lt (le_max_left _ _) hx) Î´Îµ\n    have Z := ((hg.differentiable_on le_rfl).differentiable_at N).has_fderiv_at\n    have Z' : has_fderiv_at (fun x : P Ã— G => (x.1, x.2 - a)) (ContinuousLinearMap.id ğ•œ (P Ã— G)) x :=\n      by\n      have : (fun x : P Ã— G => (x.1, x.2 - a)) = id - fun x => (0, a) := by\n        ext x <;> simp only [Pi.sub_apply, id.def, Prod.fst_sub, sub_zero, Prod.snd_sub]\n      simp_rw [this]\n      exact (has_fderiv_at_id x).sub_const (0, a)\n    exact Z.comp x Z'\n  exact has_fderiv_at_integral_of_dominated_of_fderiv_le Î´pos I1 I2 I3 I4 I5 I6\n#align has_fderiv_at_convolution_right_with_param has_fderiv_at_convolution_right_with_param\n\n",
 "has_fderiv_at_convolution_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- Compute the total derivative of `f â‹† g` if `g` is `C^1` with compact support and `f` is locally\nintegrable. To write down the total derivative as a convolution, we use\n`continuous_linear_map.precompR`. -/\ntheorem has_compact_support.has_fderiv_at_convolution_right (hcg : HasCompactSupport g) (hf : locally_integrable f Î¼)\n    (hg : cont_diff ğ•œ 1 g) (xâ‚€ : G) :\n    has_fderiv_at (convolution f L Î¼ g) ((convolution f (L.precompR G) Î¼ (fderiv ğ•œ g)) xâ‚€) xâ‚€ :=\n  by\n  rcases hcg.eq_zero_or_finite_dimensional ğ•œ hg.continuous with (rfl | fin_dim)\n  Â· have : fderiv ğ•œ (0 : G â†’ E') = 0 := fderiv_const (0 : E')\n    simp only [this, convolution_zero, Pi.zero_apply]\n    exact has_fderiv_at_const (0 : F) xâ‚€\n  skip\n  have : ProperSpace G := finite_dimensional.proper_is_R_or_C ğ•œ G\n  set L' := L.precompR G\n  have h1 :\n    Â«exprâˆ€á¶  in , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â»\" ((nhds) xâ‚€)\n      (ae_strongly_measurable (fun t => L (f t) (g (x - t))) Î¼) :=\n    eventually_of_forall (hf.ae_strongly_measurable.convolution_integrand_snd L hg.continuous.ae_strongly_measurable)\n  have h2 : âˆ€ x, ae_strongly_measurable (fun t => L' (f t) (fderiv ğ•œ g (x - t))) Î¼ :=\n    hf.ae_strongly_measurable.convolution_integrand_snd L' (hg.continuous_fderiv le_rfl).ae_strongly_measurable\n  have h3 : âˆ€ x t, has_fderiv_at (fun x => g (x - t)) (fderiv ğ•œ g (x - t)) x :=\n    by\n    intro x t\n    simpa using\n      (hg.differentiable le_rfl).differentiable_at.has_fderiv_at.comp x\n        ((has_fderiv_at_id x).sub (has_fderiv_at_const t x))\n  let K' := -tsupport (fderiv ğ•œ g) + closed_ball xâ‚€ 1\n  have hK' : IsCompact K' := (hcg.fderiv ğ•œ).neg.add (is_compact_closed_ball xâ‚€ 1)\n  refine' has_fderiv_at_integral_of_dominated_of_fderiv_le zero_lt_one h1 _ (h2 xâ‚€) _ _ _\n  Â·\n    exact\n      K'.indicator fun t =>\n        Â«exprâ€– â€–Â» L' * Â«exprâ€– â€–Â» (f t) *\n          Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n            (Â«exprâ€– â€–Â» (fderiv ğ•œ g x))\n  Â· exact hcg.convolution_exists_right L hf hg.continuous xâ‚€\n  Â· refine' eventually_of_forall fun t x hx => _\n    exact (hcg.fderiv ğ•œ).convolution_integrand_bound_right L' (hg.continuous_fderiv le_rfl) (ball_subset_closed_ball hx)\n  Â· rw [integrable_indicator_iff hK'.measurable_set]\n    exact ((hf.integrable_on_is_compact hK').norm.const_mul _).mul_const _\n  Â· exact eventually_of_forall fun t x hx => (L _).has_fderiv_at.comp x (h3 x t)\n#align has_compact_support.has_fderiv_at_convolution_right has_compact_support.has_fderiv_at_convolution_right\n\n",
 "has_fderiv_at_convolution_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.has_fderiv_at_convolution_left [is_neg_invariant Î¼] (hcf : HasCompactSupport f)\n    (hf : cont_diff ğ•œ 1 f) (hg : locally_integrable g Î¼) (xâ‚€ : G) :\n    has_fderiv_at (convolution f L Î¼ g) ((convolution (fderiv ğ•œ f) (L.precompL G) Î¼ g) xâ‚€) xâ‚€ :=\n  by\n  simp (config := { singlePass := true }) only [â† convolution_flip]\n  exact hcf.has_fderiv_at_convolution_right L.flip hg hf xâ‚€\n#align has_compact_support.has_fderiv_at_convolution_left has_compact_support.has_fderiv_at_convolution_left\n\n",
 "has_deriv_at_convolution_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.has_deriv_at_convolution_right (hf : locally_integrable fâ‚€ Î¼) (hcg : HasCompactSupport gâ‚€)\n    (hg : cont_diff ğ•œ 1 gâ‚€) (xâ‚€ : ğ•œ) : has_deriv_at (convolution fâ‚€ L Î¼ gâ‚€) ((convolution fâ‚€ L Î¼ (deriv gâ‚€)) xâ‚€) xâ‚€ :=\n  by\n  convert(hcg.has_fderiv_at_convolution_right L hf hg xâ‚€).has_deriv_at\n  rw [convolution_precompR_apply L hf (hcg.fderiv ğ•œ) (hg.continuous_fderiv le_rfl)]\n  rfl\n#align has_compact_support.has_deriv_at_convolution_right has_compact_support.has_deriv_at_convolution_right\n\n",
 "has_deriv_at_convolution_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.has_deriv_at_convolution_left [is_neg_invariant Î¼] (hcf : HasCompactSupport fâ‚€)\n    (hf : cont_diff ğ•œ 1 fâ‚€) (hg : locally_integrable gâ‚€ Î¼) (xâ‚€ : ğ•œ) :\n    has_deriv_at (convolution fâ‚€ L Î¼ gâ‚€) ((convolution (deriv fâ‚€) L Î¼ gâ‚€) xâ‚€) xâ‚€ :=\n  by\n  simp (config := { singlePass := true }) only [â† convolution_flip]\n  exact hcf.has_deriv_at_convolution_right L.flip hg hf xâ‚€\n#align has_compact_support.has_deriv_at_convolution_left has_compact_support.has_deriv_at_convolution_left\n\n",
 "distrib_add":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem convolution_exists.distrib_add (hfg : convolution_exists f g L Î¼) (hfg' : convolution_exists f g' L Î¼) :\n    convolution f L Î¼ (g + g') = convolution f L Î¼ g + convolution f L Î¼ g' :=\n  by\n  ext\n  exact (hfg x).distrib_add (hfg' x)\n#align convolution_exists.distrib_add convolution_exists.distrib_add\n\n",
 "dist_normed_convolution_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/-- If `Ï†` is a normed bump function, approximate `(Ï† â‹† g) xâ‚€` if `g` is near `g xâ‚€` on a ball with\nradius `Ï†.R` around `xâ‚€`. -/\ntheorem dist_normed_convolution_le {xâ‚€ : G} {Îµ : exprâ„} (hmg : ae_strongly_measurable g Î¼)\n    (hg : âˆ€ x âˆˆ ball xâ‚€ Ï†.R, dist (g x) (g xâ‚€) â‰¤ Îµ) :\n    dist ((convolution (Ï†.normed Î¼) (lsmul (exprâ„) (exprâ„)) Î¼ g : G â†’ E') xâ‚€) (g xâ‚€) â‰¤ Îµ :=\n  dist_convolution_le (by simp_rw [â† dist_self (g xâ‚€), hg xâ‚€ (mem_ball_self Ï†.R_pos)]) Ï†.support_normed_eq.subset\n    Ï†.nonneg_normed Ï†.integral_normed hmg hg\n#align dist_normed_convolution_le dist_normed_convolution_le\n\n",
 "dist_convolution_le'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/-- Approximate `(f â‹† g) xâ‚€` if the support of the `f` is bounded within a ball, and `g` is near\n`g xâ‚€` on a ball with the same radius around `xâ‚€`. See `dist_convolution_le` for a special case.\n\nWe can simplify the second argument of `dist` further if we add some extra type-classes on `E`\nand `ğ•œ` or if `L` is scalar multiplication. -/\ntheorem dist_convolution_le' {xâ‚€ : G} {R Îµ : exprâ„} {zâ‚€ : E'} (hÎµ : 0 â‰¤ Îµ) (hif : integrable f Î¼)\n    (hf : support f âŠ† ball (0 : G) R) (hmg : ae_strongly_measurable g Î¼) (hg : âˆ€ x âˆˆ ball xâ‚€ R, dist (g x) zâ‚€ â‰¤ Îµ) :\n    dist ((convolution f L Î¼ g : G â†’ F) xâ‚€)\n        (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (L (f t) zâ‚€) Î¼) â‰¤\n      Â«exprâ€– â€–Â» L *\n          Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n            (Â«exprâ€– â€–Â» (f x)) Î¼ *\n        Îµ :=\n  by\n  have hfg : convolution_exists_at f g xâ‚€ L Î¼ :=\n    by\n    refine'\n      bdd_above.convolution_exists_at L _ metric.is_open_ball.measurable_set (subset_trans _ hf) hif.integrable_on hmg\n    swap\n    Â· refine' fun t => mt fun ht : f t = 0 => _\n      simp_rw [ht, L.map_zeroâ‚‚]\n    rw [bddAbove_def]\n    refine' âŸ¨Â«exprâ€– â€–Â» zâ‚€ + Îµ, _âŸ©\n    rintro _ âŸ¨x, hx, rflâŸ©\n    refine' norm_le_norm_add_const_of_dist_le (hg x _)\n    rwa [mem_ball_iff_norm, norm_sub_rev, â† mem_ball_zero_iff]\n  have h2 : âˆ€ t, dist (L (f t) (g (xâ‚€ - t))) (L (f t) zâ‚€) â‰¤ Â«exprâ€– â€–Â» (L (f t)) * Îµ :=\n    by\n    intro t\n    by_cases ht : t âˆˆ support f\n    Â· have h2t := hf ht\n      rw [mem_ball_zero_iff] at h2t\n      specialize hg (xâ‚€ - t)\n      rw [sub_eq_add_neg, add_mem_ball_iff_norm, norm_neg, â† sub_eq_add_neg] at hg\n      refine' ((L (f t)).dist_le_op_norm _ _).trans _\n      exact mul_le_mul_of_nonneg_left (hg h2t) (norm_nonneg _)\n    Â· rw [nmem_support] at ht\n      simp_rw [ht, L.map_zeroâ‚‚, L.map_zero, norm_zero, MulZeroClass.zero_mul, dist_self]\n  simp_rw [convolution_def]\n  simp_rw [dist_eq_norm] at h2âŠ¢\n  rw [â† integral_sub hfg.integrable]\n  swap\n  Â· exact (L.flip zâ‚€).integrable_comp hif\n  refine' (norm_integral_le_of_norm_le ((L.integrable_comp hif).norm.mul_const Îµ) (eventually_of_forall h2)).trans _\n  rw [integral_mul_right]\n  refine' mul_le_mul_of_nonneg_right _ hÎµ\n  have h3 : âˆ€ t, Â«exprâ€– â€–Â» (L (f t)) â‰¤ Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) :=\n    by\n    intro t\n    exact L.le_op_norm (f t)\n  refine' (integral_mono (L.integrable_comp hif).norm (hif.norm.const_mul _) h3).trans_eq _\n  rw [integral_mul_left]\n#align dist_convolution_le' dist_convolution_le'\n\n",
 "dist_convolution_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/-- Approximate `f â‹† g` if the support of the `f` is bounded within a ball, and `g` is near `g xâ‚€`\non a ball with the same radius around `xâ‚€`.\n\nThis is a special case of `dist_convolution_le'` where `L` is `(â€¢)`, `f` has integral 1 and `f` is\nnonnegative. -/\ntheorem dist_convolution_le {f : G â†’ exprâ„} {xâ‚€ : G} {R Îµ : exprâ„} {zâ‚€ : E'} (hÎµ : 0 â‰¤ Îµ)\n    (hf : support f âŠ† ball (0 : G) R) (hnf : âˆ€ x, 0 â‰¤ f x)\n    (hintf :\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\" (f x) Î¼ = 1)\n    (hmg : ae_strongly_measurable g Î¼) (hg : âˆ€ x âˆˆ ball xâ‚€ R, dist (g x) zâ‚€ â‰¤ Îµ) :\n    dist ((convolution f (lsmul (exprâ„) (exprâ„)) Î¼ g : G â†’ E') xâ‚€) zâ‚€ â‰¤ Îµ :=\n  by\n  have hif : integrable f Î¼ := by\n    by_contra hif\n    exact zero_ne_one ((integral_undef hif).symm.trans hintf)\n  convert(dist_convolution_le' _ hÎµ hif hf hmg hg).trans _\n  Â· simp_rw [lsmul_apply, integral_smul_const, hintf, one_smul]\n  Â· simp_rw [Real.norm_of_nonneg (hnf _), hintf, mul_one]\n    exact (mul_le_mul_of_nonneg_right op_norm_lsmul_le hÎµ).trans_eq (one_mul Îµ)\n#align dist_convolution_le dist_convolution_le\n\n",
 "convolution_zero":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n@[simp]\ntheorem convolution_zero : convolution f L Î¼ 0 = 0 := by\n  ext\n  simp_rw [convolution_def, Pi.zero_apply, (L _).map_zero, integral_zero]\n#align convolution_zero convolution_zero\n\n",
 "convolution_tendsto_right_of_continuous":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/-- Special case of `cont_diff_bump.convolution_tendsto_right` where `g` is continuous,\n  and the limit is taken only in the first function. -/\ntheorem convolution_tendsto_right_of_continuous {Î¹} {Ï† : Î¹ â†’ cont_diff_bump (0 : G)} {l : Filter Î¹}\n    (hÏ† : Tendsto (fun i => (Ï† i).R) l ((nhds) 0)) (hg : Continuous g) (xâ‚€ : G) :\n    Tendsto (fun i => (convolution (fun x => (Ï† i).normed Î¼ x) (lsmul (exprâ„) (exprâ„)) Î¼ g : G â†’ E') xâ‚€) l\n      ((nhds) (g xâ‚€)) :=\n  convolution_tendsto_right hÏ† (eventually_of_forall fun _ => hg.ae_strongly_measurable)\n    ((hg.tendsto xâ‚€).comp tendsto_snd) tendsto_const_nhds\n#align convolution_tendsto_right_of_continuous convolution_tendsto_right_of_continuous\n\n",
 "convolution_tendsto_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `filter.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/-- `(Ï† i â‹† g i) (k i)` tends to `zâ‚€` as `i` tends to some filter `l` if\n* `Ï†` is a sequence of normed bump functions such that `(Ï† i).R` tends to `0` as `i` tends to `l`;\n* `g i` is `mu`-a.e. strongly measurable as `i` tends to `l`;\n* `g i x` tends to `zâ‚€` as `(i, x)` tends to `l Ã—á¶  ğ“ xâ‚€`;\n* `k i` tends to `xâ‚€`. -/\ntheorem convolution_tendsto_right {Î¹} {Ï† : Î¹ â†’ cont_diff_bump (0 : G)} {g : Î¹ â†’ G â†’ E'} {k : Î¹ â†’ G} {xâ‚€ : G} {zâ‚€ : E'}\n    {l : Filter Î¹} (hÏ† : Tendsto (fun i => (Ï† i).R) l ((nhds) 0))\n    (hig :\n      Â«exprâˆ€á¶  in , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â»\" l\n        (ae_strongly_measurable (g i) Î¼))\n    (hcg : Tendsto (uncurry g) (filter.prod l ((nhds) xâ‚€)) ((nhds) zâ‚€)) (hk : Tendsto k l ((nhds) xâ‚€)) :\n    Tendsto (fun i => (convolution (fun x => (Ï† i).normed Î¼ x) (lsmul (exprâ„) (exprâ„)) Î¼ (g i) : G â†’ E') (k i)) l\n      ((nhds) zâ‚€) :=\n  convolution_tendsto_right (eventually_of_forall fun i => (Ï† i).nonneg_normed)\n    (eventually_of_forall fun i => (Ï† i).integral_normed) (tendsto_support_normed_small_sets hÏ†) hig hcg hk\n#align convolution_tendsto_right convolution_tendsto_right\n\n",
 "convolution_smul":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem convolution_smul [SMulCommClass (exprâ„) ğ•œ F] {y : ğ•œ} :\n    convolution f L Î¼ (Â«expr â€¢ Â» y g) = Â«expr â€¢ Â» y (convolution f L Î¼ g) :=\n  by\n  ext\n  simp only [Pi.smul_apply, convolution_def, â† integral_smul, (L _).map_smul]\n#align convolution_smul convolution_smul\n\n",
 "convolution_precompR_apply":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem convolution_precompR_apply {g : G â†’ Â«expr â†’L[ ] Â» E'' ğ•œ E'} (hf : locally_integrable f Î¼)\n    (hcg : HasCompactSupport g) (hg : Continuous g) (xâ‚€ : G) (x : E'') :\n    (convolution f (L.precompR E'') Î¼ g) xâ‚€ x = (convolution f L Î¼ fun a => g a x) xâ‚€ :=\n  by\n  have := hcg.convolution_exists_right (L.precompR E'' : _) hf hg xâ‚€\n  simp_rw [convolution_def, continuous_linear_map.integral_apply this]\n  rfl\n#align convolution_precompR_apply convolution_precompR_apply\n\n",
 "convolution_neg_of_neg_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution of two even functions is also even. -/\ntheorem convolution_neg_of_neg_eq\n    (h1 :\n      Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n        (f (-x) = f x))\n    (h2 :\n      Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n        (g (-x) = g x)) :\n    (convolution f L Î¼ g) (-x) = (convolution f L Î¼ g) x :=\n  calc\n    Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          ((L (f t)) (g (-x - t))) Î¼ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          ((L (f (-t))) (g (x + t))) Î¼ :=\n      by\n      apply integral_congr_ae\n      filter_upwards [h1, (eventually_add_left_iff Î¼ x).2 h2]with t ht h't\n      simp_rw [ht, â† h't, neg_add']\n    _ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          ((L (f t)) (g (x - t))) Î¼ :=\n      by\n      rw [â† integral_neg_eq_self]\n      simp only [neg_neg, â† sub_eq_add_neg]\n    \n#align convolution_neg_of_neg_eq convolution_neg_of_neg_eq\n\n",
 "convolution_mul_swap":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/-- The symmetric definition of convolution where the bilinear operator is multiplication. -/\ntheorem convolution_mul_swap [NormedSpace (exprâ„) ğ•œ] [CompleteSpace ğ•œ] {f : G â†’ ğ•œ} {g : G â†’ ğ•œ} :\n    (convolution f (mul ğ•œ ğ•œ) Î¼ g) x =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (f (x - t) * g t) Î¼ :=\n  convolution_eq_swap _\n#align convolution_mul_swap convolution_mul_swap\n\n",
 "convolution_mul":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/-- The definition of convolution where the bilinear operator is multiplication. -/\ntheorem convolution_mul [Sub G] [NormedSpace (exprâ„) ğ•œ] [CompleteSpace ğ•œ] {f : G â†’ ğ•œ} {g : G â†’ ğ•œ} :\n    (convolution f (mul ğ•œ ğ•œ) Î¼ g) x =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (f t * g (x - t)) Î¼ :=\n  rfl\n#align convolution_mul convolution_mul\n\n",
 "convolution_mono_right_of_nonneg":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem convolution_mono_right_of_nonneg {f g g' : G â†’ exprâ„}\n    (hfg' : convolution_exists_at f g' x (lsmul (exprâ„) (exprâ„)) Î¼) (hf : âˆ€ x, 0 â‰¤ f x) (hg : âˆ€ x, g x â‰¤ g' x)\n    (hg' : âˆ€ x, 0 â‰¤ g' x) :\n    (convolution f (lsmul (exprâ„) (exprâ„)) Î¼ g) x â‰¤ (convolution f (lsmul (exprâ„) (exprâ„)) Î¼ g') x :=\n  by\n  by_cases H : convolution_exists_at f g x (lsmul (exprâ„) (exprâ„)) Î¼\n  Â· exact convolution_mono_right H hfg' hf hg\n  have : (convolution f (lsmul (exprâ„) (exprâ„)) Î¼ g) x = 0 := integral_undef H\n  rw [this]\n  exact integral_nonneg fun y => mul_nonneg (hf y) (hg' (x - y))\n#align convolution_mono_right_of_nonneg convolution_mono_right_of_nonneg\n\n",
 "convolution_mono_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem convolution_mono_right {f g g' : G â†’ exprâ„} (hfg : convolution_exists_at f g x (lsmul (exprâ„) (exprâ„)) Î¼)\n    (hfg' : convolution_exists_at f g' x (lsmul (exprâ„) (exprâ„)) Î¼) (hf : âˆ€ x, 0 â‰¤ f x) (hg : âˆ€ x, g x â‰¤ g' x) :\n    (convolution f (lsmul (exprâ„) (exprâ„)) Î¼ g) x â‰¤ (convolution f (lsmul (exprâ„) (exprâ„)) Î¼ g') x :=\n  by\n  apply integral_mono hfg hfg'\n  simp only [lsmul_apply, Algebra.id.smul_eq_mul]\n  intro t\n  apply mul_le_mul_of_nonneg_left (hg _) (hf _)\n#align convolution_mono_right convolution_mono_right\n\n",
 "convolution_lsmul_swap":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/-- The symmetric definition of convolution where the bilinear operator is scalar multiplication. -/\ntheorem convolution_lsmul_swap {f : G â†’ ğ•œ} {g : G â†’ F} :\n    (convolution f (lsmul ğ•œ ğ•œ) Î¼ g : G â†’ F) x =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (Â«expr â€¢ Â» (f (x - t)) (g t)) Î¼ :=\n  convolution_eq_swap _\n#align convolution_lsmul_swap convolution_lsmul_swap\n\n",
 "convolution_lsmul":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/-- The definition of convolution where the bilinear operator is scalar multiplication.\nNote: it often helps the elaborator to give the type of the convolution explicitly. -/\ntheorem convolution_lsmul [Sub G] {f : G â†’ ğ•œ} {g : G â†’ F} :\n    (convolution f (lsmul ğ•œ ğ•œ) Î¼ g : G â†’ F) x =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (Â«expr â€¢ Â» (f t) (g (x - t))) Î¼ :=\n  rfl\n#align convolution_lsmul convolution_lsmul\n\n",
 "convolution_integrand_swap_snd'":
 "theorem measure_theory.ae_strongly_measurable.convolution_integrand_swap_snd' {x : G}\n    (hf : ae_strongly_measurable f <| map (fun t => x - t) Î¼) (hg : ae_strongly_measurable g Î¼) :\n    ae_strongly_measurable (fun t => L (f (x - t)) (g t)) Î¼ :=\n  L.ae_strongly_measurable_compâ‚‚ (hf.comp_measurable <| measurable_id.const_sub x) hg\n#align measure_theory.ae_strongly_measurable.convolution_integrand_swap_snd' measure_theory.ae_strongly_measurable.convolution_integrand_swap_snd'\n\n",
 "convolution_integrand_swap_snd":
 "theorem measure_theory.ae_strongly_measurable.convolution_integrand_swap_snd (hf : ae_strongly_measurable f Î¼)\n    (hg : ae_strongly_measurable g Î¼) (x : G) : ae_strongly_measurable (fun t => L (f (x - t)) (g t)) Î¼ :=\n  (hf.mono'\n        (quasi_measure_preserving_sub_left_of_right_invariant Î¼\n            x).absolutely_continuous).convolution_integrand_swap_snd'\n    L hg\n#align measure_theory.ae_strongly_measurable.convolution_integrand_swap_snd measure_theory.ae_strongly_measurable.convolution_integrand_swap_snd\n\n",
 "convolution_integrand_snd'":
 "theorem measure_theory.ae_strongly_measurable.convolution_integrand_snd' (hf : ae_strongly_measurable f Î¼) {x : G}\n    (hg : ae_strongly_measurable g <| map (fun t => x - t) Î¼) :\n    ae_strongly_measurable (fun t => L (f t) (g (x - t))) Î¼ :=\n  L.ae_strongly_measurable_compâ‚‚ hf <| hg.comp_measurable <| measurable_id.const_sub x\n#align measure_theory.ae_strongly_measurable.convolution_integrand_snd' measure_theory.ae_strongly_measurable.convolution_integrand_snd'\n\n",
 "convolution_integrand_snd":
 "theorem measure_theory.ae_strongly_measurable.convolution_integrand_snd (hf : ae_strongly_measurable f Î¼)\n    (hg : ae_strongly_measurable g Î¼) (x : G) : ae_strongly_measurable (fun t => L (f t) (g (x - t))) Î¼ :=\n  hf.convolution_integrand_snd' L <|\n    hg.mono' <| (quasi_measure_preserving_sub_left_of_right_invariant Î¼ x).absolutely_continuous\n#align measure_theory.ae_strongly_measurable.convolution_integrand_snd measure_theory.ae_strongly_measurable.convolution_integrand_snd\n\n",
 "convolution_integrand_fst":
 "theorem continuous.convolution_integrand_fst [ContinuousSub G] (hg : Continuous g) (t : G) :\n    Continuous fun x => L (f t) (g (x - t)) :=\n  L.continuousâ‚‚.compâ‚‚ continuous_const <| hg.comp <| continuous_id.sub continuous_const\n#align continuous.convolution_integrand_fst continuous.convolution_integrand_fst\n\n",
 "convolution_integrand_bound_right_of_subset":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\ntheorem has_compact_support.convolution_integrand_bound_right_of_subset (hcg : HasCompactSupport g) (hg : Continuous g)\n    {x t : G} {s u : Set G} (hx : x âˆˆ s) (hu : -tsupport g + s âŠ† u) :\n    Â«exprâ€– â€–Â» (L (f t) (g (x - t))) â‰¤\n      u.indicator\n        (fun t =>\n          Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) *\n            Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n              (Â«exprâ€– â€–Â» (g i)))\n        t :=\n  by\n  apply convolution_integrand_bound_right_of_le_of_subset _ (fun i => _) hx hu\n  exact le_csupáµ¢ (hg.norm.bdd_above_range_of_has_compact_support hcg.norm) _\n#align has_compact_support.convolution_integrand_bound_right_of_subset has_compact_support.convolution_integrand_bound_right_of_subset\n\n",
 "convolution_integrand_bound_right_of_le_of_subset":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/-\nCopyright (c) 2022 Floris van Doorn. All rights reserved.\nReleased under Apache 2.0 license as described in the file LICENSE.\nAuthors: Floris van Doorn\n-/\ntheorem convolution_integrand_bound_right_of_le_of_subset {C : exprâ„} (hC : âˆ€ i, Â«exprâ€– â€–Â» (g i) â‰¤ C) {x t : G}\n    {s u : Set G} (hx : x âˆˆ s) (hu : -tsupport g + s âŠ† u) :\n    Â«exprâ€– â€–Â» (L (f t) (g (x - t))) â‰¤ u.indicator (fun t => Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) * C) t :=\n  by\n  refine' le_indicator (fun t ht => _) (fun t ht => _) t\n  Â· refine' (L.le_op_normâ‚‚ _ _).trans _\n    apply mul_le_mul_of_nonneg_left (hC _) (mul_nonneg (norm_nonneg _) (norm_nonneg _))\n  Â· have : x - t âˆ‰ support g := by\n      refine' mt (fun hxt => _) ht\n      apply hu\n      refine' âŸ¨_, _, set.neg_mem_neg.mpr (subset_closure hxt), hx, _âŸ©\n      rw [neg_sub, sub_add_cancel]\n    rw [nmem_support.mp this, (L _).map_zero, norm_zero]\n#align convolution_integrand_bound_right_of_le_of_subset convolution_integrand_bound_right_of_le_of_subset\n\n",
 "convolution_integrand_bound_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\ntheorem has_compact_support.convolution_integrand_bound_right (hcg : HasCompactSupport g) (hg : Continuous g) {x t : G}\n    {s : Set G} (hx : x âˆˆ s) :\n    Â«exprâ€– â€–Â» (L (f t) (g (x - t))) â‰¤\n      (-tsupport g + s).indicator\n        (fun t =>\n          Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) *\n            Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n              (Â«exprâ€– â€–Â» (g i)))\n        t :=\n  hcg.convolution_integrand_bound_right_of_subset L hg hx Subset.rfl\n#align has_compact_support.convolution_integrand_bound_right has_compact_support.convolution_integrand_bound_right\n\n",
 "convolution_integrand_bound_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\ntheorem has_compact_support.convolution_integrand_bound_left (hcf : HasCompactSupport f) (hf : Continuous f) {x t : G}\n    {s : Set G} (hx : x âˆˆ s) :\n    Â«exprâ€– â€–Â» (L (f (x - t)) (g t)) â‰¤\n      (-tsupport f + s).indicator\n        (fun t =>\n          Â«exprâ€– â€–Â» L *\n              Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n                (Â«exprâ€– â€–Â» (f i)) *\n            Â«exprâ€– â€–Â» (g t))\n        t :=\n  by\n  convert hcf.convolution_integrand_bound_right L.flip hf hx\n  simp_rw [L.op_norm_flip, mul_right_comm]\n#align has_compact_support.convolution_integrand_bound_left has_compact_support.convolution_integrand_bound_left\n\n",
 "convolution_integrand'":
 "theorem measure_theory.ae_strongly_measurable.convolution_integrand' [MeasurableAddâ‚‚ G] [MeasurableNeg G]\n    [SigmaFinite Î½] (hf : ae_strongly_measurable f Î½)\n    (hg : ae_strongly_measurable g <| map (fun p : G Ã— G => p.1 - p.2) (Î¼.prod Î½)) :\n    ae_strongly_measurable (fun p : G Ã— G => L (f p.2) (g (p.1 - p.2))) (Î¼.prod Î½) :=\n  L.ae_strongly_measurable_compâ‚‚ hf.snd <| hg.comp_measurable measurable_sub\n#align measure_theory.ae_strongly_measurable.convolution_integrand' measure_theory.ae_strongly_measurable.convolution_integrand'\n\n",
 "convolution_integrand":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\ntheorem measure_theory.integrable.convolution_integrand (hf : integrable f Î½) (hg : integrable g Î¼) :\n    integrable (fun p : G Ã— G => L (f p.2) (g (p.1 - p.2))) (Î¼.prod Î½) :=\n  by\n  have h_meas : ae_strongly_measurable (fun p : G Ã— G => L (f p.2) (g (p.1 - p.2))) (Î¼.prod Î½) :=\n    hf.ae_strongly_measurable.convolution_integrand L hg.ae_strongly_measurable\n  have h2_meas :\n    ae_strongly_measurable\n      (fun y : G =>\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Â«exprâ€– â€–Â» (L (f y) (g (x - y)))) Î¼)\n      Î½ :=\n    h_meas.prod_swap.norm.integral_prod_right'\n  simp_rw [integrable_prod_iff' h_meas]\n  refine' âŸ¨eventually_of_forall fun t => (L (f t)).integrable_comp (hg.comp_sub_right t), _âŸ©\n  refine'\n    integrable.mono' _ h2_meas\n      (eventually_of_forall fun t =>\n        (_ :\n          _ â‰¤\n            Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) *\n              Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n                (Â«exprâ€– â€–Â» (g (x - t))) Î¼))\n  Â· simp_rw [integral_sub_right_eq_self fun t => Â«exprâ€– â€–Â» (g t)]\n    exact (hf.norm.const_mul _).mul_const _\n  Â· simp_rw [â† integral_mul_left]\n    rw [Real.norm_of_nonneg]\n    Â·\n      exact\n        integral_mono_of_nonneg (eventually_of_forall fun t => norm_nonneg _) ((hg.comp_sub_right t).norm.const_mul _)\n          (eventually_of_forall fun t => L.le_op_normâ‚‚ _ _)\n    exact integral_nonneg fun x => norm_nonneg _\n#align measure_theory.integrable.convolution_integrand measure_theory.integrable.convolution_integrand\n\n",
 "convolution_flip":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- Commutativity of convolution -/\ntheorem convolution_flip : convolution g L.flip Î¼ f = convolution f L Î¼ g :=\n  by\n  ext1 x\n  simp_rw [convolution_def]\n  rw [â† integral_sub_left_eq_self _ Î¼ x]\n  simp_rw [sub_sub_self, flip_apply]\n#align convolution_flip convolution_flip\n\n",
 "convolution_exists_right_of_continuous_left":
 "theorem has_compact_support.convolution_exists_right_of_continuous_left (hcg : HasCompactSupport g) (hf : Continuous f)\n    (hg : locally_integrable g Î¼) : convolution_exists f g L Î¼ := fun xâ‚€ =>\n  convolution_exists_at_flip.mp <| hcg.convolution_exists_left_of_continuous_right L.flip hg hf xâ‚€\n#align has_compact_support.convolution_exists_right_of_continuous_left has_compact_support.convolution_exists_right_of_continuous_left\n\n",
 "convolution_exists_right":
 "theorem has_compact_support.convolution_exists_right (hcg : HasCompactSupport g) (hf : locally_integrable f Î¼)\n    (hg : Continuous g) : convolution_exists f g L Î¼ :=\n  by\n  intro xâ‚€\n  refine' has_compact_support.convolution_exists_at L _ hf hg\n  refine' (hcg.comp_homeomorph (Homeomorph.subLeft xâ‚€)).mono _\n  refine' fun t => mt fun ht : g (xâ‚€ - t) = 0 => _\n  simp_rw [ht, (L _).map_zero]\n#align has_compact_support.convolution_exists_right has_compact_support.convolution_exists_right\n\n",
 "convolution_exists_left_of_continuous_right":
 "theorem has_compact_support.convolution_exists_left_of_continuous_right (hcf : HasCompactSupport f)\n    (hf : locally_integrable f Î¼) (hg : Continuous g) : convolution_exists f g L Î¼ :=\n  by\n  intro xâ‚€\n  refine' has_compact_support.convolution_exists_at L _ hf hg\n  refine' hcf.mono _\n  refine' fun t => mt fun ht : f t = 0 => _\n  simp_rw [ht, L.map_zeroâ‚‚]\n#align has_compact_support.convolution_exists_left_of_continuous_right has_compact_support.convolution_exists_left_of_continuous_right\n\n",
 "convolution_exists_left":
 "theorem has_compact_support.convolution_exists_left (hcf : HasCompactSupport f) (hf : Continuous f)\n    (hg : locally_integrable g Î¼) : convolution_exists f g L Î¼ := fun xâ‚€ =>\n  convolution_exists_at_flip.mp <| hcf.convolution_exists_right L.flip hg hf xâ‚€\n#align has_compact_support.convolution_exists_left has_compact_support.convolution_exists_left\n\n",
 "convolution_exists_at_iff_integrable_swap":
 "theorem convolution_exists_at_iff_integrable_swap :\n    convolution_exists_at f g x L Î¼ â†” integrable (fun t => L (f (x - t)) (g t)) Î¼ :=\n  convolution_exists_at_flip.symm\n#align convolution_exists_at_iff_integrable_swap convolution_exists_at_iff_integrable_swap\n\n",
 "convolution_exists_at_flip":
 "theorem convolution_exists_at_flip : convolution_exists_at g f x L.flip Î¼ â†” convolution_exists_at f g x L Î¼ := by\n  simp_rw [convolution_exists_at, â† integrable_comp_sub_left (fun t => L (f t) (g (x - t))) x, sub_sub_cancel,\n    flip_apply]\n#align convolution_exists_at_flip convolution_exists_at_flip\n\n",
 "convolution_exists_at'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â»Â¹' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr '' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â»Â¹' Â» -/\n/-- A sufficient condition to prove that `f â‹†[L, Î¼] g` exists.\nWe assume that `f` is integrable on a set `s` and `g` is bounded and ae strongly measurable\non `xâ‚€ - s` (note that both properties hold if `g` is continuous with compact support). -/\ntheorem bdd_above.convolution_exists_at' {xâ‚€ : G} {s : Set G}\n    (hbg : BddAbove (Â«expr '' Â» (fun i => Â«exprâ€– â€–Â» (g i)) (Â«expr â»Â¹' Â» (fun t => -t + xâ‚€) s))) (hs : MeasurableSet s)\n    (h2s : (support fun t => L (f t) (g (xâ‚€ - t))) âŠ† s) (hf : integrable_on f s Î¼)\n    (hmg : ae_strongly_measurable g <| map (fun t => xâ‚€ - t) (Î¼.restrict s)) : convolution_exists_at f g xâ‚€ L Î¼ :=\n  by\n  rw [convolution_exists_at, â† integrable_on_iff_integrable_of_support_subset h2s]\n  set s' := Â«expr â»Â¹' Â» (fun t => -t + xâ‚€) s\n  have :\n    Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" (Î¼.restrict s)\n      (Â«exprâ€– â€–Â» (L (f t) (g (xâ‚€ - t))) â‰¤\n        s.indicator\n          (fun t =>\n            Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) *\n              Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n                (Â«exprâ€– â€–Â» (g i)))\n          t) :=\n    by\n    refine' eventually_of_forall _\n    refine' le_indicator (fun t ht => _) fun t ht => _\n    Â· refine' (L.le_op_normâ‚‚ _ _).trans _\n      refine'\n        mul_le_mul_of_nonneg_left (le_csupáµ¢_set hbg <| mem_preimage.mpr _) (mul_nonneg (norm_nonneg _) (norm_nonneg _))\n      rwa [neg_sub, sub_add_cancel]\n    Â· have : t âˆ‰ support fun t => L (f t) (g (xâ‚€ - t)) := mt (fun h => h2s h) ht\n      rw [nmem_support.mp this, norm_zero]\n  refine' integrable.mono' _ _ this\n  Â· rw [integrable_indicator_iff hs]\n    exact ((hf.norm.const_mul _).mul_const _).integrable_on\n  Â· exact hf.ae_strongly_measurable.convolution_integrand_snd' L hmg\n#align bdd_above.convolution_exists_at' bdd_above.convolution_exists_at'\n\n",
 "convolution_exists_at":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr '' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â»Â¹' Â» -/\n/-- A sufficient condition to prove that `f â‹†[L, Î¼] g` exists.\nWe assume that the integrand has compact support and `g` is bounded on this support (note that\nboth properties hold if `g` is continuous with compact support). We also require that `f` is\nintegrable on the support of the integrand, and that both functions are strongly measurable.\n\nThis is a variant of `bdd_above.convolution_exists_at'` in an abelian group with a left-invariant\nmeasure. This allows us to state the boundedness and measurability of `g` in a more natural way. -/\ntheorem bdd_above.convolution_exists_at [MeasurableAddâ‚‚ G] [SigmaFinite Î¼] {xâ‚€ : G} {s : Set G}\n    (hbg : BddAbove (Â«expr '' Â» (fun i => Â«exprâ€– â€–Â» (g i)) (Â«expr â»Â¹' Â» (fun t => xâ‚€ - t) s))) (hs : MeasurableSet s)\n    (h2s : (support fun t => L (f t) (g (xâ‚€ - t))) âŠ† s) (hf : integrable_on f s Î¼) (hmg : ae_strongly_measurable g Î¼) :\n    convolution_exists_at f g xâ‚€ L Î¼ :=\n  by\n  refine' bdd_above.convolution_exists_at' L _ hs h2s hf _\n  Â· simp_rw [â† sub_eq_neg_add, hbg]\n  Â· have : ae_strongly_measurable g (map (fun t : G => xâ‚€ - t) Î¼) :=\n      hmg.mono' (quasi_measure_preserving_sub_left_of_right_invariant Î¼ xâ‚€).absolutely_continuous\n    apply this.mono_measure\n    exact map_mono_of_ae_measurable restrict_le_self (measurable_const.sub measurable_id').ae_measurable\n#align bdd_above.convolution_exists_at bdd_above.convolution_exists_at\n\n",
 "convolution_eq_swap":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/-- The symmetric definition of convolution. -/\ntheorem convolution_eq_swap :\n    (convolution f L Î¼ g) x =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (L (f (x - t)) (g t)) Î¼ :=\n  by\n  rw [â† convolution_flip]\n  rfl\n#align convolution_eq_swap convolution_eq_swap\n\n",
 "convolution_eq_right'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/-- Compute `(f â‹† g) xâ‚€` if the support of the `f` is within `metric.ball 0 R`, and `g` is constant\non `metric.ball xâ‚€ R`.\n\nWe can simplify the RHS further if we assume `f` is integrable, but also if `L = (â€¢)` or more\ngenerally if `L` has a `antilipschitz_with`-condition. -/\ntheorem convolution_eq_right' {xâ‚€ : G} {R : exprâ„} (hf : support f âŠ† ball (0 : G) R)\n    (hg : âˆ€ x âˆˆ ball xâ‚€ R, g x = g xâ‚€) :\n    (convolution f L Î¼ g) xâ‚€ =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (L (f t) (g xâ‚€)) Î¼ :=\n  by\n  have h2 : âˆ€ t, L (f t) (g (xâ‚€ - t)) = L (f t) (g xâ‚€) :=\n    by\n    intro t\n    by_cases ht : t âˆˆ support f\n    Â· have h2t := hf ht\n      rw [mem_ball_zero_iff] at h2t\n      specialize hg (xâ‚€ - t)\n      rw [sub_eq_add_neg, add_mem_ball_iff_norm, norm_neg, â† sub_eq_add_neg] at hg\n      rw [hg h2t]\n    Â· rw [nmem_support] at ht\n      simp_rw [ht, L.map_zeroâ‚‚]\n  simp_rw [convolution_def, h2]\n#align convolution_eq_right' convolution_eq_right'\n\n",
 "convolution_eq_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â€¢ Â» -/\n/-- If `Ï†` is a bump function, compute `(Ï† â‹† g) xâ‚€` if `g` is constant on `metric.ball xâ‚€ Ï†.R`. -/\ntheorem convolution_eq_right {xâ‚€ : G} (hg : âˆ€ x âˆˆ ball xâ‚€ Ï†.R, g x = g xâ‚€) :\n    (convolution Ï† (lsmul (exprâ„) (exprâ„)) Î¼ g : G â†’ E') xâ‚€ = Â«expr â€¢ Â» (integral Î¼ Ï†) (g xâ‚€) := by\n  simp_rw [convolution_eq_right' _ Ï†.support_eq.subset hg, lsmul_apply, integral_smul_const]\n#align convolution_eq_right convolution_eq_right\n\n",
 "convolution_def":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\ntheorem convolution_def [Sub G] :\n    (convolution f L Î¼ g) x =\n      Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n        (L (f t) (g (x - t))) Î¼ :=\n  rfl\n#align convolution_def convolution_def\n\n",
 "convolution_congr":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr =áµ[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr =áµ[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem convolution_congr [MeasurableAddâ‚‚ G] [MeasurableNeg G] [SigmaFinite Î¼] [is_add_right_invariant Î¼]\n    (h1 : Â«expr =áµ[ ] Â» f Î¼ f') (h2 : Â«expr =áµ[ ] Â» g Î¼ g') : convolution f L Î¼ g = convolution f' L Î¼ g' :=\n  by\n  ext x\n  apply integral_congr_ae\n  exact\n    (h1.prod_mk <| h2.comp_tendsto (quasi_measure_preserving_sub_left_of_right_invariant Î¼ x).tendsto_ae).fun_comp\n      (uncurry fun x y => L x y)\n#align convolution_congr convolution_congr\n\n",
 "convolution_assoc'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- Convolution is associative. This has a weak but inconvenient integrability condition.\nSee also `convolution_assoc`. -/\ntheorem convolution_assoc' (hL : âˆ€ (x : E) (y : E') (z : E''), Lâ‚‚ (L x y) z = Lâ‚ƒ x (Lâ‚„ y z)) {xâ‚€ : G}\n    (hfg :\n      Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n        (convolution_exists_at f g y L Î½))\n    (hgk :\n      Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î½\n        (convolution_exists_at g k x Lâ‚„ Î¼))\n    (hi : integrable (uncurry fun x y => (Lâ‚ƒ (f y)) ((Lâ‚„ (g (x - y))) (k (xâ‚€ - x)))) (Î¼.prod Î½)) :\n    (convolution (convolution f L Î½ g) Lâ‚‚ Î¼ k) xâ‚€ = (convolution f Lâ‚ƒ Î½ (convolution g Lâ‚„ Î¼ k)) xâ‚€ :=\n  calc\n    (convolution (convolution f L Î½ g) Lâ‚‚ Î¼ k) xâ‚€ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Lâ‚‚\n            (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n              (L (f s) (g (t - s))) Î½)\n            (k (xâ‚€ - t)))\n          Î¼ :=\n      rfl\n    _ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n            (Lâ‚‚ (L (f s) (g (t - s))) (k (xâ‚€ - t))) Î½)\n          Î¼ :=\n      (integral_congr_ae (hfg.mono fun t ht => ((Lâ‚‚.flip (k (xâ‚€ - t))).integral_comp_comm ht).symm))\n    _ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n            (Lâ‚ƒ (f s) (Lâ‚„ (g (t - s)) (k (xâ‚€ - t)))) Î½)\n          Î¼ :=\n      by simp_rw [hL]\n    _ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n            (Lâ‚ƒ (f s) (Lâ‚„ (g (t - s)) (k (xâ‚€ - t)))) Î¼)\n          Î½ :=\n      by rw [integral_integral_swap hi]\n    _ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n            (Lâ‚ƒ (f s) (Lâ‚„ (g u) (k (xâ‚€ - s - u)))) Î¼)\n          Î½ :=\n      by\n      congr ; ext t\n      rw [eq_comm, â† integral_sub_right_eq_self _ t]\n      Â· simp_rw [sub_sub_sub_cancel_right]\n      Â· infer_instance\n    _ =\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Lâ‚ƒ (f s)\n            (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n              (Lâ‚„ (g u) (k (xâ‚€ - s - u))) Î¼))\n          Î½ :=\n      by\n      refine' integral_congr_ae _\n      refine' ((quasi_measure_preserving_sub_left_of_right_invariant Î½ xâ‚€).ae hgk).mono fun t ht => _\n      exact (Lâ‚ƒ (f t)).integral_comp_comm ht\n    _ = (convolution f Lâ‚ƒ Î½ (convolution g Lâ‚„ Î¼ k)) xâ‚€ := rfl\n    \n#align convolution_assoc' convolution_assoc'\n\n",
 "convolution_assoc":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- Convolution is associative. This requires that\n* all maps are a.e. strongly measurable w.r.t one of the measures\n* `f â‹†[L, Î½] g` exists almost everywhere\n* `â€–gâ€– â‹†[Î¼] â€–kâ€–` exists almost everywhere\n* `â€–fâ€– â‹†[Î½] (â€–gâ€– â‹†[Î¼] â€–kâ€–)` exists at `xâ‚€` -/\ntheorem convolution_assoc (hL : âˆ€ (x : E) (y : E') (z : E''), Lâ‚‚ (L x y) z = Lâ‚ƒ x (Lâ‚„ y z)) {xâ‚€ : G}\n    (hf : ae_strongly_measurable f Î½) (hg : ae_strongly_measurable g Î¼) (hk : ae_strongly_measurable k Î¼)\n    (hfg :\n      Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n        (convolution_exists_at f g y L Î½))\n    (hgk :\n      Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î½\n        (convolution_exists_at (fun x => Â«exprâ€– â€–Â» (g x)) (fun x => Â«exprâ€– â€–Â» (k x)) x (mul (exprâ„) (exprâ„)) Î¼))\n    (hfgk :\n      convolution_exists_at (fun x => Â«exprâ€– â€–Â» (f x))\n        (convolution (fun x => Â«exprâ€– â€–Â» (g x)) (mul (exprâ„) (exprâ„)) Î¼ fun x => Â«exprâ€– â€–Â» (k x)) xâ‚€\n        (mul (exprâ„) (exprâ„)) Î½) :\n    (convolution (convolution f L Î½ g) Lâ‚‚ Î¼ k) xâ‚€ = (convolution f Lâ‚ƒ Î½ (convolution g Lâ‚„ Î¼ k)) xâ‚€ :=\n  by\n  refine' convolution_assoc' L Lâ‚‚ Lâ‚ƒ Lâ‚„ hL hfg (hgk.mono fun x hx => hx.of_norm Lâ‚„ hg hk) _\n  -- the following is similar to `integrable.convolution_integrand`\n  have h_meas : ae_strongly_measurable (uncurry fun x y => Lâ‚ƒ (f y) (Lâ‚„ (g x) (k (xâ‚€ - y - x)))) (Î¼.prod Î½) :=\n    by\n    refine' Lâ‚ƒ.ae_strongly_measurable_compâ‚‚ hf.snd _\n    refine' Lâ‚„.ae_strongly_measurable_compâ‚‚ hg.fst _\n    refine' (hk.mono' _).comp_measurable ((measurable_const.sub measurable_snd).sub measurable_fst)\n    refine' quasi_measure_preserving.absolutely_continuous _\n    refine'\n      quasi_measure_preserving.prod_of_left ((measurable_const.sub measurable_snd).sub measurable_fst)\n        (eventually_of_forall fun y => _)\n    dsimp only\n    exact quasi_measure_preserving_sub_left_of_right_invariant Î¼ _\n  have h2_meas :\n    ae_strongly_measurable\n      (fun y =>\n        Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n          (Â«exprâ€– â€–Â» (Lâ‚ƒ (f y) (Lâ‚„ (g x) (k (xâ‚€ - y - x))))) Î¼)\n      Î½ :=\n    h_meas.prod_swap.norm.integral_prod_right'\n  have h3 : map (fun z : G Ã— G => (z.1 - z.2, z.2)) (Î¼.prod Î½) = Î¼.prod Î½ := (measure_preserving_sub_prod Î¼ Î½).map_eq\n  suffices integrable (uncurry fun x y => Lâ‚ƒ (f y) (Lâ‚„ (g x) (k (xâ‚€ - y - x)))) (Î¼.prod Î½)\n    by\n    rw [â† h3] at this\n    convert this.comp_measurable (measurable_sub.prod_mk measurable_snd)\n    ext âŸ¨x, yâŸ©\n    simp_rw [uncurry, Function.comp_apply, sub_sub_sub_cancel_right]\n  simp_rw [integrable_prod_iff' h_meas]\n  refine'\n    âŸ¨((quasi_measure_preserving_sub_left_of_right_invariant Î½ xâ‚€).ae hgk).mono fun t ht =>\n        (Lâ‚ƒ (f t)).integrable_comp <| ht.of_norm Lâ‚„ hg hk,\n      _âŸ©\n  refine'\n    (hfgk.const_mul (Â«exprâ€– â€–Â» Lâ‚ƒ * Â«exprâ€– â€–Â» Lâ‚„)).mono' h2_meas\n      (((quasi_measure_preserving_sub_left_of_right_invariant Î½ xâ‚€).ae hgk).mono fun t ht => _)\n  Â· simp_rw [convolution_def, mul_apply', mul_mul_mul_comm (Â«exprâ€– â€–Â» Lâ‚ƒ) (Â«exprâ€– â€–Â» Lâ‚„), â† integral_mul_left]\n    rw [Real.norm_of_nonneg]\n    Â· refine'\n        integral_mono_of_nonneg (eventually_of_forall fun t => norm_nonneg _) ((ht.const_mul _).const_mul _)\n          (eventually_of_forall fun s => _)\n      refine' (Lâ‚ƒ.le_op_normâ‚‚ _ _).trans _\n      refine' mul_le_mul_of_nonneg_left _ (mul_nonneg (norm_nonneg _) (norm_nonneg _))\n      rw [â† mul_assoc]\n      apply Lâ‚„.le_op_normâ‚‚\n    exact integral_nonneg fun x => norm_nonneg _\n#align convolution_assoc convolution_assoc\n\n",
 "convolution":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.convolution [T2Space G] (hcf : HasCompactSupport f) (hcg : HasCompactSupport g) :\n    HasCompactSupport (convolution f L Î¼ g) :=\n  isCompact_of_isClosed_subset (hcg.is_compact.add hcf) isClosed_closure <|\n    closure_minimal ((support_convolution_subset_swap L).trans <| add_subset_add subset_closure subset_closure)\n      (hcg.is_compact.add hcf).is_closed\n#align has_compact_support.convolution has_compact_support.convolution\n\n",
 "continuous_on_convolution_right_with_param_comp'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution `f * g` is continuous if `f` is locally integrable and `g` is continuous and\ncompactly supported. Version where `g` depends on an additional parameter in an open subset `s` of\na parameter space `P` (and the compact support `k` is independent of the parameter in `s`),\ngiven in terms of compositions with an additional continuous map.\nVersion not assuming `t2_space G`. -/\ntheorem continuous_on_convolution_right_with_param_comp' {s : Set P} {v : P â†’ G} (hv : ContinuousOn v s)\n    {g : P â†’ G â†’ E'} {k : Set G} (hk : IsCompact k) (h'k : IsClosed k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0)\n    (hf : locally_integrable f Î¼) (hg : ContinuousOn (uncurry g) (lower_set.prod s univ)) :\n    ContinuousOn (fun x => (convolution f L Î¼ (g x)) (v x)) s :=\n  by\n  apply (continuous_on_convolution_right_with_param' L hk h'k hgs hf hg).comp (continuous_on_id.prod hv)\n  intro x hx\n  simp only [hx, prod_mk_mem_set_prod_eq, mem_univ, and_self_iff, id.def]\n#align continuous_on_convolution_right_with_param_comp' continuous_on_convolution_right_with_param_comp'\n\n",
 "continuous_on_convolution_right_with_param_comp":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution `f * g` is continuous if `f` is locally integrable and `g` is continuous and\ncompactly supported. Version where `g` depends on an additional parameter in an open subset `s` of\na parameter space `P` (and the compact support `k` is independent of the parameter in `s`),\ngiven in terms of compositions with an additional continuous map. -/\ntheorem continuous_on_convolution_right_with_param_comp [T2Space G] {s : Set P} {v : P â†’ G} (hv : ContinuousOn v s)\n    {g : P â†’ G â†’ E'} {k : Set G} (hk : IsCompact k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0)\n    (hf : locally_integrable f Î¼) (hg : ContinuousOn (uncurry g) (lower_set.prod s univ)) :\n    ContinuousOn (fun x => (convolution f L Î¼ (g x)) (v x)) s :=\n  continuous_on_convolution_right_with_param_comp' L hv hk hk.is_closed hgs hf hg\n#align continuous_on_convolution_right_with_param_comp continuous_on_convolution_right_with_param_comp\n\n",
 "continuous_on_convolution_right_with_param'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr '' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr '' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds_within -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds_within -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds_within -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/-- The convolution `f * g` is continuous if `f` is locally integrable and `g` is continuous and\ncompactly supported. Version where `g` depends on an additional parameter in a subset `s` of\na parameter space `P` (and the compact support `k` is independent of the parameter in `s`),\nnot assuming `t2_space G`. -/\ntheorem continuous_on_convolution_right_with_param' {g : P â†’ G â†’ E'} {s : Set P} {k : Set G} (hk : IsCompact k)\n    (h'k : IsClosed k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : ContinuousOn (uncurry g) (lower_set.prod s univ)) :\n    ContinuousOn (fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2) (lower_set.prod s univ) :=\n  by\n  intro qâ‚€ hqâ‚€\n  replace hqâ‚€ : qâ‚€.1 âˆˆ s\n  Â· simpa only [mem_prod, mem_univ, and_true_iff] using hqâ‚€\n  have A : âˆ€ p âˆˆ s, Continuous (g p) := by\n    intro p hp\n    apply hg.comp_continuous (continuous_const.prod_mk continuous_id') fun x => _\n    simpa only [prod_mk_mem_set_prod_eq, mem_univ, and_true_iff] using hp\n  have B : âˆ€ p âˆˆ s, tsupport (g p) âŠ† k := fun p hp =>\n    closure_minimal (support_subset_iff'.2 fun z hz => hgs _ _ hp hz) h'k\n  /- We find a small neighborhood of `{qâ‚€.1} Ã— k` on which the function is uniformly bounded.\n      This follows from the continuity at all points of the compact set `k`. -/\n  obtain âŸ¨w, C, w_open, qâ‚€w, Cnonneg, hwâŸ© :\n    âˆƒ w C, IsOpen w âˆ§ qâ‚€.1 âˆˆ w âˆ§ 0 â‰¤ C âˆ§ âˆ€ p x, p âˆˆ w âˆ© s â†’ Â«exprâ€– â€–Â» (g p x) â‰¤ C :=\n    by\n    have A : IsCompact (lower_set.prod {qâ‚€.1} k) := is_compact_singleton.prod hk\n    obtain âŸ¨t, kt, t_open, htâŸ© :\n      âˆƒ t, lower_set.prod {qâ‚€.1} k âŠ† t âˆ§ IsOpen t âˆ§ bounded (Â«expr '' Â» (uncurry g) (t âˆ© lower_set.prod s univ)) :=\n      by\n      apply exists_is_open_bounded_image_inter_of_is_compact_of_continuous_on A _ hg\n      simp only [prod_subset_prod_iff, hqâ‚€, singleton_subset_iff, subset_univ, and_self_iff, true_or_iff]\n    obtain âŸ¨C, Cpos, hCâŸ© : âˆƒ C, 0 < C âˆ§ Â«expr '' Â» (uncurry g) (t âˆ© lower_set.prod s univ) âŠ† closed_ball (0 : E') C\n    exact ht.subset_ball_lt 0 0\n    obtain âŸ¨w, w_open, qâ‚€w, hwâŸ© : âˆƒ w, IsOpen w âˆ§ qâ‚€.1 âˆˆ w âˆ§ lower_set.prod w k âŠ† t :=\n      by\n      obtain âŸ¨w, v, w_open, v_open, hw, hv, hvwâŸ© :\n        âˆƒ (w : Set P)(v : Set G), IsOpen w âˆ§ IsOpen v âˆ§ {qâ‚€.fst} âŠ† w âˆ§ k âŠ† v âˆ§ lower_set.prod w v âŠ† t\n      exact generalized_tube_lemma isCompact_singleton hk t_open kt\n      exact âŸ¨w, w_open, singleton_subset_iff.1 hw, subset.trans (Set.prod_mono subset.rfl hv) hvwâŸ©\n    refine' âŸ¨w, C, w_open, qâ‚€w, Cpos.le, _âŸ©\n    rintro p x âŸ¨hp, hpsâŸ©\n    by_cases hx : x âˆˆ k\n    Â· have H : (p, x) âˆˆ t := by\n        apply hw\n        simp only [prod_mk_mem_set_prod_eq, hp, hx, and_true_iff]\n      have H' : (p, x) âˆˆ (lower_set.prod s univ : Set (P Ã— G)) := by\n        simpa only [prod_mk_mem_set_prod_eq, mem_univ, and_true_iff] using hps\n      have : g p x âˆˆ closed_ball (0 : E') C := hC (mem_image_of_mem _ âŸ¨H, H'âŸ©)\n      rwa [mem_closedBall_zero_iff] at this\n    Â· have : g p x = 0 := hgs _ _ hps hx\n      rw [this]\n      simpa only [norm_zero] using Cpos.le\n  have I1 :\n    Â«exprâˆ€á¶  in , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â»\"\n      (nhds_within (lower_set.prod s univ) qâ‚€) (ae_strongly_measurable (fun a : G => L (f a) (g q.1 (q.2 - a))) Î¼) :=\n    by\n    filter_upwards [self_mem_nhdsWithin]\n    rintro âŸ¨p, xâŸ© âŸ¨hp, hxâŸ©\n    refine' (has_compact_support.convolution_exists_right L _ hf (A _ hp) _).1\n    exact isCompact_of_isClosed_subset hk (isClosed_tsupport _) (B p hp)\n  let K' := -k + {qâ‚€.2}\n  have hK' : IsCompact K' := hk.neg.add isCompact_singleton\n  obtain âŸ¨U, U_open, K'U, hUâŸ© : âˆƒ U, IsOpen U âˆ§ K' âŠ† U âˆ§ integrable_on f U Î¼\n  exact hf.integrable_on_nhds_is_compact hK'\n  let bound : G â†’ exprâ„ := indicator U fun a => Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f a) * C\n  have I2 :\n    Â«exprâˆ€á¶  in , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â»\"\n      (nhds_within (lower_set.prod s univ) qâ‚€)\n      (Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n        (Â«exprâ€– â€–Â» (L (f a) (g q.1 (q.2 - a))) â‰¤ bound a)) :=\n    by\n    obtain âŸ¨V, V_mem, hVâŸ© : âˆƒ (V : Set G)(H : V âˆˆ (nhds) (0 : G)), K' + V âŠ† U\n    exact compact_open_separated_add_right hK' U_open K'U\n    have : (lower_set.prod (w âˆ© s) ({qâ‚€.2} + V) : Set (P Ã— G)) âˆˆ nhds_within (lower_set.prod s univ) qâ‚€ :=\n      by\n      conv_rhs => rw [â† @prod.mk.eta _ _ qâ‚€, nhdsWithin_prod_eq, nhdsWithin_univ]\n      refine' Filter.prod_mem_prod _ (singleton_add_mem_nhds_of_nhds_zero qâ‚€.2 V_mem)\n      exact mem_nhdsWithin_iff_exists_mem_nhds_inter.2 âŸ¨w, w_open.mem_nhds qâ‚€w, subset.rflâŸ©\n    filter_upwards [this]\n    rintro âŸ¨p, xâŸ© hpx\n    simp only [prod_mk_mem_set_prod_eq] at hpx\n    apply eventually_of_forall fun a => _\n    apply convolution_integrand_bound_right_of_le_of_subset _ _ hpx.2 _\n    Â· intro x\n      exact hw _ _ hpx.1\n    Â· rw [â† add_assoc]\n      apply subset.trans (add_subset_add_right (add_subset_add_right _)) hV\n      rw [neg_subset_neg]\n      exact B p hpx.1.2\n  have I3 : integrable bound Î¼ := by\n    rw [integrable_indicator_iff U_open.measurable_set]\n    exact (hU.norm.const_mul _).mul_const _\n  have I4 :\n    Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n      (ContinuousWithinAt (fun q : P Ã— G => L (f a) (g q.1 (q.2 - a))) (lower_set.prod s univ) qâ‚€) :=\n    by\n    apply eventually_of_forall fun a => _\n    suffices H : ContinuousWithinAt (fun q : P Ã— G => (f a, g q.1 (q.2 - a))) (lower_set.prod s univ) qâ‚€\n    exact L.continuousâ‚‚.continuous_at.comp_continuous_within_at H\n    apply continuous_within_at_const.prod\n    change ContinuousWithinAt (fun q : P Ã— G => (uncurry g) (q.1, q.2 - a)) (lower_set.prod s univ) qâ‚€\n    have : ContinuousAt (fun q : P Ã— G => (q.1, q.2 - a)) (qâ‚€.1, qâ‚€.2) :=\n      (continuous_fst.prod_mk (continuous_snd.sub continuous_const)).continuous_at\n    rw [â† @prod.mk.eta _ _ qâ‚€]\n    have h'qâ‚€ : (qâ‚€.1, qâ‚€.2 - a) âˆˆ (lower_set.prod s univ : Set (P Ã— G)) := âŸ¨hqâ‚€, mem_univ _âŸ©\n    refine' ContinuousWithinAt.comp (hg _ h'qâ‚€) this.continuous_within_at _\n    rintro âŸ¨q, xâŸ© âŸ¨hq, hxâŸ©\n    exact âŸ¨hq, mem_univ _âŸ©\n  exact continuous_within_at_of_dominated I1 I2 I3 I4\n#align continuous_on_convolution_right_with_param' continuous_on_convolution_right_with_param'\n\n",
 "continuous_on_convolution_right_with_param":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/-- The convolution `f * g` is continuous if `f` is locally integrable and `g` is continuous and\ncompactly supported. Version where `g` depends on an additional parameter in a subset `s` of\na parameter space `P` (and the compact support `k` is independent of the parameter in `s`). -/\ntheorem continuous_on_convolution_right_with_param [T2Space G] {g : P â†’ G â†’ E'} {s : Set P} {k : Set G}\n    (hk : IsCompact k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : ContinuousOn (uncurry g) (lower_set.prod s univ)) :\n    ContinuousOn (fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2) (lower_set.prod s univ) :=\n  continuous_on_convolution_right_with_param' L hk hk.is_closed hgs hf hg\n#align continuous_on_convolution_right_with_param continuous_on_convolution_right_with_param\n\n",
 "continuous_convolution_right_of_integrable":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution is continuous if one function is integrable and the other is bounded and\ncontinuous. -/\ntheorem bdd_above.continuous_convolution_right_of_integrable [SecondCountableTopology G]\n    (hbg : BddAbove (range fun x => Â«exprâ€– â€–Â» (g x))) (hf : integrable f Î¼) (hg : Continuous g) :\n    Continuous (convolution f L Î¼ g) :=\n  by\n  refine' continuous_iff_continuous_at.mpr fun xâ‚€ => _\n  have :\n    Â«exprâˆ€á¶  in , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€á¶  in , Â»\" ((nhds) xâ‚€)\n      (Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n        (Â«exprâ€– â€–Â» (L (f t) (g (x - t))) â‰¤\n          Â«exprâ€– â€–Â» L * Â«exprâ€– â€–Â» (f t) *\n            Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n              (Â«exprâ€– â€–Â» (g i)))) :=\n    by\n    refine' eventually_of_forall fun x => eventually_of_forall fun t => _\n    refine' (L.le_op_normâ‚‚ _ _).trans _\n    exact mul_le_mul_of_nonneg_left (le_csupáµ¢ hbg <| x - t) (mul_nonneg (norm_nonneg _) (norm_nonneg _))\n  refine' continuous_at_of_dominated _ this _ _\n  Â· exact eventually_of_forall fun x => hf.ae_strongly_measurable.convolution_integrand_snd' L hg.ae_strongly_measurable\n  Â· exact (hf.norm.const_mul _).mul_const _\n  Â·\n    exact\n      eventually_of_forall fun t =>\n        (L.continuousâ‚‚.compâ‚‚ continuous_const <|\n            hg.comp <| continuous_id.sub <| by apply continuous_const).continuous_at\n#align bdd_above.continuous_convolution_right_of_integrable bdd_above.continuous_convolution_right_of_integrable\n\n",
 "continuous_convolution_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution is continuous if one function is locally integrable and the other has compact\nsupport and is continuous. -/\ntheorem has_compact_support.continuous_convolution_right (hcg : HasCompactSupport g) (hf : locally_integrable f Î¼)\n    (hg : Continuous g) : Continuous (convolution f L Î¼ g) :=\n  by\n  rw [continuous_iff_continuousOn_univ]\n  let g' : G â†’ G â†’ E' := fun p q => g q\n  have : ContinuousOn (uncurry g') (lower_set.prod univ univ) := (hg.comp continuous_snd).continuous_on\n  exact\n    continuous_on_convolution_right_with_param_comp' L (continuous_iff_continuousOn_univ.1 continuous_id) hcg\n      (isClosed_tsupport _) (fun p x hp hx => image_eq_zero_of_nmem_tsupport hx) hf this\n#align has_compact_support.continuous_convolution_right has_compact_support.continuous_convolution_right\n\n",
 "continuous_convolution_left_of_integrable":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem bdd_above.continuous_convolution_left_of_integrable [SecondCountableTopology G]\n    (hbf : BddAbove (range fun x => Â«exprâ€– â€–Â» (f x))) (hf : Continuous f) (hg : integrable g Î¼) :\n    Continuous (convolution f L Î¼ g) := by\n  rw [â† convolution_flip]\n  exact hbf.continuous_convolution_right_of_integrable L.flip hg hf\n#align bdd_above.continuous_convolution_left_of_integrable bdd_above.continuous_convolution_left_of_integrable\n\n",
 "continuous_convolution_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.continuous_convolution_left [FirstCountableTopology G] (hcf : HasCompactSupport f)\n    (hf : Continuous f) (hg : locally_integrable g Î¼) : Continuous (convolution f L Î¼ g) :=\n  by\n  rw [â† convolution_flip]\n  exact hcf.continuous_convolution_right L.flip hg hf\n#align has_compact_support.continuous_convolution_left has_compact_support.continuous_convolution_left\n\n",
 "cont_diff_on_convolution_right_with_param_comp":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution `f * g` is `C^n` when `f` is locally integrable and `g` is `C^n` and compactly\nsupported. Version where `g` depends on an additional parameter in an open subset `s` of a\nparameter space `P` (and the compact support `k` is independent of the parameter in `s`),\ngiven in terms of composition with an additional smooth function. -/\ntheorem cont_diff_on_convolution_right_with_param_comp {n : Â«exprâ„•âˆÂ»} (L : Â«expr â†’L[ ] Â» E ğ•œ (Â«expr â†’L[ ] Â» E' ğ•œ F))\n    {s : Set P} {v : P â†’ G} (hv : cont_diff_on ğ•œ n v s) {f : G â†’ E} {g : P â†’ G â†’ E'} {k : Set G} (hs : IsOpen s)\n    (hk : IsCompact k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : cont_diff_on ğ•œ n (uncurry g) (lower_set.prod s univ)) :\n    cont_diff_on ğ•œ n (fun x => (convolution f L Î¼ (g x)) (v x)) s :=\n  by\n  apply (cont_diff_on_convolution_right_with_param L hs hk hgs hf hg).comp (cont_diff_on_id.prod hv)\n  intro x hx\n  simp only [hx, mem_preimage, prod_mk_mem_set_prod_eq, mem_univ, and_self_iff, id.def]\n#align cont_diff_on_convolution_right_with_param_comp cont_diff_on_convolution_right_with_param_comp\n\n",
 "cont_diff_on_convolution_right_with_param_aux":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr á¶œÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/-- The convolution `f * g` is `C^n` when `f` is locally integrable and `g` is `C^n` and compactly\nsupported. Version where `g` depends on an additional parameter in an open subset `s` of a\nparameter space `P` (and the compact support `k` is independent of the parameter in `s`).\nIn this version, all the types belong to the same universe (to get an induction working in the\nproof). Use instead `cont_diff_on_convolution_right_with_param`, which removes this restriction. -/\ntheorem cont_diff_on_convolution_right_with_param_aux {G : Type uP} {E' : Type uP} {F : Type uP} {P : Type uP}\n    [NormedAddCommGroup E'] [NormedAddCommGroup F] [NormedSpace ğ•œ E'] [NormedSpace (exprâ„) F] [NormedSpace ğ•œ F]\n    [CompleteSpace F] [MeasurableSpace G] {Î¼ : measure G} [NormedAddCommGroup G] [borel_space G] [NormedSpace ğ•œ G]\n    [NormedAddCommGroup P] [NormedSpace ğ•œ P] {f : G â†’ E} {n : Â«exprâ„•âˆÂ»} (L : Â«expr â†’L[ ] Â» E ğ•œ (Â«expr â†’L[ ] Â» E' ğ•œ F))\n    {g : P â†’ G â†’ E'} {s : Set P} {k : Set G} (hs : IsOpen s) (hk : IsCompact k)\n    (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : cont_diff_on ğ•œ n (uncurry g) (lower_set.prod s univ)) :\n    cont_diff_on ğ•œ n (fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2) (lower_set.prod s univ) :=\n  by\n  /- We have a formula for the derivation of `f * g`, which is of the same form, thanks to\n    `has_fderiv_at_convolution_right_with_param`. Therefore, we can prove the result by induction on\n    `n` (but for this we need the spaces at the different steps of the induction to live in the same\n    universe, which is why we make the assumption in the lemma that all the relevant spaces\n    come from the same universe). -/\n  induction' n using ENat.nat_induction with n ih ih generalizing g E' F\n  Â· rw [cont_diff_on_zero] at hgâŠ¢\n    exact continuous_on_convolution_right_with_param L hk hgs hf hg\n  Â· let f' : P â†’ G â†’ Â«expr â†’L[ ] Â» (P Ã— G) ğ•œ F := fun p a =>\n      (convolution f (L.precompR (P Ã— G)) Î¼ fun x : G => fderiv ğ•œ (uncurry g) (p, x)) a\n    have A :\n      âˆ€ qâ‚€ : P Ã— G, qâ‚€.1 âˆˆ s â†’ has_fderiv_at (fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2) (f' qâ‚€.1 qâ‚€.2) qâ‚€ :=\n      has_fderiv_at_convolution_right_with_param L hs hk hgs hf hg.one_of_succ\n    rw [cont_diff_on_succ_iff_fderiv_of_open (hs.prod (@isOpen_univ G _))] at hgâŠ¢\n    constructor\n    Â· rintro âŸ¨p, xâŸ© âŸ¨hp, hxâŸ©\n      exact (A (p, x) hp).differentiable_at.differentiable_within_at\n    Â· suffices H : cont_diff_on ğ•œ n (uncurry f') (lower_set.prod s univ)\n      Â· apply H.congr\n        rintro âŸ¨p, xâŸ© âŸ¨hp, hxâŸ©\n        exact (A (p, x) hp).fderiv\n      have B : âˆ€ (p : P) (x : G), p âˆˆ s â†’ x âˆ‰ k â†’ fderiv ğ•œ (uncurry g) (p, x) = 0 :=\n        by\n        intro p x hp hx\n        apply (has_fderiv_at_zero_of_eventually_const (0 : E') _).fderiv\n        have M2 : Â«expr á¶œÂ» k âˆˆ (nhds) x := IsOpen.mem_nhds hk.is_closed.is_open_compl hx\n        have M1 : s âˆˆ (nhds) p := hs.mem_nhds hp\n        rw [nhds_prod_eq]\n        filter_upwards [prod_mem_prod M1 M2]\n        rintro âŸ¨p, yâŸ© âŸ¨hp, hyâŸ©\n        exact hgs p y hp hy\n      apply ih (L.precompR (P Ã— G) : _) B\n      convert hg.2\n      apply funext\n      rintro âŸ¨p, xâŸ©\n      rfl\n  Â· rw [cont_diff_on_top] at hgâŠ¢\n    intro n\n    exact ih n L hgs (hg n)\n#align cont_diff_on_convolution_right_with_param_aux cont_diff_on_convolution_right_with_param_aux\n\n",
 "cont_diff_on_convolution_right_with_param":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â‰ƒL[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â‰ƒL[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â‰ƒL[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â‰ƒL[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â»Â¹' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â»Â¹' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â»Â¹' Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/-- The convolution `f * g` is `C^n` when `f` is locally integrable and `g` is `C^n` and compactly\nsupported. Version where `g` depends on an additional parameter in an open subset `s` of a\nparameter space `P` (and the compact support `k` is independent of the parameter in `s`). -/\ntheorem cont_diff_on_convolution_right_with_param {f : G â†’ E} {n : Â«exprâ„•âˆÂ»}\n    (L : Â«expr â†’L[ ] Â» E ğ•œ (Â«expr â†’L[ ] Â» E' ğ•œ F)) {g : P â†’ G â†’ E'} {s : Set P} {k : Set G} (hs : IsOpen s)\n    (hk : IsCompact k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : cont_diff_on ğ•œ n (uncurry g) (lower_set.prod s univ)) :\n    cont_diff_on ğ•œ n (fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2) (lower_set.prod s univ) :=\n  by\n  /- The result is known when all the universes are the same, from\n    `cont_diff_on_convolution_right_with_param_aux`. We reduce to this situation by pushing\n    everything through `ulift` continuous linear equivalences. -/\n  let eG : Type max uG uE' uF uP := ULift G\n  borelize eG\n  let eE' : Type max uE' uG uF uP := ULift E'\n  let eF : Type max uF uG uE' uP := ULift F\n  let eP : Type max uP uG uE' uF := ULift P\n  have isoG : Â«expr â‰ƒL[ ] Â» eG ğ•œ G := ContinuousLinearEquiv.ulift\n  have isoE' : Â«expr â‰ƒL[ ] Â» eE' ğ•œ E' := ContinuousLinearEquiv.ulift\n  have isoF : Â«expr â‰ƒL[ ] Â» eF ğ•œ F := ContinuousLinearEquiv.ulift\n  have isoP : Â«expr â‰ƒL[ ] Â» eP ğ•œ P := ContinuousLinearEquiv.ulift\n  let ef := f âˆ˜ isoG\n  let eÎ¼ : measure eG := measure.map isoG.symm Î¼\n  let eg : eP â†’ eG â†’ eE' := fun ep ex => isoE'.symm (g (isoP ep) (isoG ex))\n  let eL :=\n    ContinuousLinearMap.comp\n      ((continuous_linear_equiv.arrow_congr isoE' isoF).symm :\n        Â«expr â†’L[ ] Â» (Â«expr â†’L[ ] Â» E' ğ•œ F) ğ•œ (Â«expr â†’L[ ] Â» eE' ğ•œ eF))\n      L\n  let R := fun q : eP Ã— eG => (convolution ef eL eÎ¼ (eg q.1)) q.2\n  have R_contdiff : cont_diff_on ğ•œ n R (lower_set.prod (Â«expr â»Â¹' Â» isoP s) univ) :=\n    by\n    have hek : IsCompact (Â«expr â»Â¹' Â» isoG k) := isoG.to_homeomorph.closed_embedding.is_compact_preimage hk\n    have hes : IsOpen (Â«expr â»Â¹' Â» isoP s) := isoP.continuous.is_open_preimage _ hs\n    refine' cont_diff_on_convolution_right_with_param_aux eL hes hek _ _ _\n    Â· intro p x hp hx\n      simp only [comp_app, ContinuousLinearEquiv.prod_apply, LinearIsometryEquiv.coe_coe,\n        ContinuousLinearEquiv.map_eq_zero_iff]\n      exact hgs _ _ hp hx\n    Â· apply (locally_integrable_map_homeomorph isoG.symm.to_homeomorph).2\n      convert hf\n      ext1 x\n      simp only [ef, ContinuousLinearEquiv.coe_toHomeomorph, comp_app, ContinuousLinearEquiv.apply_symm_apply]\n    Â· apply isoE'.symm.cont_diff.comp_cont_diff_on\n      apply hg.comp (isoP.prod isoG).cont_diff.cont_diff_on\n      rintro âŸ¨p, xâŸ© âŸ¨hp, hxâŸ©\n      simpa only [mem_preimage, ContinuousLinearEquiv.prod_apply, prod_mk_mem_set_prod_eq, mem_univ, and_true_iff] using\n        hp\n  have A : cont_diff_on ğ•œ n (isoF âˆ˜ R âˆ˜ (isoP.prod isoG).symm) (lower_set.prod s univ) :=\n    by\n    apply isoF.cont_diff.comp_cont_diff_on\n    apply R_contdiff.comp (continuous_linear_equiv.cont_diff _).cont_diff_on\n    rintro âŸ¨p, xâŸ© âŸ¨hp, hxâŸ©\n    simpa only [mem_preimage, mem_prod, mem_univ, and_true_iff, ContinuousLinearEquiv.prod_symm,\n      ContinuousLinearEquiv.prod_apply, ContinuousLinearEquiv.apply_symm_apply] using hp\n  have : isoF âˆ˜ R âˆ˜ (isoP.prod isoG).symm = fun q : P Ã— G => (convolution f L Î¼ (g q.1)) q.2 :=\n    by\n    apply funext\n    rintro âŸ¨p, xâŸ©\n    simp only [R, LinearIsometryEquiv.coe_coe, comp_app, ContinuousLinearEquiv.prod_symm,\n      ContinuousLinearEquiv.prod_apply]\n    simp only [convolution, eL, coe_comp', ContinuousLinearEquiv.coe_coe, comp_app, eÎ¼]\n    rw [closed_embedding.integral_map, â† isoF.integral_comp_comm]\n    swap\n    Â· exact isoG.symm.to_homeomorph.closed_embedding\n    congr 1\n    ext1 a\n    simp only [ef, eg, comp_app, ContinuousLinearEquiv.apply_symm_apply, coe_comp', ContinuousLinearEquiv.prod_apply,\n      ContinuousLinearEquiv.map_sub, continuous_linear_equiv.arrow_congr,\n      continuous_linear_equiv.arrow_congrSL_symm_apply, ContinuousLinearEquiv.coe_coe, comp_app,\n      ContinuousLinearEquiv.apply_symm_apply]\n  simp_rw [this] at A\n  exact A\n#align cont_diff_on_convolution_right_with_param cont_diff_on_convolution_right_with_param\n\n",
 "cont_diff_on_convolution_left_with_param_comp":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/-- The convolution `g * f` is `C^n` when `f` is locally integrable and `g` is `C^n` and compactly\nsupported. Version where `g` depends on an additional parameter in an open subset `s` of a\nparameter space `P` (and the compact support `k` is independent of the parameter in `s`),\ngiven in terms of composition with additional smooth functions. -/\ntheorem cont_diff_on_convolution_left_with_param_comp [Î¼.is_add_left_invariant] [Î¼.is_neg_invariant]\n    (L : Â«expr â†’L[ ] Â» E' ğ•œ (Â«expr â†’L[ ] Â» E ğ•œ F)) {s : Set P} {n : Â«exprâ„•âˆÂ»} {v : P â†’ G} (hv : cont_diff_on ğ•œ n v s)\n    {f : G â†’ E} {g : P â†’ G â†’ E'} {k : Set G} (hs : IsOpen s) (hk : IsCompact k)\n    (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : cont_diff_on ğ•œ n (uncurry g) (lower_set.prod s univ)) :\n    cont_diff_on ğ•œ n (fun x => (convolution (g x) L Î¼ f) (v x)) s :=\n  by\n  apply (cont_diff_on_convolution_left_with_param L hs hk hgs hf hg).comp (cont_diff_on_id.prod hv)\n  intro x hx\n  simp only [hx, mem_preimage, prod_mk_mem_set_prod_eq, mem_univ, and_self_iff, id.def]\n#align cont_diff_on_convolution_left_with_param_comp cont_diff_on_convolution_left_with_param_comp\n\n",
 "cont_diff_on_convolution_left_with_param":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr â†’L[ ] Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `uncurry -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:177:8: unsupported: ambiguous notation -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `lower_set.prod -/\n/-- The convolution `g * f` is `C^n` when `f` is locally integrable and `g` is `C^n` and compactly\nsupported. Version where `g` depends on an additional parameter in an open subset `s` of a\nparameter space `P` (and the compact support `k` is independent of the parameter in `s`). -/\ntheorem cont_diff_on_convolution_left_with_param [Î¼.is_add_left_invariant] [Î¼.is_neg_invariant]\n    (L : Â«expr â†’L[ ] Â» E' ğ•œ (Â«expr â†’L[ ] Â» E ğ•œ F)) {f : G â†’ E} {n : Â«exprâ„•âˆÂ»} {g : P â†’ G â†’ E'} {s : Set P} {k : Set G}\n    (hs : IsOpen s) (hk : IsCompact k) (hgs : âˆ€ p, âˆ€ x, p âˆˆ s â†’ x âˆ‰ k â†’ g p x = 0) (hf : locally_integrable f Î¼)\n    (hg : cont_diff_on ğ•œ n (uncurry g) (lower_set.prod s univ)) :\n    cont_diff_on ğ•œ n (fun q : P Ã— G => (convolution (g q.1) L Î¼ f) q.2) (lower_set.prod s univ) := by\n  simpa only [convolution_flip] using cont_diff_on_convolution_right_with_param L.flip hs hk hgs hf hg\n#align cont_diff_on_convolution_left_with_param cont_diff_on_convolution_left_with_param\n\n",
 "cont_diff_convolution_right":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.cont_diff_convolution_right {n : Â«exprâ„•âˆÂ»} (hcg : HasCompactSupport g)\n    (hf : locally_integrable f Î¼) (hg : cont_diff ğ•œ n g) : cont_diff ğ•œ n (convolution f L Î¼ g) :=\n  by\n  rcases exists_compact_iff_hasCompactSupport.2 hcg with âŸ¨k, hk, h'kâŸ©\n  rw [â† cont_diff_on_univ]\n  exact\n    cont_diff_on_convolution_right_with_param_comp L cont_diff_on_id isOpen_univ hk (fun p x hp hx => h'k x hx) hf\n      (hg.comp cont_diff_snd).cont_diff_on\n#align has_compact_support.cont_diff_convolution_right has_compact_support.cont_diff_convolution_right\n\n",
 "cont_diff_convolution_left":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ„•âˆÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem has_compact_support.cont_diff_convolution_left [Î¼.is_add_left_invariant] [Î¼.is_neg_invariant] {n : Â«exprâ„•âˆÂ»}\n    (hcf : HasCompactSupport f) (hf : cont_diff ğ•œ n f) (hg : locally_integrable g Î¼) :\n    cont_diff ğ•œ n (convolution f L Î¼ g) := by\n  rw [â† convolution_flip]\n  exact hcf.cont_diff_convolution_right L.flip hg hf\n#align has_compact_support.cont_diff_convolution_left has_compact_support.cont_diff_convolution_left\n\n",
 "ae_convolution_exists":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\ntheorem measure_theory.integrable.ae_convolution_exists (hf : integrable f Î½) (hg : integrable g Î¼) :\n    Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n      (convolution_exists_at f g x L Î½) :=\n  ((integrable_prod_iff <| hf.ae_strongly_measurable.convolution_integrand L hg.ae_strongly_measurable).mp <|\n      hf.convolution_integrand L hg).1\n#align measure_theory.integrable.ae_convolution_exists measure_theory.integrable.ae_convolution_exists\n\n",
 "add_distrib":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `convolution -/\ntheorem convolution_exists.add_distrib (hfg : convolution_exists f g L Î¼) (hfg' : convolution_exists f' g L Î¼) :\n    convolution (f + f') L Î¼ g = convolution f L Î¼ g + convolution f' L Î¼ g :=\n  by\n  ext\n  exact (hfg x).add_distrib (hfg' x)\n#align convolution_exists.add_distrib convolution_exists.add_distrib\n\n"}