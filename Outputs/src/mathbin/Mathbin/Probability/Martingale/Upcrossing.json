{"upper_crossing_time_zero'":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâŠ¥Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâŠ¥Â» -/\n@[simp]\ntheorem upper_crossing_time_zero' : upper_crossing_time a b f (Â«exprâŠ¥Â») n Ï‰ = Â«exprâŠ¥Â» :=\n  eq_bot_iff.2 upper_crossing_time_le\n#align upper_crossing_time_zero' upper_crossing_time_zero'\n\n",
 "upper_crossing_time_zero":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâŠ¥Â» -/\n/-\nCopyright (c) 2022 Kexing Ying. All rights reserved.\nReleased under Apache 2.0 license as described in the file LICENSE.\nAuthors: Kexing Ying\n-/\n@[simp]\ntheorem upper_crossing_time_zero : upper_crossing_time a b f N 0 = Â«exprâŠ¥Â» :=\n  rfl\n#align upper_crossing_time_zero upper_crossing_time_zero\n\n",
 "upper_crossing_time_succ_eq":
 "theorem upper_crossing_time_succ_eq (Ï‰ : Î©) :\n    upper_crossing_time a b f N (n + 1) Ï‰ = hitting f (Set.Ici b) (lower_crossing_time a b f N n Ï‰) N Ï‰ :=\n  by\n  simp only [upper_crossing_time_succ]\n  rfl\n#align upper_crossing_time_succ_eq upper_crossing_time_succ_eq\n\n",
 "upper_crossing_time_succ":
 "theorem upper_crossing_time_succ :\n    upper_crossing_time a b f N (n + 1) Ï‰ =\n      hitting f (Set.Ici b) (lower_crossing_time_aux a f (upper_crossing_time a b f N n Ï‰) N Ï‰) N Ï‰ :=\n  by rw [upper_crossing_time]\n#align upper_crossing_time_succ upper_crossing_time_succ\n\n",
 "upper_crossing_time_stabilize'":
 "theorem upper_crossing_time_stabilize' (hnm : n â‰¤ m) (hn : N â‰¤ upper_crossing_time a b f N n Ï‰) :\n    upper_crossing_time a b f N m Ï‰ = N :=\n  upper_crossing_time_stabilize hnm (le_antisymm upper_crossing_time_le hn)\n#align upper_crossing_time_stabilize' upper_crossing_time_stabilize'\n\n",
 "upper_crossing_time_stabilize":
 "theorem upper_crossing_time_stabilize (hnm : n â‰¤ m) (hn : upper_crossing_time a b f N n Ï‰ = N) :\n    upper_crossing_time a b f N m Ï‰ = N :=\n  le_antisymm upper_crossing_time_le (le_trans (le_of_eq hn.symm) (upper_crossing_time_mono hnm))\n#align upper_crossing_time_stabilize upper_crossing_time_stabilize\n\n",
 "upper_crossing_time_mono":
 "theorem upper_crossing_time_mono (hnm : n â‰¤ m) : upper_crossing_time a b f N n Ï‰ â‰¤ upper_crossing_time a b f N m Ï‰ :=\n  by\n  suffices monotone fun n => upper_crossing_time a b f N n Ï‰ by exact this hnm\n  exact\n    monotone_nat_of_le_succ fun n =>\n      le_trans upper_crossing_time_le_lower_crossing_time lower_crossing_time_le_upper_crossing_time_succ\n#align upper_crossing_time_mono upper_crossing_time_mono\n\n",
 "upper_crossing_time_lt_succ":
 "theorem upper_crossing_time_lt_succ (hab : a < b) (hn : upper_crossing_time a b f N (n + 1) Ï‰ â‰  N) :\n    upper_crossing_time a b f N n Ï‰ < upper_crossing_time a b f N (n + 1) Ï‰ :=\n  lt_of_le_of_lt upper_crossing_time_le_lower_crossing_time (lower_crossing_time_lt_upper_crossing_time hab hn)\n#align upper_crossing_time_lt_succ upper_crossing_time_lt_succ\n\n",
 "upper_crossing_time_lt_of_le_upcrossings_before":
 "theorem upper_crossing_time_lt_of_le_upcrossings_before (hN : 0 < N) (hab : a < b)\n    (hn : n â‰¤ upcrossings_before a b f N Ï‰) : upper_crossing_time a b f N n Ï‰ < N :=\n  haveI : upper_crossing_time a b f N (upcrossings_before a b f N Ï‰) Ï‰ < N :=\n    (upper_crossing_time_lt_nonempty hN).cSup_mem\n      ((OrderBot.bddBelow _).finite_of_bdd_above (upper_crossing_time_lt_bdd_above hab))\n  lt_of_le_of_lt (upper_crossing_time_mono hn) this\n#align upper_crossing_time_lt_of_le_upcrossings_before upper_crossing_time_lt_of_le_upcrossings_before\n\n",
 "upper_crossing_time_lt_nonempty":
 "theorem upper_crossing_time_lt_nonempty (hN : 0 < N) : { n | upper_crossing_time a b f N n Ï‰ < N }.nonempty :=\n  âŸ¨0, hNâŸ©\n#align upper_crossing_time_lt_nonempty upper_crossing_time_lt_nonempty\n\n",
 "upper_crossing_time_lt_lower_crossing_time":
 "theorem upper_crossing_time_lt_lower_crossing_time (hab : a < b) (hn : lower_crossing_time a b f N (n + 1) Ï‰ â‰  N) :\n    upper_crossing_time a b f N (n + 1) Ï‰ < lower_crossing_time a b f N (n + 1) Ï‰ :=\n  by\n  refine'\n    lt_of_le_of_ne upper_crossing_time_le_lower_crossing_time fun h =>\n      not_le.2 hab <| le_trans _ (stopped_value_lower_crossing_time hn)\n  simp only [stopped_value]\n  rw [â† h]\n  exact stopped_value_upper_crossing_time (h.symm â–¸ hn)\n#align upper_crossing_time_lt_lower_crossing_time upper_crossing_time_lt_lower_crossing_time\n\n",
 "upper_crossing_time_lt_bdd_above":
 "theorem upper_crossing_time_lt_bdd_above (hab : a < b) : BddAbove { n | upper_crossing_time a b f N n Ï‰ < N } :=\n  by\n  obtain âŸ¨k, hkâŸ© := exists_upper_crossing_time_eq f N Ï‰ hab\n  refine' âŸ¨k, fun n (hn : upper_crossing_time a b f N n Ï‰ < N) => _âŸ©\n  by_contra hn'\n  exact hn.ne (upper_crossing_time_stabilize (not_le.1 hn').le hk)\n#align upper_crossing_time_lt_bdd_above upper_crossing_time_lt_bdd_above\n\n",
 "upper_crossing_time_le_lower_crossing_time":
 "theorem upper_crossing_time_le_lower_crossing_time :\n    upper_crossing_time a b f N n Ï‰ â‰¤ lower_crossing_time a b f N n Ï‰ := by\n  simp only [lower_crossing_time, le_hitting upper_crossing_time_le Ï‰]\n#align upper_crossing_time_le_lower_crossing_time upper_crossing_time_le_lower_crossing_time\n\n",
 "upper_crossing_time_le":
 "theorem upper_crossing_time_le : upper_crossing_time a b f N n Ï‰ â‰¤ N :=\n  by\n  cases n\n  Â· simp only [upper_crossing_time_zero, Pi.bot_apply, bot_le]\n  Â· simp only [upper_crossing_time_succ, hitting_le]\n#align upper_crossing_time_le upper_crossing_time_le\n\n",
 "upper_crossing_time_eq_upper_crossing_time_of_lt":
 "theorem upper_crossing_time_eq_upper_crossing_time_of_lt {M : â„•} (hNM : N â‰¤ M)\n    (h : upper_crossing_time a b f N n Ï‰ < N) : upper_crossing_time a b f M n Ï‰ = upper_crossing_time a b f N n Ï‰ :=\n  by\n  cases n\n  Â· simp\n  Â· exact (crossing_eq_crossing_of_upper_crossing_time_lt hNM h).1\n#align upper_crossing_time_eq_upper_crossing_time_of_lt upper_crossing_time_eq_upper_crossing_time_of_lt\n\n",
 "upper_crossing_time_eq_of_upcrossings_before_lt":
 "theorem upper_crossing_time_eq_of_upcrossings_before_lt (hab : a < b) (hn : upcrossings_before a b f N Ï‰ < n) :\n    upper_crossing_time a b f N n Ï‰ = N :=\n  by\n  refine' le_antisymm upper_crossing_time_le (not_lt.1 _)\n  convert not_mem_of_csupâ‚›_lt hn (upper_crossing_time_lt_bdd_above hab)\n#align upper_crossing_time_eq_of_upcrossings_before_lt upper_crossing_time_eq_of_upcrossings_before_lt\n\n",
 "upper_crossing_time_eq_of_bound_le":
 "theorem upper_crossing_time_eq_of_bound_le (hab : a < b) (hn : N â‰¤ n) : upper_crossing_time a b f N n Ï‰ = N :=\n  le_antisymm upper_crossing_time_le\n    (le_trans (upper_crossing_time_bound_eq f N Ï‰ hab).symm.le (upper_crossing_time_mono hn))\n#align upper_crossing_time_eq_of_bound_le upper_crossing_time_eq_of_bound_le\n\n",
 "upper_crossing_time_bound_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem upper_crossing_time_bound_eq (f : â„• â†’ Î© â†’ exprâ„) (N : â„•) (Ï‰ : Î©) (hab : a < b) :\n    upper_crossing_time a b f N N Ï‰ = N :=\n  by\n  by_cases hN' : N < nat.find (exists_upper_crossing_time_eq f N Ï‰ hab)\n  Â· refine' le_antisymm upper_crossing_time_le _\n    have hmono :\n      strict_mono_on (fun n => upper_crossing_time a b f N n Ï‰)\n        (Set.Iic (nat.find (exists_upper_crossing_time_eq f N Ï‰ hab)).pred) :=\n      by\n      refine' strictMonoOn_Iic_of_lt_succ fun m hm => upper_crossing_time_lt_succ hab _\n      rw [Nat.lt_pred_iff] at hm\n      convert nat.find_min _ hm\n    convert StrictMonoOn.Iic_id_le hmono N (Nat.le_pred_of_lt hN')\n  Â· rw [not_lt] at hN'\n    exact upper_crossing_time_stabilize hN' (nat.find_spec (exists_upper_crossing_time_eq f N Ï‰ hab))\n#align upper_crossing_time_bound_eq upper_crossing_time_bound_eq\n\n",
 "upcrossings_lt_top_iff":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal.top -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nnreal -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nnreal -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal.top -/\ntheorem upcrossings_lt_top_iff : upcrossings a b f Ï‰ < ennreal.top â†” âˆƒ k, âˆ€ N, upcrossings_before a b f N Ï‰ â‰¤ k :=\n  by\n  have : upcrossings a b f Ï‰ < ennreal.top â†” âˆƒ k : nnreal, upcrossings a b f Ï‰ â‰¤ k :=\n    by\n    constructor\n    Â· intro h\n      lift upcrossings a b f Ï‰ to nnreal using h.ne with r hr\n      exact âŸ¨r, le_rflâŸ©\n    Â· rintro âŸ¨k, hkâŸ©\n      exact lt_of_le_of_lt hk ennreal.coe_lt_top\n  simp_rw [this, upcrossings, supáµ¢_le_iff]\n  constructor <;> rintro âŸ¨k, hkâŸ©\n  Â· obtain âŸ¨m, hmâŸ© := exists_nat_ge k\n    refine' âŸ¨m, fun N => ennreal.coe_nat_le_coe_nat.1 ((hk N).trans _)âŸ©\n    rwa [â† ennreal.coe_nat, ennreal.coe_le_coe]\n  Â· refine' âŸ¨k, fun N => _âŸ©\n    simp only [ennreal.coe_nat, ennreal.coe_nat_le_coe_nat, hk N]\n#align upcrossings_lt_top_iff upcrossings_lt_top_iff\n\n",
 "upcrossings_before_zero'":
 "@[simp]\ntheorem upcrossings_before_zero' : upcrossings_before a b f 0 = 0 :=\n  by\n  ext Ï‰\n  exact upcrossings_before_zero\n#align upcrossings_before_zero' upcrossings_before_zero'\n\n",
 "upcrossings_before_zero":
 "theorem upcrossings_before_zero : upcrossings_before a b f 0 Ï‰ = 0 := by simp [upcrossings_before]\n#align upcrossings_before_zero upcrossings_before_zero\n\n",
 "upcrossings_before_pos_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\ntheorem upcrossings_before_pos_eq (hab : a < b) :\n    upcrossings_before 0 (b - a) (fun n Ï‰ => Â«expr âºÂ» (f n Ï‰ - a)) N Ï‰ = upcrossings_before a b f N Ï‰ := by\n  simp_rw [upcrossings_before, (crossing_pos_eq hab).1]\n#align upcrossings_before_pos_eq upcrossings_before_pos_eq\n\n",
 "upcrossings_before_mono":
 "theorem upcrossings_before_mono (hab : a < b) : monotone fun N Ï‰ => upcrossings_before a b f N Ï‰ :=\n  by\n  intro N M hNM Ï‰\n  simp only [upcrossings_before]\n  by_cases hemp : { n : â„• | upper_crossing_time a b f N n Ï‰ < N }.nonempty\n  Â· refine' csupâ‚›_le_csupâ‚› (upper_crossing_time_lt_bdd_above hab) hemp fun n hn => _\n    rw [Set.mem_setOf_eq, upper_crossing_time_eq_upper_crossing_time_of_lt hNM hn]\n    exact lt_of_lt_of_le hn hNM\n  Â· rw [Set.not_nonempty_iff_eq_empty] at hemp\n    simp [hemp, csupâ‚›_empty, bot_eq_zero', zero_le']\n#align upcrossings_before_mono upcrossings_before_mono\n\n",
 "upcrossings_before_lt_of_exists_upcrossing":
 "theorem upcrossings_before_lt_of_exists_upcrossing (hab : a < b) {Nâ‚ Nâ‚‚ : â„•} (hNâ‚ : N â‰¤ Nâ‚) (hNâ‚' : f Nâ‚ Ï‰ < a)\n    (hNâ‚‚ : Nâ‚ â‰¤ Nâ‚‚) (hNâ‚‚' : b < f Nâ‚‚ Ï‰) : upcrossings_before a b f N Ï‰ < upcrossings_before a b f (Nâ‚‚ + 1) Ï‰ :=\n  by\n  refine' lt_of_lt_of_le (nat.lt_succ_self _) (le_csupâ‚› (upper_crossing_time_lt_bdd_above hab) _)\n  rw [Set.mem_setOf_eq, upper_crossing_time_succ_eq, hitting_lt_iff _ le_rfl]\n  swap\n  Â· infer_instance\n  Â· refine' âŸ¨Nâ‚‚, âŸ¨_, nat.lt_succ_self _âŸ©, hNâ‚‚'.leâŸ©\n    rw [lower_crossing_time, hitting_le_iff_of_lt _ (nat.lt_succ_self _)]\n    refine' âŸ¨Nâ‚, âŸ¨le_trans _ hNâ‚, hNâ‚‚âŸ©, hNâ‚'.leâŸ©\n    by_cases hN : 0 < N\n    Â· have : upper_crossing_time a b f N (upcrossings_before a b f N Ï‰) Ï‰ < N :=\n        nat.Sup_mem (upper_crossing_time_lt_nonempty hN) (upper_crossing_time_lt_bdd_above hab)\n      rw [upper_crossing_time_eq_upper_crossing_time_of_lt (hNâ‚.trans (hNâ‚‚.trans <| nat.le_succ _)) this]\n      exact this.le\n    Â· rw [not_lt, le_zero_iff] at hN\n      rw [hN, upcrossings_before_zero, upper_crossing_time_zero]\n      rfl\n#align upcrossings_before_lt_of_exists_upcrossing upcrossings_before_lt_of_exists_upcrossing\n\n",
 "upcrossings_before_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem upcrossings_before_le (f : â„• â†’ Î© â†’ exprâ„) (Ï‰ : Î©) (hab : a < b) : upcrossings_before a b f N Ï‰ â‰¤ N :=\n  by\n  by_cases hN : N = 0\n  Â· subst hN\n    rw [upcrossings_before_zero]\n  Â· refine' csupâ‚›_le âŸ¨0, zero_lt_iff.2 hNâŸ© fun n (hn : _ < _) => _\n    by_contra hnN\n    exact hn.ne (upper_crossing_time_eq_of_bound_le hab (not_le.1 hnN).le)\n#align upcrossings_before_le upcrossings_before_le\n\n",
 "upcrossings_before_eq_sum":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem upcrossings_before_eq_sum (hab : a < b) :\n    upcrossings_before a b f N Ï‰ =\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n        (finset.Ico 1 (N + 1)) ({ n | upper_crossing_time a b f N n Ï‰ < N }.indicator 1 i) :=\n  by\n  by_cases hN : N = 0\n  Â· simp [hN]\n  rw [â† finset.sum_Ico_consecutive _ (nat.succ_le_succ zero_le') (nat.succ_le_succ (upcrossings_before_le f Ï‰ hab))]\n  have hâ‚ :\n    âˆ€ k âˆˆ finset.Ico 1 (upcrossings_before a b f N Ï‰ + 1),\n      { n : â„• | upper_crossing_time a b f N n Ï‰ < N }.indicator 1 k = 1 :=\n    by\n    rintro k hk\n    rw [finset.mem_Ico] at hk\n    rw [set.indicator_of_mem]\n    Â· rfl\n    Â· exact upper_crossing_time_lt_of_le_upcrossings_before (zero_lt_iff.2 hN) hab (Nat.lt_succ_iff.1 hk.2)\n  have hâ‚‚ :\n    âˆ€ k âˆˆ finset.Ico (upcrossings_before a b f N Ï‰ + 1) (N + 1),\n      { n : â„• | upper_crossing_time a b f N n Ï‰ < N }.indicator 1 k = 0 :=\n    by\n    rintro k hk\n    rw [finset.mem_Ico, Nat.succ_le_iff] at hk\n    rw [set.indicator_of_not_mem]\n    simp only [Set.mem_setOf_eq, not_lt]\n    exact (upper_crossing_time_eq_of_upcrossings_before_lt hab hk.1).symm.le\n  rw [finset.sum_congr rfl hâ‚, finset.sum_congr rfl hâ‚‚, finset.sum_const, finset.sum_const, smul_eq_mul, mul_one,\n    smul_eq_mul, mul_zero, nat.card_Ico, Nat.add_succ_sub_one, add_zero, add_zero]\n#align upcrossings_before_eq_sum upcrossings_before_eq_sum\n\n",
 "upcrossings_before_bot":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâŠ¥Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâŠ¥Â» -/\n@[simp]\ntheorem upcrossings_before_bot [preorder Î¹] [OrderBot Î¹] [InfSet Î¹] {a b : exprâ„} {f : Î¹ â†’ Î© â†’ exprâ„} {Ï‰ : Î©} :\n    upcrossings_before a b f (Â«exprâŠ¥Â») Ï‰ = Â«exprâŠ¥Â» := by simp [upcrossings_before]\n#align upcrossings_before_bot upcrossings_before_bot\n\n",
 "upcrossing_strat_nonneg":
 "theorem upcrossing_strat_nonneg : 0 â‰¤ upcrossing_strat a b f N n Ï‰ :=\n  finset.sum_nonneg fun i hi => set.indicator_nonneg (fun Ï‰ hÏ‰ => zero_le_one) _\n#align upcrossing_strat_nonneg upcrossing_strat_nonneg\n\n",
 "upcrossing_strat_le_one":
 "theorem upcrossing_strat_le_one : upcrossing_strat a b f N n Ï‰ â‰¤ 1 :=\n  by\n  rw [upcrossing_strat, â† set.indicator_finset_bUnion_apply]\n  Â· exact set.indicator_le_self' (fun _ _ => zero_le_one) _\n  Â· intro i hi j hj hij\n    rw [Set.Ico_disjoint_Ico]\n    obtain hij' | hij' := lt_or_gt_of_ne hij\n    Â· rw [min_eq_left\n          (upper_crossing_time_mono (nat.succ_le_succ hij'.le) :\n            upper_crossing_time a b f N _ Ï‰ â‰¤ upper_crossing_time a b f N _ Ï‰),\n        max_eq_right\n          (lower_crossing_time_mono hij'.le : lower_crossing_time a b f N _ _ â‰¤ lower_crossing_time _ _ _ _ _ _)]\n      refine' le_trans upper_crossing_time_le_lower_crossing_time (lower_crossing_time_mono (nat.succ_le_of_lt hij'))\n    Â· rw [gt_iff_lt] at hij'\n      rw [min_eq_right\n          (upper_crossing_time_mono (nat.succ_le_succ hij'.le) :\n            upper_crossing_time a b f N _ Ï‰ â‰¤ upper_crossing_time a b f N _ Ï‰),\n        max_eq_left\n          (lower_crossing_time_mono hij'.le : lower_crossing_time a b f N _ _ â‰¤ lower_crossing_time _ _ _ _ _ _)]\n      refine' le_trans upper_crossing_time_le_lower_crossing_time (lower_crossing_time_mono (nat.succ_le_of_lt hij'))\n#align upcrossing_strat_le_one upcrossing_strat_le_one\n\n",
 "upcrossing_strat_adapted":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `strongly_measurable_of -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem adapted.upcrossing_strat_adapted (hf : adapted â„± f) : adapted â„± (upcrossing_strat a b f N) :=\n  by\n  intro n\n  change\n    (strongly_measurable_of (â„± n)) fun Ï‰ =>\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Finset.range N)\n        (({ n | lower_crossing_time a b f N k Ï‰ â‰¤ n } âˆ© { n | n < upper_crossing_time a b f N (k + 1) Ï‰ }).indicator 1\n          n)\n  refine'\n    finset.strongly_measurable_sum _ fun i hi =>\n      strongly_measurable_const.indicator ((hf.is_stopping_time_lower_crossing_time n).inter _)\n  simp_rw [â† not_le]\n  exact (hf.is_stopping_time_upper_crossing_time n).compl\n#align adapted.upcrossing_strat_adapted adapted.upcrossing_strat_adapted\n\n",
 "sum_upcrossing_strat_mul":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem submartingale.sum_upcrossing_strat_mul [is_finite_measure Î¼] (hf : submartingale f â„± Î¼) (a b : exprâ„) (N : â„•) :\n    submartingale\n      (fun n : â„• =>\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Finset.range n)\n          (upcrossing_strat a b f N k * (f (k + 1) - f k)))\n      â„± Î¼ :=\n  hf.sum_mul_sub hf.adapted.upcrossing_strat_adapted (fun _ _ => upcrossing_strat_le_one) fun _ _ =>\n    upcrossing_strat_nonneg\n#align submartingale.sum_upcrossing_strat_mul submartingale.sum_upcrossing_strat_mul\n\n",
 "sum_sub_upcrossing_strat_mul":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem submartingale.sum_sub_upcrossing_strat_mul [is_finite_measure Î¼] (hf : submartingale f â„± Î¼) (a b : exprâ„)\n    (N : â„•) :\n    submartingale\n      (fun n : â„• =>\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Finset.range n)\n          ((1 - upcrossing_strat a b f N k) * (f (k + 1) - f k)))\n      â„± Î¼ :=\n  by\n  refine'\n    hf.sum_mul_sub (fun n => (adapted_const â„± 1 n).sub (hf.adapted.upcrossing_strat_adapted n))\n      (_ : âˆ€ n Ï‰, (1 - upcrossing_strat a b f N n) Ï‰ â‰¤ 1) _\n  Â· exact fun n Ï‰ => sub_le_self _ upcrossing_strat_nonneg\n  Â· intro n Ï‰\n    simp [upcrossing_strat_le_one]\n#align submartingale.sum_sub_upcrossing_strat_mul submartingale.sum_sub_upcrossing_strat_mul\n\n",
 "sum_mul_upcrossing_strat_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\ntheorem submartingale.sum_mul_upcrossing_strat_le [is_finite_measure Î¼] (hf : submartingale f â„± Î¼) :\n    condexp.probability Î¼\n        (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n          (Finset.range n) (upcrossing_strat a b f N k * (f (k + 1) - f k))) â‰¤\n      condexp.probability Î¼ (f n) - condexp.probability Î¼ (f 0) :=\n  by\n  have hâ‚ :\n    (0 : exprâ„) â‰¤\n      condexp.probability Î¼\n        (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n          (Finset.range n) ((1 - upcrossing_strat a b f N k) * (f (k + 1) - f k))) :=\n    by\n    have := (hf.sum_sub_upcrossing_strat_mul a b N).set_integral_le (zero_le n) measurable_set.univ\n    rw [integral_univ, integral_univ] at this\n    refine' le_trans _ this\n    simp only [Finset.range_zero, finset.sum_empty, integral_zero']\n  have hâ‚‚ :\n    condexp.probability Î¼\n        (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n          (Finset.range n) ((1 - upcrossing_strat a b f N k) * (f (k + 1) - f k))) =\n      condexp.probability Î¼\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (Finset.range n) (f (k + 1) - f k)) -\n        condexp.probability Î¼\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (Finset.range n) (upcrossing_strat a b f N k * (f (k + 1) - f k))) :=\n    by\n    simp only [sub_mul, one_mul, finset.sum_sub_distrib, pi.sub_apply, finset.sum_apply, pi.mul_apply]\n    refine'\n      integral_sub\n        (integrable.sub (integrable_finset_sum _ fun i hi => hf.integrable _)\n          (integrable_finset_sum _ fun i hi => hf.integrable _))\n        _\n    convert (hf.sum_upcrossing_strat_mul a b N).integrable n\n    ext\n    simp\n  rw [hâ‚‚, sub_nonneg] at hâ‚\n  refine' le_trans hâ‚ _\n  simp_rw [finset.sum_range_sub, integral_sub' (hf.integrable _) (hf.integrable _)]\n#align submartingale.sum_mul_upcrossing_strat_le submartingale.sum_mul_upcrossing_strat_le\n\n",
 "sub_eq_zero_of_upcrossings_before_lt":
 "theorem sub_eq_zero_of_upcrossings_before_lt (hab : a < b) (hn : upcrossings_before a b f N Ï‰ < n) :\n    stopped_value f (upper_crossing_time a b f N (n + 1)) Ï‰ - stopped_value f (lower_crossing_time a b f N n) Ï‰ = 0 :=\n  by\n  have : N â‰¤ upper_crossing_time a b f N n Ï‰ :=\n    by\n    rw [upcrossings_before] at hn\n    rw [â† not_lt]\n    exact fun h => not_le.2 hn (le_csupâ‚› (upper_crossing_time_lt_bdd_above hab) h)\n  simp [stopped_value, upper_crossing_time_stabilize' (nat.le_succ n) this,\n    lower_crossing_time_stabilize' le_rfl (le_trans this upper_crossing_time_le_lower_crossing_time)]\n#align sub_eq_zero_of_upcrossings_before_lt sub_eq_zero_of_upcrossings_before_lt\n\n",
 "stopped_value_upper_crossing_time":
 "theorem stopped_value_upper_crossing_time (h : upper_crossing_time a b f N (n + 1) Ï‰ â‰  N) :\n    b â‰¤ stopped_value f (upper_crossing_time a b f N (n + 1)) Ï‰ :=\n  by\n  obtain âŸ¨j, hjâ‚, hjâ‚‚âŸ© := (hitting_le_iff_of_lt _ (lt_of_le_of_ne upper_crossing_time_le h)).1 le_rfl\n  exact stopped_value_hitting_mem âŸ¨j, âŸ¨hjâ‚.1, le_trans hjâ‚.2 (hitting_le _)âŸ©, hjâ‚‚âŸ©\n#align stopped_value_upper_crossing_time stopped_value_upper_crossing_time\n\n",
 "stopped_value_lower_crossing_time":
 "theorem stopped_value_lower_crossing_time (h : lower_crossing_time a b f N n Ï‰ â‰  N) :\n    stopped_value f (lower_crossing_time a b f N n) Ï‰ â‰¤ a :=\n  by\n  obtain âŸ¨j, hjâ‚, hjâ‚‚âŸ© := (hitting_le_iff_of_lt _ (lt_of_le_of_ne lower_crossing_time_le h)).1 le_rfl\n  exact stopped_value_hitting_mem âŸ¨j, âŸ¨hjâ‚.1, le_trans hjâ‚.2 lower_crossing_time_leâŸ©, hjâ‚‚âŸ©\n#align stopped_value_lower_crossing_time stopped_value_lower_crossing_time\n\n",
 "mul_upcrossings_before_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem mul_upcrossings_before_le (hf : a â‰¤ f N Ï‰) (hab : a < b) :\n    (b - a) * upcrossings_before a b f N Ï‰ â‰¤\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Finset.range N)\n        (upcrossing_strat a b f N k Ï‰ * (f (k + 1) - f k) Ï‰) :=\n  by\n  classical\n    by_cases hN : N = 0\n    Â· simp [hN]\n    simp_rw [upcrossing_strat, finset.sum_mul, â† set.indicator_mul_left, pi.one_apply, pi.sub_apply, one_mul]\n    rw [finset.sum_comm]\n    have hâ‚ :\n      âˆ€ k,\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Finset.range N)\n            ((Set.Ico (lower_crossing_time a b f N k Ï‰) (upper_crossing_time a b f N (k + 1) Ï‰)).indicator\n              (fun m => f (m + 1) Ï‰ - f m Ï‰) n) =\n          stopped_value f (upper_crossing_time a b f N (k + 1)) Ï‰ - stopped_value f (lower_crossing_time a b f N k) Ï‰ :=\n      by\n      intro k\n      rw [finset.sum_indicator_eq_sum_filter,\n        (_ :\n          Finset.filter (fun i => i âˆˆ Set.Ico (lower_crossing_time a b f N k Ï‰) (upper_crossing_time a b f N (k + 1) Ï‰))\n              (Finset.range N) =\n            finset.Ico (lower_crossing_time a b f N k Ï‰) (upper_crossing_time a b f N (k + 1) Ï‰)),\n        finset.sum_Ico_eq_add_neg _ lower_crossing_time_le_upper_crossing_time_succ,\n        finset.sum_range_sub fun n => f n Ï‰, finset.sum_range_sub fun n => f n Ï‰, neg_sub, sub_add_sub_cancel]\n      Â· rfl\n      Â· ext i\n        simp only [Set.mem_Ico, Finset.mem_filter, Finset.mem_range, finset.mem_Ico, and_iff_right_iff_imp, and_imp]\n        exact fun _ h => lt_of_lt_of_le h upper_crossing_time_le\n    simp_rw [hâ‚]\n    have hâ‚‚ :\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n          (Finset.range (upcrossings_before a b f N Ï‰)) (b - a) â‰¤\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Finset.range N)\n          (stopped_value f (upper_crossing_time a b f N (k + 1)) Ï‰ -\n            stopped_value f (lower_crossing_time a b f N k) Ï‰) :=\n      by\n      calc\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (Finset.range (upcrossings_before a b f N Ï‰)) (b - a) â‰¤\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (Finset.range (upcrossings_before a b f N Ï‰))\n              (stopped_value f (upper_crossing_time a b f N (k + 1)) Ï‰ -\n                stopped_value f (lower_crossing_time a b f N k) Ï‰) :=\n          by\n          refine' finset.sum_le_sum fun i hi => le_sub_of_le_upcrossings_before (zero_lt_iff.2 hN) hab _\n          rwa [Finset.mem_range] at hi\n        _ â‰¤\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (Finset.range N)\n              (stopped_value f (upper_crossing_time a b f N (k + 1)) Ï‰ -\n                stopped_value f (lower_crossing_time a b f N k) Ï‰) :=\n          by\n          refine'\n            finset.sum_le_sum_of_subset_of_nonneg (Finset.range_subset.2 (upcrossings_before_le f Ï‰ hab)) fun i _ hi =>\n              _\n          by_cases hi' : i = upcrossings_before a b f N Ï‰\n          Â· subst hi'\n            simp only [stopped_value]\n            rw [upper_crossing_time_eq_of_upcrossings_before_lt hab (nat.lt_succ_self _)]\n            by_cases heq : lower_crossing_time a b f N (upcrossings_before a b f N Ï‰) Ï‰ = N\n            Â· rw [HEq, sub_self]\n            Â· rw [sub_nonneg]\n              exact le_trans (stopped_value_lower_crossing_time HEq) hf\n          Â· rw [sub_eq_zero_of_upcrossings_before_lt hab]\n            rw [Finset.mem_range, not_lt] at hi\n            exact lt_of_le_of_ne hi (ne.symm hi')\n        \n    refine' le_trans _ hâ‚‚\n    rw [finset.sum_const, finset.card_range, nsmul_eq_mul, mul_comm]\n#align mul_upcrossings_before_le mul_upcrossings_before_le\n\n",
 "mul_lintegral_upcrossings_le_lintegral_pos_part":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nnreal -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/-- A variant of Doob's upcrossing estimate obtained by taking the supremum on both sides. -/\ntheorem submartingale.mul_lintegral_upcrossings_le_lintegral_pos_part [is_finite_measure Î¼] (a b : exprâ„)\n    (hf : submartingale f â„± Î¼) :\n    ennreal.of_real (b - a) *\n        Â«exprâˆ«â» , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â»\"\n          (upcrossings a b f Ï‰) Î¼ â‰¤\n      Â«exprâ¨† , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâ¨† , Â»\"\n        (Â«exprâˆ«â» , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â»\"\n          (ennreal.of_real (Â«expr âºÂ» (f N Ï‰ - a))) Î¼) :=\n  by\n  by_cases hab : a < b\n  Â· simp_rw [upcrossings]\n    have :\n      âˆ€ N,\n        Â«exprâˆ«â» , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â»\"\n            (ennreal.of_real (Â«expr âºÂ» (f N Ï‰ - a))) Î¼ =\n          ennreal.of_real\n            (Â«exprâˆ« , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ« , âˆ‚ Â»\"\n              (Â«expr âºÂ» (f N Ï‰ - a)) Î¼) :=\n      by\n      intro N\n      rw [of_real_integral_eq_lintegral_of_real]\n      Â· exact (hf.sub_martingale (martingale_const _ _ _)).pos.integrable _\n      Â· exact eventually_of_forall fun Ï‰ => lattice_ordered_comm_group.pos_nonneg _\n    rw [lintegral_supr']\n    Â· simp_rw [this, ennreal.mul_supr, supáµ¢_le_iff]\n      intro N\n      rw [(by simp :\n          Â«exprâˆ«â» , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â»\"\n              (upcrossings_before a b f N Ï‰) Î¼ =\n            Â«exprâˆ«â» , âˆ‚ Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ«â» , âˆ‚ Â»\"\n              (â†‘(upcrossings_before a b f N Ï‰ : nnreal)) Î¼),\n        lintegral_coe_eq_integral, â† ennreal.of_real_mul (sub_pos.2 hab).le]\n      Â· simp_rw [nnreal.coe_nat_cast]\n        exact\n          (ennreal.of_real_le_of_real (hf.mul_integral_upcrossings_before_le_integral_pos_part a b N)).trans\n            (le_supáµ¢ _ N)\n      Â· simp only [nnreal.coe_nat_cast, hf.adapted.integrable_upcrossings_before hab]\n    Â· exact fun n => measurable_from_top.comp_ae_measurable (hf.adapted.measurable_upcrossings_before hab).ae_measurable\n    Â· refine' eventually_of_forall fun Ï‰ N M hNM => _\n      rw [ennreal.coe_nat_le_coe_nat]\n      exact upcrossings_before_mono hab hNM Ï‰\n  Â· rw [not_lt, â† sub_nonpos] at hab\n    rw [ennreal.of_real_of_nonpos hab, zero_mul]\n    exact zero_le _\n#align\n  submartingale.mul_lintegral_upcrossings_le_lintegral_pos_part submartingale.mul_lintegral_upcrossings_le_lintegral_pos_part\n\n",
 "mul_integral_upcrossings_before_le_integral_pos_part_aux":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\ntheorem mul_integral_upcrossings_before_le_integral_pos_part_aux [is_finite_measure Î¼] (hf : submartingale f â„± Î¼)\n    (hab : a < b) :\n    (b - a) * condexp.probability Î¼ (upcrossings_before a b f N) â‰¤\n      condexp.probability Î¼ fun Ï‰ => Â«expr âºÂ» (f N Ï‰ - a) :=\n  by\n  refine'\n    le_trans (le_of_eq _)\n      (integral_mul_upcrossings_before_le_integral (hf.sub_martingale (martingale_const _ _ _)).pos\n        (fun Ï‰ => lattice_ordered_comm_group.pos_nonneg _) (fun Ï‰ => lattice_ordered_comm_group.pos_nonneg _)\n        (sub_pos.2 hab))\n  simp_rw [sub_zero, â† upcrossings_before_pos_eq hab]\n  rfl\n#align mul_integral_upcrossings_before_le_integral_pos_part_aux mul_integral_upcrossings_before_le_integral_pos_part_aux\n\n",
 "mul_integral_upcrossings_before_le_integral_pos_part":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/-- **Doob's upcrossing estimate**: given a real valued discrete submartingale `f` and real\nvalues `a` and `b`, we have `(b - a) * ğ”¼[upcrossings_before a b f N] â‰¤ ğ”¼[(f N - a)âº]` where\n`upcrossings_before a b f N` is the number of times the process `f` crossed from below `a` to above\n`b` before the time `N`. -/\ntheorem submartingale.mul_integral_upcrossings_before_le_integral_pos_part [is_finite_measure Î¼] (a b : exprâ„)\n    (hf : submartingale f â„± Î¼) (N : â„•) :\n    (b - a) * condexp.probability Î¼ (upcrossings_before a b f N) â‰¤\n      condexp.probability Î¼ fun Ï‰ => Â«expr âºÂ» (f N Ï‰ - a) :=\n  by\n  by_cases hab : a < b\n  Â· exact mul_integral_upcrossings_before_le_integral_pos_part_aux hf hab\n  Â· rw [not_lt, â† sub_nonpos] at hab\n    exact\n      le_trans (mul_nonpos_of_nonpos_of_nonneg hab (integral_nonneg fun Ï‰ => nat.cast_nonneg _))\n        (integral_nonneg fun Ï‰ => lattice_ordered_comm_group.pos_nonneg _)\n#align\n  submartingale.mul_integral_upcrossings_before_le_integral_pos_part submartingale.mul_integral_upcrossings_before_le_integral_pos_part\n\n",
 "measurable_upcrossings_before":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\ntheorem adapted.measurable_upcrossings_before (hf : adapted â„± f) (hab : a < b) :\n    measurable (upcrossings_before a b f N) :=\n  by\n  have :\n    upcrossings_before a b f N = fun Ï‰ =>\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n        (finset.Ico 1 (N + 1)) ({ n | upper_crossing_time a b f N n Ï‰ < N }.indicator 1 i) :=\n    by\n    ext Ï‰\n    exact upcrossings_before_eq_sum hab\n  rw [this]\n  exact\n    finset.measurable_sum _ fun i hi =>\n      measurable.indicator measurable_const <|\n        â„±.le N _ (hf.is_stopping_time_upper_crossing_time.measurable_set_lt_of_pred N)\n#align adapted.measurable_upcrossings_before adapted.measurable_upcrossings_before\n\n",
 "measurable_upcrossings":
 "theorem adapted.measurable_upcrossings (hf : adapted â„± f) (hab : a < b) : measurable (upcrossings a b f) :=\n  measurable_supr fun N => measurable_from_top.comp (hf.measurable_upcrossings_before hab)\n#align adapted.measurable_upcrossings adapted.measurable_upcrossings\n\n",
 "lower_crossing_time_zero":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâŠ¥Â» -/\n@[simp]\ntheorem lower_crossing_time_zero : lower_crossing_time a b f N 0 = hitting f (Set.Iic a) (Â«exprâŠ¥Â») N :=\n  rfl\n#align lower_crossing_time_zero lower_crossing_time_zero\n\n",
 "lower_crossing_time_stabilize'":
 "theorem lower_crossing_time_stabilize' (hnm : n â‰¤ m) (hn : N â‰¤ lower_crossing_time a b f N n Ï‰) :\n    lower_crossing_time a b f N m Ï‰ = N :=\n  lower_crossing_time_stabilize hnm (le_antisymm lower_crossing_time_le hn)\n#align lower_crossing_time_stabilize' lower_crossing_time_stabilize'\n\n",
 "lower_crossing_time_stabilize":
 "theorem lower_crossing_time_stabilize (hnm : n â‰¤ m) (hn : lower_crossing_time a b f N n Ï‰ = N) :\n    lower_crossing_time a b f N m Ï‰ = N :=\n  le_antisymm lower_crossing_time_le (le_trans (le_of_eq hn.symm) (lower_crossing_time_mono hnm))\n#align lower_crossing_time_stabilize lower_crossing_time_stabilize\n\n",
 "lower_crossing_time_mono":
 "theorem lower_crossing_time_mono (hnm : n â‰¤ m) : lower_crossing_time a b f N n Ï‰ â‰¤ lower_crossing_time a b f N m Ï‰ :=\n  by\n  suffices monotone fun n => lower_crossing_time a b f N n Ï‰ by exact this hnm\n  exact\n    monotone_nat_of_le_succ fun n =>\n      le_trans lower_crossing_time_le_upper_crossing_time_succ upper_crossing_time_le_lower_crossing_time\n#align lower_crossing_time_mono lower_crossing_time_mono\n\n",
 "lower_crossing_time_lt_upper_crossing_time":
 "theorem lower_crossing_time_lt_upper_crossing_time (hab : a < b) (hn : upper_crossing_time a b f N (n + 1) Ï‰ â‰  N) :\n    lower_crossing_time a b f N n Ï‰ < upper_crossing_time a b f N (n + 1) Ï‰ :=\n  by\n  refine'\n    lt_of_le_of_ne lower_crossing_time_le_upper_crossing_time_succ fun h =>\n      not_le.2 hab <| le_trans (stopped_value_upper_crossing_time hn) _\n  simp only [stopped_value]\n  rw [â† h]\n  exact stopped_value_lower_crossing_time (h.symm â–¸ hn)\n#align lower_crossing_time_lt_upper_crossing_time lower_crossing_time_lt_upper_crossing_time\n\n",
 "lower_crossing_time_lt_of_lt_upcrossings_before":
 "theorem lower_crossing_time_lt_of_lt_upcrossings_before (hN : 0 < N) (hab : a < b)\n    (hn : n < upcrossings_before a b f N Ï‰) : lower_crossing_time a b f N n Ï‰ < N :=\n  lt_of_le_of_lt lower_crossing_time_le_upper_crossing_time_succ\n    (upper_crossing_time_lt_of_le_upcrossings_before hN hab hn)\n#align lower_crossing_time_lt_of_lt_upcrossings_before lower_crossing_time_lt_of_lt_upcrossings_before\n\n",
 "lower_crossing_time_le_upper_crossing_time_succ":
 "theorem lower_crossing_time_le_upper_crossing_time_succ :\n    lower_crossing_time a b f N n Ï‰ â‰¤ upper_crossing_time a b f N (n + 1) Ï‰ :=\n  by\n  rw [upper_crossing_time_succ]\n  exact le_hitting lower_crossing_time_le Ï‰\n#align lower_crossing_time_le_upper_crossing_time_succ lower_crossing_time_le_upper_crossing_time_succ\n\n",
 "lower_crossing_time_le":
 "theorem lower_crossing_time_le : lower_crossing_time a b f N n Ï‰ â‰¤ N := by simp only [lower_crossing_time, hitting_le Ï‰]\n#align lower_crossing_time_le lower_crossing_time_le\n\n",
 "le_sub_of_le_upcrossings_before":
 "theorem le_sub_of_le_upcrossings_before (hN : 0 < N) (hab : a < b) (hn : n < upcrossings_before a b f N Ï‰) :\n    b - a â‰¤\n      stopped_value f (upper_crossing_time a b f N (n + 1)) Ï‰ - stopped_value f (lower_crossing_time a b f N n) Ï‰ :=\n  sub_le_sub (stopped_value_upper_crossing_time (upper_crossing_time_lt_of_le_upcrossings_before hN hab hn).ne)\n    (stopped_value_lower_crossing_time (lower_crossing_time_lt_of_lt_upcrossings_before hN hab hn).ne)\n#align le_sub_of_le_upcrossings_before le_sub_of_le_upcrossings_before\n\n",
 "is_stopping_time_upper_crossing_time":
 "theorem adapted.is_stopping_time_upper_crossing_time (hf : adapted â„± f) :\n    is_stopping_time â„± (upper_crossing_time a b f N n) :=\n  hf.is_stopping_time_crossing.1\n#align adapted.is_stopping_time_upper_crossing_time adapted.is_stopping_time_upper_crossing_time\n\n",
 "is_stopping_time_lower_crossing_time":
 "theorem adapted.is_stopping_time_lower_crossing_time (hf : adapted â„± f) :\n    is_stopping_time â„± (lower_crossing_time a b f N n) :=\n  hf.is_stopping_time_crossing.2\n#align adapted.is_stopping_time_lower_crossing_time adapted.is_stopping_time_lower_crossing_time\n\n",
 "is_stopping_time_crossing":
 "theorem adapted.is_stopping_time_crossing (hf : adapted â„± f) :\n    is_stopping_time â„± (upper_crossing_time a b f N n) âˆ§ is_stopping_time â„± (lower_crossing_time a b f N n) :=\n  by\n  induction' n with k ih\n  Â· refine' âŸ¨is_stopping_time_const _ 0, _âŸ©\n    simp [hitting_is_stopping_time hf measurable_set_Iic]\n  Â· obtain âŸ¨ihâ‚, ihâ‚‚âŸ© := ih\n    have : is_stopping_time â„± (upper_crossing_time a b f N (k + 1)) :=\n      by\n      intro n\n      simp_rw [upper_crossing_time_succ_eq]\n      exact is_stopping_time_hitting_is_stopping_time ihâ‚‚ (fun _ => lower_crossing_time_le) measurable_set_Ici hf _\n    refine' âŸ¨this, _âŸ©\n    Â· intro n\n      exact is_stopping_time_hitting_is_stopping_time this (fun _ => upper_crossing_time_le) measurable_set_Iic hf _\n#align adapted.is_stopping_time_crossing adapted.is_stopping_time_crossing\n\n",
 "integral_mul_upcrossings_before_le_integral":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `condexp.probability -/\ntheorem integral_mul_upcrossings_before_le_integral [is_finite_measure Î¼] (hf : submartingale f â„± Î¼)\n    (hfN : âˆ€ Ï‰, a â‰¤ f N Ï‰) (hfzero : 0 â‰¤ f 0) (hab : a < b) :\n    (b - a) * condexp.probability Î¼ (upcrossings_before a b f N) â‰¤ condexp.probability Î¼ (f N) :=\n  calc\n    (b - a) * condexp.probability Î¼ (upcrossings_before a b f N) â‰¤\n        condexp.probability Î¼\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (Finset.range N) (upcrossing_strat a b f N k * (f (k + 1) - f k))) :=\n      by\n      rw [â† integral_mul_left]\n      refine' integral_mono_of_nonneg _ ((hf.sum_upcrossing_strat_mul a b N).integrable N) _\n      Â· exact eventually_of_forall fun Ï‰ => mul_nonneg (sub_nonneg.2 hab.le) (nat.cast_nonneg _)\n      Â· refine' eventually_of_forall fun Ï‰ => _\n        simpa using mul_upcrossings_before_le (hfN Ï‰) hab\n    _ â‰¤ condexp.probability Î¼ (f N) - condexp.probability Î¼ (f 0) := hf.sum_mul_upcrossing_strat_le\n    _ â‰¤ condexp.probability Î¼ (f N) := (sub_le_self_iff _).2 (integral_nonneg hfzero)\n    \n#align integral_mul_upcrossings_before_le_integral integral_mul_upcrossings_before_le_integral\n\n",
 "integrable_upcrossings_before":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ€– â€–Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\ntheorem adapted.integrable_upcrossings_before [is_finite_measure Î¼] (hf : adapted â„± f) (hab : a < b) :\n    integrable (fun Ï‰ => (upcrossings_before a b f N Ï‰ : exprâ„)) Î¼ :=\n  haveI :\n    Â«exprâˆ€áµ âˆ‚ , Â» \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `Â«exprâˆ€áµ âˆ‚ , Â»\" Î¼\n      (Â«exprâ€– â€–Â» (upcrossings_before a b f N Ï‰ : exprâ„) â‰¤ N) :=\n    by\n    refine' eventually_of_forall fun Ï‰ => _\n    rw [real.norm_eq_abs, nat.abs_cast, nat.cast_le]\n    refine' upcrossings_before_le _ _ hab\n  âŸ¨measurable.ae_strongly_measurable (measurable_from_top.comp (hf.measurable_upcrossings_before hab)),\n    has_finite_integral_of_bounded thisâŸ©\n#align adapted.integrable_upcrossings_before adapted.integrable_upcrossings_before\n\n",
 "exists_upper_crossing_time_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprâ„ -/\n-- `upper_crossing_time_bound_eq` provides an explicit bound\ntheorem exists_upper_crossing_time_eq (f : â„• â†’ Î© â†’ exprâ„) (N : â„•) (Ï‰ : Î©) (hab : a < b) :\n    âˆƒ n, upper_crossing_time a b f N n Ï‰ = N := by\n  by_contra h; push_neg  at h\n  have : strict_mono fun n => upper_crossing_time a b f N n Ï‰ :=\n    strictMono_nat_of_lt_succ fun n => upper_crossing_time_lt_succ hab (h _)\n  obtain âŸ¨_, âŸ¨k, rflâŸ©, hkâŸ© : âˆƒ (m : _)(hm : m âˆˆ Set.range fun n => upper_crossing_time a b f N n Ï‰), N < m :=\n    âŸ¨upper_crossing_time a b f N (N + 1) Ï‰, âŸ¨N + 1, rflâŸ©,\n      lt_of_lt_of_le N.lt_succ_self (strict_mono.id_le this (N + 1))âŸ©\n  exact not_le.2 hk upper_crossing_time_le\n#align exists_upper_crossing_time_eq exists_upper_crossing_time_eq\n\n",
 "crossing_pos_eq":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âºÂ» -/\ntheorem crossing_pos_eq (hab : a < b) :\n    upper_crossing_time 0 (b - a) (fun n Ï‰ => Â«expr âºÂ» (f n Ï‰ - a)) N n = upper_crossing_time a b f N n âˆ§\n      lower_crossing_time 0 (b - a) (fun n Ï‰ => Â«expr âºÂ» (f n Ï‰ - a)) N n = lower_crossing_time a b f N n :=\n  by\n  have hab' : 0 < b - a := sub_pos.2 hab\n  have hf : âˆ€ Ï‰ i, b - a â‰¤ Â«expr âºÂ» (f i Ï‰ - a) â†” b â‰¤ f i Ï‰ :=\n    by\n    intro i Ï‰\n    refine' âŸ¨fun h => _, fun h => _âŸ©\n    Â· rwa [â† sub_le_sub_iff_right a, â† lattice_ordered_comm_group.pos_eq_self_of_pos_pos (lt_of_lt_of_le hab' h)]\n    Â· rw [â† sub_le_sub_iff_right a] at h\n      rwa [lattice_ordered_comm_group.pos_of_nonneg _ (le_trans hab'.le h)]\n  have hf' : âˆ€ Ï‰ i, Â«expr âºÂ» (f i Ï‰ - a) â‰¤ 0 â†” f i Ï‰ â‰¤ a :=\n    by\n    intro Ï‰ i\n    rw [lattice_ordered_comm_group.pos_nonpos_iff, sub_nonpos]\n  induction' n with k ih\n  Â· refine' âŸ¨rfl, _âŸ©\n    simp only [lower_crossing_time_zero, hitting, Set.mem_Icc, Set.mem_Iic]\n    ext Ï‰\n    split_ifs with hâ‚ hâ‚‚ hâ‚‚\n    Â· simp_rw [hf']\n    Â· simp_rw [Set.mem_Iic, â† hf' _ _] at hâ‚‚\n      exact false.elim (hâ‚‚ hâ‚)\n    Â· simp_rw [Set.mem_Iic, hf' _ _] at hâ‚\n      exact false.elim (hâ‚ hâ‚‚)\n    Â· rfl\n  Â· have :\n      upper_crossing_time 0 (b - a) (fun n Ï‰ => Â«expr âºÂ» (f n Ï‰ - a)) N (k + 1) = upper_crossing_time a b f N (k + 1) :=\n      by\n      ext Ï‰\n      simp only [upper_crossing_time_succ_eq, â† ih.2, hitting, Set.mem_Ici, tsub_le_iff_right]\n      split_ifs with hâ‚ hâ‚‚ hâ‚‚\n      Â· simp_rw [â† sub_le_iff_le_add, hf Ï‰]\n      Â· simp_rw [Set.mem_Ici, â† hf _ _] at hâ‚‚\n        exact false.elim (hâ‚‚ hâ‚)\n      Â· simp_rw [Set.mem_Ici, hf _ _] at hâ‚\n        exact false.elim (hâ‚ hâ‚‚)\n      Â· rfl\n    refine' âŸ¨this, _âŸ©\n    ext Ï‰\n    simp only [lower_crossing_time, this, hitting, Set.mem_Iic]\n    split_ifs with hâ‚ hâ‚‚ hâ‚‚\n    Â· simp_rw [hf' Ï‰]\n    Â· simp_rw [Set.mem_Iic, â† hf' _ _] at hâ‚‚\n      exact false.elim (hâ‚‚ hâ‚)\n    Â· simp_rw [Set.mem_Iic, hf' _ _] at hâ‚\n      exact false.elim (hâ‚ hâ‚‚)\n    Â· rfl\n#align crossing_pos_eq crossing_pos_eq\n\n",
 "crossing_eq_crossing_of_upper_crossing_time_lt":
 "theorem crossing_eq_crossing_of_upper_crossing_time_lt {M : â„•} (hNM : N â‰¤ M)\n    (h : upper_crossing_time a b f N (n + 1) Ï‰ < N) :\n    upper_crossing_time a b f M (n + 1) Ï‰ = upper_crossing_time a b f N (n + 1) Ï‰ âˆ§\n      lower_crossing_time a b f M n Ï‰ = lower_crossing_time a b f N n Ï‰ :=\n  by\n  have :=\n    (crossing_eq_crossing_of_lower_crossing_time_lt hNM\n        (lt_of_le_of_lt lower_crossing_time_le_upper_crossing_time_succ h)).2\n  refine' âŸ¨_, thisâŸ©\n  rw [upper_crossing_time_succ_eq, upper_crossing_time_succ_eq, eq_comm, this]\n  refine' hitting_eq_hitting_of_exists hNM _\n  simp only [upper_crossing_time_succ_eq, hitting_lt_iff] at h\n  obtain âŸ¨j, hjâ‚, hjâ‚‚âŸ© := h\n  exact âŸ¨j, âŸ¨hjâ‚.1, hjâ‚.2.leâŸ©, hjâ‚‚âŸ©\n#align crossing_eq_crossing_of_upper_crossing_time_lt crossing_eq_crossing_of_upper_crossing_time_lt\n\n",
 "crossing_eq_crossing_of_lower_crossing_time_lt":
 "theorem crossing_eq_crossing_of_lower_crossing_time_lt {M : â„•} (hNM : N â‰¤ M) (h : lower_crossing_time a b f N n Ï‰ < N) :\n    upper_crossing_time a b f M n Ï‰ = upper_crossing_time a b f N n Ï‰ âˆ§\n      lower_crossing_time a b f M n Ï‰ = lower_crossing_time a b f N n Ï‰ :=\n  by\n  have h' : upper_crossing_time a b f N n Ï‰ < N := lt_of_le_of_lt upper_crossing_time_le_lower_crossing_time h\n  induction' n with k ih\n  Â· simp only [Nat.zero_eq, upper_crossing_time_zero, bot_eq_zero', eq_self_iff_true, lower_crossing_time_zero,\n      true_and_iff, eq_comm]\n    refine' hitting_eq_hitting_of_exists hNM _\n    simp only [lower_crossing_time, hitting_lt_iff] at h\n    obtain âŸ¨j, hjâ‚, hjâ‚‚âŸ© := h\n    exact âŸ¨j, âŸ¨hjâ‚.1, hjâ‚.2.leâŸ©, hjâ‚‚âŸ©\n  Â· specialize\n      ih (lt_of_le_of_lt (lower_crossing_time_mono (nat.le_succ _)) h)\n        (lt_of_le_of_lt (upper_crossing_time_mono (nat.le_succ _)) h')\n    have : upper_crossing_time a b f M k.succ Ï‰ = upper_crossing_time a b f N k.succ Ï‰ :=\n      by\n      simp only [upper_crossing_time_succ_eq, hitting_lt_iff] at h'âŠ¢\n      obtain âŸ¨j, hjâ‚, hjâ‚‚âŸ© := h'\n      rw [eq_comm, ih.2]\n      exact hitting_eq_hitting_of_exists hNM âŸ¨j, âŸ¨hjâ‚.1, hjâ‚.2.leâŸ©, hjâ‚‚âŸ©\n    refine' âŸ¨this, _âŸ©\n    simp only [lower_crossing_time, eq_comm, this]\n    refine' hitting_eq_hitting_of_exists hNM _\n    rw [lower_crossing_time, hitting_lt_iff _ le_rfl] at h\n    swap\n    Â· infer_instance\n    obtain âŸ¨j, hjâ‚, hjâ‚‚âŸ© := h\n    exact âŸ¨j, âŸ¨hjâ‚.1, hjâ‚.2.leâŸ©, hjâ‚‚âŸ©\n#align crossing_eq_crossing_of_lower_crossing_time_lt crossing_eq_crossing_of_lower_crossing_time_lt\n\n"}