{"tsum_prob_mem_Ioi_lt_top":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∑' , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∑' , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal.top -/\ntheorem tsum_prob_mem_Ioi_lt_top {X : Ω → exprℝ} (hint : integrable X) (hnonneg : 0 ≤ X) :\n    «expr∑' , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∑' , »\"\n        ((measure_space.volume) { ω | X ω ∈ Set.Ioi (j : exprℝ) }) <\n      ennreal.top :=\n  by\n  suffices :\n    ∀ K : ℕ,\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          ((measure_space.volume) { ω | X ω ∈ Set.Ioi (j : exprℝ) }) ≤\n        ennreal.of_real (expected_value X + 1)\n  exact\n    (le_of_tendsto_of_tendsto (ennreal.tendsto_nat_tsum _) tendsto_const_nhds (eventually_of_forall this)).trans_lt\n      ennreal.of_real_lt_top\n  intro K\n  have A :\n    tendsto\n      (fun N : ℕ =>\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          ((measure_space.volume) { ω | X ω ∈ Set.Ioc (j : exprℝ) N }))\n      at_top\n      ((nhds)\n        (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          ((measure_space.volume) { ω | X ω ∈ Set.Ioi (j : exprℝ) }))) :=\n    by\n    refine' tendsto_finset_sum _ fun i hi => _\n    have :\n      { ω | X ω ∈ Set.Ioi (i : exprℝ) } =\n        «expr⋃ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr⋃ , »\"\n          { ω | X ω ∈ Set.Ioc (i : exprℝ) N } :=\n      by\n      apply Set.Subset.antisymm _ _\n      · intro ω hω\n        obtain ⟨N, hN⟩ : ∃ N : ℕ, X ω ≤ N := exists_nat_ge (X ω)\n        exact Set.mem_unionᵢ.2 ⟨N, hω, hN⟩\n      ·\n        simp (config := { contextual := true }) only [Set.mem_Ioc, Set.mem_Ioi, Set.unionᵢ_subset_iff,\n          Set.setOf_subset_setOf, imp_true_iff]\n    rw [this]\n    apply tendsto_measure_Union\n    intro m n hmn x hx\n    exact ⟨hx.1, hx.2.trans (nat.cast_le.2 hmn)⟩\n  apply le_of_tendsto_of_tendsto A tendsto_const_nhds\n  filter_upwards [Ici_mem_at_top K] with N hN\n  exact sum_prob_mem_Ioc_le hint hnonneg hN\n#align tsum_prob_mem_Ioi_lt_top tsum_prob_mem_Ioi_lt_top\n\n",
 "truncation_zero":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n@[simp]\ntheorem truncation_zero (f : α → exprℝ) : truncation f 0 = 0 := by simp [truncation]\n#align truncation_zero truncation_zero\n\n",
 "truncation_nonneg":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem truncation_nonneg {f : α → exprℝ} (A : exprℝ) {x : α} (h : 0 ≤ f x) : 0 ≤ truncation f A x :=\n  set.indicator_apply_nonneg fun _ => h\n#align truncation_nonneg truncation_nonneg\n\n",
 "truncation_eq_self":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem truncation_eq_self {f : α → exprℝ} {A : exprℝ} {x : α} (h : |f x| < A) : truncation f A x = f x :=\n  by\n  simp only [truncation, indicator, Set.mem_Icc, id.def, Function.comp_apply, ite_eq_left_iff]\n  intro H\n  apply H.elim\n  simp [(abs_lt.1 h).1, (abs_lt.1 h).2.le]\n#align truncation_eq_self truncation_eq_self\n\n",
 "truncation_eq_of_nonneg":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem truncation_eq_of_nonneg {f : α → exprℝ} {A : exprℝ} (h : ∀ x, 0 ≤ f x) :\n    truncation f A = indicator (Set.Ioc 0 A) id ∘ f := by\n  ext x\n  rcases(h x).lt_or_eq with (hx | hx)\n  · simp only [truncation, indicator, hx, Set.mem_Ioc, id.def, Function.comp_apply, true_and_iff]\n    by_cases h'x : f x ≤ A\n    · have : -A < f x := by linarith [h x]\n      simp only [this, true_and_iff]\n    · simp only [h'x, and_false_iff]\n  · simp only [truncation, indicator, hx, id.def, Function.comp_apply, if_t_t]\n#align truncation_eq_of_nonneg truncation_eq_of_nonneg\n\n",
 "truncation":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem ident_distrib.truncation {β : Type _} [measurable_space β] {ν : measure β} {f : α → exprℝ} {g : β → exprℝ}\n    (h : ident_distrib f g μ ν) {A : exprℝ} : ident_distrib (truncation f A) (truncation g A) μ ν :=\n  h.comp (measurable_id.indicator measurable_set_Ioc)\n#align ident_distrib.truncation ident_distrib.truncation\n\n",
 "tendsto_integral_truncation":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/-- If a function is integrable, then the integral of its truncated versions converges to the\nintegral of the whole function. -/\ntheorem tendsto_integral_truncation {f : α → exprℝ} (hf : integrable f μ) :\n    tendsto\n      (fun A =>\n        «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n          (truncation f A x) μ)\n      at_top\n      ((nhds)\n        («expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (f x)\n          μ)) :=\n  by\n  refine' tendsto_integral_filter_of_dominated_convergence (fun x => abs (f x)) _ _ _ _\n  · exact eventually_of_forall fun A => hf.ae_strongly_measurable.truncation\n  · apply eventually_of_forall fun A => _\n    apply eventually_of_forall fun x => _\n    rw [real.norm_eq_abs]\n    exact abs_truncation_le_abs_self _ _ _\n  · apply hf.abs\n  · apply eventually_of_forall fun x => _\n    apply tendsto_const_nhds.congr' _\n    filter_upwards [Ioi_mem_at_top (abs (f x))] with A hA\n    exact (truncation_eq_self hA).symm\n#align tendsto_integral_truncation tendsto_integral_truncation\n\n",
 "sum_variance_truncation_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\ntheorem sum_variance_truncation_le {X : Ω → exprℝ} (hint : integrable X) (hnonneg : 0 ≤ X) (K : ℕ) :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n        (((j : exprℝ) ^ 2)⁻¹ * expected_value (truncation X j ^ 2)) ≤\n      2 * expected_value X :=\n  by\n  set Y := fun n : ℕ => truncation X n\n  let ρ : measure (exprℝ) := measure.map X (measure_space.volume)\n  have Y2 :\n    ∀ n,\n      expected_value (Y n ^ 2) =\n        «expr∫ in .. , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\"\n          0 n (x ^ 2) ρ :=\n    by\n    intro n\n    change (expected_value fun x => Y n x ^ 2) = _\n    rw [moment_truncation_eq_interval_integral_of_nonneg hint.1 two_ne_zero hnonneg]\n  calc\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (((j : exprℝ) ^ 2)⁻¹ * expected_value (Y j ^ 2)) =\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (((j : exprℝ) ^ 2)⁻¹ *\n            «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0 j (x ^ 2)\n              ρ) :=\n      by simp_rw [Y2]\n    _ =\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (((j : exprℝ) ^ 2)⁻¹ *\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range j)\n              («expr∫ in .. , ∂ »\n                \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" k\n                (k + 1 : ℕ) (x ^ 2) ρ)) :=\n      by\n      congr 1 with j\n      congr 1\n      rw [interval_integral.sum_integral_adjacent_intervals]\n      · norm_cast\n      intro k hk\n      exact (continuous_id.pow _).interval_integrable _ _\n    _ =\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Ioo k K)\n              ((j : exprℝ) ^ 2)⁻¹ *\n            «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" k (k + 1 : ℕ)\n              (x ^ 2) ρ) :=\n      by\n      simp_rw [mul_sum, sum_mul, sum_sigma']\n      refine'\n        sum_bij' (fun (p : Σi : ℕ, ℕ) hp => (⟨p.2, p.1⟩ : Σi : ℕ, ℕ)) _ (fun a ha => rfl)\n          (fun (p : Σi : ℕ, ℕ) hp => (⟨p.2, p.1⟩ : Σi : ℕ, ℕ)) _ _ _\n      · rintro ⟨i, j⟩ hij\n        simp only [mem_sigma, mem_range, mem_filter] at hij\n        simp [hij, mem_sigma, mem_range, and_self_iff, hij.2.trans hij.1]\n      · rintro ⟨i, j⟩ hij\n        simp only [mem_sigma, mem_range, mem_Ioo] at hij\n        simp only [hij, mem_sigma, mem_range, and_self_iff]\n      · rintro ⟨i, j⟩ hij\n        rfl\n      · rintro ⟨i, j⟩ hij\n        rfl\n    _ ≤\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (2 / (k + 1) *\n            «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" k (k + 1 : ℕ)\n              (x ^ 2) ρ) :=\n      by\n      apply sum_le_sum fun k hk => _\n      refine' mul_le_mul_of_nonneg_right (sum_Ioo_inv_sq_le _ _) _\n      refine' interval_integral.integral_nonneg_of_forall _ fun u => sq_nonneg _\n      simp only [Nat.cast_add, Nat.cast_one, le_add_iff_nonneg_right, zero_le_one]\n    _ ≤\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          («expr∫ in .. , ∂ »\n            \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" k (k + 1 : ℕ)\n            (2 * x) ρ) :=\n      by\n      apply sum_le_sum fun k hk => _\n      have Ik : (k : exprℝ) ≤ (k + 1 : ℕ) := by simp\n      rw [← interval_integral.integral_const_mul, interval_integral.integral_of_le Ik,\n        interval_integral.integral_of_le Ik]\n      refine' set_integral_mono_on _ _ measurable_set_Ioc fun x hx => _\n      · apply continuous.integrable_on_Ioc\n        exact continuous_const.mul (continuous_pow 2)\n      · apply continuous.integrable_on_Ioc\n        exact continuous_const.mul continuous_id'\n      ·\n        calc\n          2 / (↑k + 1) * x ^ 2 = x / (k + 1) * (2 * x) := by ring\n          _ ≤ 1 * (2 * x) :=\n            mul_le_mul_of_nonneg_right\n              (by\n                apply_mod_cast (div_le_one _).2 hx.2\n                simp only [Nat.cast_add, Nat.cast_one]\n                linarith only [show (0 : exprℝ) ≤ k from nat.cast_nonneg k])\n              (mul_nonneg zero_le_two ((nat.cast_nonneg k).trans hx.1.le))\n          _ = 2 * x := by rw [one_mul]\n          \n    _ =\n        2 *\n          «expr∫ in .. , ∂ »\n            \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" (0 : exprℝ) K x\n            ρ :=\n      by\n      rw [interval_integral.sum_integral_adjacent_intervals fun k hk => _]\n      swap; · exact (continuous_const.mul continuous_id').interval_integrable _ _\n      rw [interval_integral.integral_const_mul]\n      norm_cast\n    _ ≤ 2 * expected_value X :=\n      mul_le_mul_of_nonneg_left\n        (by\n          rw [← integral_truncation_eq_interval_integral_of_nonneg hint.1 hnonneg]\n          exact integral_truncation_le_integral_of_nonneg hint hnonneg)\n        zero_le_two\n    \n#align sum_variance_truncation_le sum_variance_truncation_le\n\n",
 "sum_prob_mem_Ioc_le":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\ntheorem sum_prob_mem_Ioc_le {X : Ω → exprℝ} (hint : integrable X) (hnonneg : 0 ≤ X) {K : ℕ} {N : ℕ} (hKN : K ≤ N) :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n        ((measure_space.volume) { ω | X ω ∈ Set.Ioc (j : exprℝ) N }) ≤\n      ennreal.of_real (expected_value X + 1) :=\n  by\n  let ρ : measure (exprℝ) := measure.map X (measure_space.volume)\n  haveI : is_probability_measure ρ := is_probability_measure_map hint.ae_measurable\n  have A :\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n        («expr∫ in .. , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\"\n          j N (1 : exprℝ) ρ) ≤\n      expected_value X + 1 :=\n    calc\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n            («expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" j N\n              (1 : exprℝ) ρ) =\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n            (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (Ico j N)\n              («expr∫ in .. , ∂ »\n                \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" i\n                (i + 1 : ℕ) (1 : exprℝ) ρ)) :=\n        by\n        apply sum_congr rfl fun j hj => _\n        rw [interval_integral.sum_integral_adjacent_intervals_Ico ((mem_range.1 hj).le.trans hKN)]\n        intro k hk\n        exact continuous_const.interval_integrable _ _\n      _ =\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (range (min (i + 1) K))\n              («expr∫ in .. , ∂ »\n                \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" i\n                (i + 1 : ℕ) (1 : exprℝ) ρ)) :=\n        by\n        simp_rw [sum_sigma']\n        refine'\n          sum_bij' (fun (p : Σi : ℕ, ℕ) hp => (⟨p.2, p.1⟩ : Σi : ℕ, ℕ)) _ (fun a ha => rfl)\n            (fun (p : Σi : ℕ, ℕ) hp => (⟨p.2, p.1⟩ : Σi : ℕ, ℕ)) _ _ _\n        · rintro ⟨i, j⟩ hij\n          simp only [mem_sigma, mem_range, mem_Ico] at hij\n          simp only [hij, Nat.lt_succ_iff.2 hij.2.1, mem_sigma, mem_range, lt_min_iff, and_self_iff]\n        · rintro ⟨i, j⟩ hij\n          simp only [mem_sigma, mem_range, lt_min_iff] at hij\n          simp only [hij, Nat.lt_succ_iff.1 hij.2.1, mem_sigma, mem_range, mem_Ico, and_self_iff]\n        · rintro ⟨i, j⟩ hij\n          rfl\n        · rintro ⟨i, j⟩ hij\n          rfl\n      _ ≤\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            ((i + 1) *\n              «expr∫ in .. , ∂ »\n                \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" i\n                (i + 1 : ℕ) (1 : exprℝ) ρ) :=\n        by\n        apply sum_le_sum fun i hi => _\n        simp only [Nat.cast_add, Nat.cast_one, sum_const, card_range, nsmul_eq_mul, nat.cast_min]\n        refine' mul_le_mul_of_nonneg_right (min_le_left _ _) _\n        apply interval_integral.integral_nonneg\n        · simp only [le_add_iff_nonneg_right, zero_le_one]\n        · simp only [zero_le_one, imp_true_iff]\n      _ ≤\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            («expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" i (i + 1 : ℕ)\n              (x + 1) ρ) :=\n        by\n        apply sum_le_sum fun i hi => _\n        have I : (i : exprℝ) ≤ (i + 1 : ℕ) := by\n          simp only [Nat.cast_add, Nat.cast_one, le_add_iff_nonneg_right, zero_le_one]\n        simp_rw [interval_integral.integral_of_le I, ← integral_mul_left]\n        apply set_integral_mono_on\n        · exact continuous_const.integrable_on_Ioc\n        · exact (continuous_id.add continuous_const).integrable_on_Ioc\n        · exact measurable_set_Ioc\n        · intro x hx\n          simp only [Nat.cast_add, Nat.cast_one, Set.mem_Ioc] at hx\n          simp [hx.1.le]\n      _ =\n          «expr∫ in .. , ∂ »\n            \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0 N (x + 1)\n            ρ :=\n        by\n        rw [interval_integral.sum_integral_adjacent_intervals fun k hk => _]\n        · norm_cast\n        · exact (continuous_id.add continuous_const).interval_integrable _ _\n      _ =\n          «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0 N x ρ +\n            «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0 N 1 ρ :=\n        by\n        rw [interval_integral.integral_add]\n        · exact continuous_id.interval_integrable _ _\n        · exact continuous_const.interval_integrable _ _\n      _ =\n          expected_value (truncation X N) +\n            «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0 N 1 ρ :=\n        by rw [integral_truncation_eq_interval_integral_of_nonneg hint.1 hnonneg]\n      _ ≤\n          expected_value X +\n            «expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0 N 1 ρ :=\n        add_le_add_right (integral_truncation_le_integral_of_nonneg hint hnonneg) _\n      _ ≤ expected_value X + 1 := by\n        refine' add_le_add le_rfl _\n        rw [interval_integral.integral_of_le (nat.cast_nonneg _)]\n        simp only [integral_const, measure.restrict_apply', measurable_set_Ioc, Set.univ_inter, algebra.id.smul_eq_mul,\n          mul_one]\n        rw [← ennreal.one_to_real]\n        exact ennreal.to_real_mono ennreal.one_ne_top prob_le_one\n      \n  have B :\n    ∀ a b,\n      (measure_space.volume) { ω | X ω ∈ Set.Ioc a b } =\n        ennreal.of_real\n          («expr∫ in , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in , ∂ »\"\n            (Set.Ioc a b) (1 : exprℝ) ρ) :=\n    by\n    intro a b\n    rw [of_real_set_integral_one ρ _, measure.map_apply_of_ae_measurable hint.ae_measurable measurable_set_Ioc]\n    rfl\n  calc\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          ((measure_space.volume) { ω | X ω ∈ Set.Ioc (j : exprℝ) N }) =\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (ennreal.of_real\n            («expr∫ in , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in , ∂ »\"\n              (Set.Ioc (j : exprℝ) N) (1 : exprℝ) ρ)) :=\n      by simp_rw [B]\n    _ =\n        ennreal.of_real\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n            («expr∫ in , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in , ∂ »\"\n              (Set.Ioc (j : exprℝ) N) (1 : exprℝ) ρ)) :=\n      by\n      rw [ennreal.of_real_sum_of_nonneg]\n      simp only [integral_const, algebra.id.smul_eq_mul, mul_one, ennreal.to_real_nonneg, imp_true_iff]\n    _ =\n        ennreal.of_real\n          (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n            («expr∫ in .. , ∂ »\n              \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" (j : exprℝ) N\n              (1 : exprℝ) ρ)) :=\n      by\n      congr 1\n      refine' sum_congr rfl fun j hj => _\n      rw [interval_integral.integral_of_le (nat.cast_le.2 ((mem_range.1 hj).le.trans hKN))]\n    _ ≤ ennreal.of_real (expected_value X + 1) := ennreal.of_real_le_of_real A\n    \n#align sum_prob_mem_Ioc_le sum_prob_mem_Ioc_le\n\n",
 "strong_law_aux7":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/-- `Xᵢ` satisfies the strong law of large numbers along all integers. This follows from the\ncorresponding fact along the sequences `c^n`, and the fact that any integer can be sandwiched\nbetween `c^n` and `c^(n+1)` with comparably small error if `c` is close enough to `1`\n(which is formalized in `tendsto_div_of_monotone_of_tendsto_div_floor_pow`). -/\ntheorem strong_law_aux7 :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      (tendsto\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (X i ω) /\n            n)\n        at_top ((nhds) (expected_value (X 0)))) :=\n  by\n  obtain ⟨c, -, cone, clim⟩ : ∃ c : ℕ → exprℝ, strict_anti c ∧ (∀ n : ℕ, 1 < c n) ∧ tendsto c at_top ((nhds) 1) :=\n    exists_seq_strict_anti_tendsto (1 : exprℝ)\n  have :\n    ∀ k,\n      «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n        (tendsto\n          (fun n : ℕ =>\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n                (range («expr⌊ ⌋₊» (c k ^ n))) (X i ω) /\n              «expr⌊ ⌋₊» (c k ^ n))\n          at_top ((nhds) (expected_value (X 0)))) :=\n    fun k => strong_law_aux6 X hint hindep hident hnonneg (cone k)\n  filter_upwards [ae_all_iff.2 this] with ω hω\n  apply tendsto_div_of_monotone_of_tendsto_div_floor_pow _ _ _ c cone clim _\n  · intro m n hmn\n    exact sum_le_sum_of_subset_of_nonneg (range_mono hmn) fun i hi h'i => hnonneg i ω\n  · exact hω\n#align strong_law_aux7 strong_law_aux7\n\n",
 "strong_law_aux6":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr =o[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- `Xᵢ` satisfies the strong law of large numbers along the sequence\n`c^n`, for any `c > 1`. This follows from the version for the truncated `Xᵢ`, and the fact that\n`Xᵢ` and its truncated version have the same asymptotic behavior. -/\ntheorem strong_law_aux6 {c : exprℝ} (c_one : 1 < c) :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      (tendsto\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (range («expr⌊ ⌋₊» (c ^ n))) (X i ω) /\n            «expr⌊ ⌋₊» (c ^ n))\n        at_top ((nhds) (expected_value (X 0)))) :=\n  by\n  have H : ∀ n : ℕ, (0 : exprℝ) < «expr⌊ ⌋₊» (c ^ n) := by\n    intro n\n    refine' zero_lt_one.trans_le _\n    simp only [nat.one_le_cast, Nat.one_le_floor_iff, one_le_pow_of_one_le c_one.le n]\n  filter_upwards [strong_law_aux4 X hint hindep hident hnonneg c_one,\n    strong_law_aux5 X hint hident hnonneg] with ω hω h'ω\n  rw [← tendsto_sub_nhds_zero_iff, ← asymptotics.is_o_one_iff (exprℝ)]\n  have L :\n    «expr =o[ ] »\n      (fun n : ℕ =>\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (range («expr⌊ ⌋₊» (c ^ n))) (X i ω) -\n          «expr⌊ ⌋₊» (c ^ n) * expected_value (X 0))\n      at_top fun n => («expr⌊ ⌋₊» (c ^ n) : exprℝ) :=\n    by\n    have A : tendsto (fun n : ℕ => «expr⌊ ⌋₊» (c ^ n)) at_top at_top :=\n      tendsto_nat_floor_at_top.comp (tendsto_pow_at_top_at_top_of_one_lt c_one)\n    convert hω.sub (h'ω.comp_tendsto A)\n    ext1 n\n    simp only [sub_sub_sub_cancel_left]\n  convert L.mul_is_O (is_O_refl (fun n : ℕ => («expr⌊ ⌋₊» (c ^ n) : exprℝ)⁻¹) at_top) <;>\n    · ext1 n\n      field_simp [(H n).ne']\n#align strong_law_aux6 strong_law_aux6\n\n",
 "strong_law_aux5":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∑' , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∑' , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal.top -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr =o[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/-- The truncated and non-truncated versions of `Xᵢ` have the same asymptotic behavior, as they\nalmost surely coincide at all but finitely many steps. This follows from a probability computation\nand Borel-Cantelli. -/\ntheorem strong_law_aux5 :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      («expr =o[ ] »\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (truncation (X i) i ω) -\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (X i ω))\n        at_top fun n : ℕ => (n : exprℝ)) :=\n  by\n  have A :\n    «expr∑' , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∑' , »\"\n        ((measure_space.volume) { ω | X j ω ∈ Set.Ioi (j : exprℝ) }) <\n      ennreal.top :=\n    by\n    convert tsum_prob_mem_Ioi_lt_top hint (hnonneg 0)\n    ext1 j\n    exact (hident j).measure_mem_eq measurable_set_Ioi\n  have B :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      (tendsto (fun n : ℕ => truncation (X n) n ω - X n ω) at_top ((nhds) 0)) :=\n    by\n    filter_upwards [ae_eventually_not_mem A.ne] with ω hω\n    apply tendsto_const_nhds.congr' _\n    filter_upwards [hω, Ioi_mem_at_top 0] with n hn npos\n    simp only [truncation, indicator, Set.mem_Ioc, id.def, Function.comp_apply]\n    split_ifs\n    · exact (sub_self _).symm\n    · have : -(n : exprℝ) < X n ω := by\n        apply lt_of_lt_of_le _ (hnonneg n ω)\n        simpa only [right.neg_neg_iff, nat.cast_pos] using npos\n      simp only [this, true_and_iff, not_le] at h\n      exact (hn h).elim\n  filter_upwards [B] with ω hω\n  convert is_o_sum_range_of_tendsto_zero hω\n  ext n\n  rw [sum_sub_distrib]\n#align strong_law_aux5 strong_law_aux5\n\n",
 "strong_law_aux4":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr =o[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- The truncation of `Xᵢ` up to `i` satisfies the strong law of large numbers\n(with respect to the original expectation) along the sequence\n`c^n`, for any `c > 1`. This follows from the version from the truncated expectation, and the\nfact that the truncated and the original expectations have the same asymptotic behavior. -/\ntheorem strong_law_aux4 {c : exprℝ} (c_one : 1 < c) :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      («expr =o[ ] »\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (range («expr⌊ ⌋₊» (c ^ n))) (truncation (X i) i ω) -\n            «expr⌊ ⌋₊» (c ^ n) * expected_value (X 0))\n        at_top fun n : ℕ => («expr⌊ ⌋₊» (c ^ n) : exprℝ)) :=\n  by\n  filter_upwards [strong_law_aux2 X hint hindep hident hnonneg c_one] with ω hω\n  have A : tendsto (fun n : ℕ => «expr⌊ ⌋₊» (c ^ n)) at_top at_top :=\n    tendsto_nat_floor_at_top.comp (tendsto_pow_at_top_at_top_of_one_lt c_one)\n  convert hω.add ((strong_law_aux3 X hint hident).comp_tendsto A)\n  ext1 n\n  simp\n#align strong_law_aux4 strong_law_aux4\n\n",
 "strong_law_aux3":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr =o[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/-- The expectation of the truncated version of `Xᵢ` behaves asymptotically like the whole\nexpectation. This follows from convergence and Cesaro averaging. -/\ntheorem strong_law_aux3 :\n    «expr =o[ ] »\n      (fun n =>\n        expected_value\n            (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (truncation (X i) i)) -\n          n * expected_value (X 0))\n      at_top (coe : ℕ → exprℝ) :=\n  by\n  have A : tendsto (fun i => expected_value (truncation (X i) i)) at_top ((nhds) (expected_value (X 0))) :=\n    by\n    convert (tendsto_integral_truncation hint).comp tendsto_coe_nat_at_top_at_top\n    ext i\n    exact (hident i).truncation.integral_eq\n  convert asymptotics.is_o_sum_range_of_tendsto_zero (tendsto_sub_nhds_zero_iff.2 A)\n  ext1 n\n  simp only [sum_sub_distrib, sum_const, card_range, nsmul_eq_mul, sum_apply, sub_left_inj]\n  rw [integral_finset_sum _ fun i hi => _]\n  exact ((hident i).symm.integrable_snd hint).1.integrable_truncation\n#align strong_law_aux3 strong_law_aux3\n\n",
 "strong_law_aux2":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr =o[ ] » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- The truncation of `Xᵢ` up to `i` satisfies the strong law of large numbers\n(with respect to the truncated expectation) along the sequence\n`c^n`, for any `c > 1`. This follows from `strong_law_aux1` by varying `ε`. -/\ntheorem strong_law_aux2 {c : exprℝ} (c_one : 1 < c) :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      («expr =o[ ] »\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (range («expr⌊ ⌋₊» (c ^ n))) (truncation (X i) i ω) -\n            expected_value\n              (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n                (range («expr⌊ ⌋₊» (c ^ n))) (truncation (X i) i)))\n        at_top fun n : ℕ => («expr⌊ ⌋₊» (c ^ n) : exprℝ)) :=\n  by\n  obtain ⟨v, -, v_pos, v_lim⟩ : ∃ v : ℕ → exprℝ, strict_anti v ∧ (∀ n : ℕ, 0 < v n) ∧ tendsto v at_top ((nhds) 0) :=\n    exists_seq_strict_anti_tendsto (0 : exprℝ)\n  have := fun i => strong_law_aux1 X hint hindep hident hnonneg c_one (v_pos i)\n  filter_upwards [ae_all_iff.2 this] with ω hω\n  apply asymptotics.is_o_iff.2 fun ε εpos => _\n  obtain ⟨i, hi⟩ : ∃ i, v i < ε := ((tendsto_order.1 v_lim).2 ε εpos).exists\n  filter_upwards [hω i] with n hn\n  simp only [real.norm_eq_abs, lattice_ordered_comm_group.abs_abs, nat.abs_cast]\n  exact hn.le.trans (mul_le_mul_of_nonneg_right hi.le (nat.cast_nonneg _))\n#align strong_law_aux2 strong_law_aux2\n\n",
 "strong_law_aux1":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `probability_theory.variance -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∑' , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∑' , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal.top -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr⌊ ⌋₊» -/\n/- This paragraph proves the strong law of large numbers (almost sure version, assuming only\npairwise independence) for nonnegative random variables, following Etemadi's proof. -/\n/- The truncation of `Xᵢ` up to `i` satisfies the strong law of large numbers (with respect to\nthe truncated expectation) along the sequence `c^n`, for any `c > 1`, up to a given `ε > 0`.\nThis follows from a variance control. -/\ntheorem strong_law_aux1 {c : exprℝ} (c_one : 1 < c) {ε : exprℝ} (εpos : 0 < ε) :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      («expr∀ᶠ in , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᶠ in , »\" at_top\n        (|finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n                (range («expr⌊ ⌋₊» (c ^ n))) (truncation (X i) i ω) -\n              expected_value\n                (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n                  (range («expr⌊ ⌋₊» (c ^ n))) (truncation (X i) i))| <\n          ε * «expr⌊ ⌋₊» (c ^ n))) :=\n  by\n  /- Let `S n = ∑ i in range n, Y i` where `Y i = truncation (X i) i`. We should show that\n    `|S k - 𝔼[S k]| / k ≤ ε` along the sequence of powers of `c`. For this, we apply Borel-Cantelli:\n    it suffices to show that the converse probabilites are summable. From Chebyshev inequality, this\n    will follow from a variance control `∑' Var[S (c^i)] / (c^i)^2 < ∞`. This is checked in `I2` using\n    pairwise independence to expand the variance of the sum as the sum of the variances, and then\n    a straightforward but tedious computation (essentially boiling down to the fact that the sum of\n    `1/(c ^ i)^2` beyong a threshold `j` is comparable to `1/j^2`).\n    Note that we have written `c^i` in the above proof sketch, but rigorously one should put integer\n    parts everywhere, making things more painful. We write `u i = ⌊c^i⌋₊` for brevity. -/\n  have c_pos : 0 < c := zero_lt_one.trans c_one\n  let ρ : measure (exprℝ) := measure.map (X 0) (measure_space.volume)\n  have hX : ∀ i, ae_strongly_measurable (X i) (measure_space.volume) := fun i =>\n    (hident i).symm.ae_strongly_measurable_snd hint.1\n  have A : ∀ i, strongly_measurable (indicator (Set.Ioc (-i : exprℝ) i) id) := fun i =>\n    strongly_measurable_id.indicator measurable_set_Ioc\n  set Y := fun n : ℕ => truncation (X n) n with hY\n  set S := fun n =>\n    finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n) (Y i) with\n    hS\n  let u : ℕ → ℕ := fun n => «expr⌊ ⌋₊» (c ^ n)\n  have u_mono : monotone u := fun i j hij => Nat.floor_mono (pow_le_pow c_one.le hij)\n  have I1 :\n    ∀ K,\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n          (((j : exprℝ) ^ 2)⁻¹ * probability_theory.variance (Y j)) ≤\n        2 * expected_value (X 0) :=\n    by\n    intro K\n    calc\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n            (((j : exprℝ) ^ 2)⁻¹ * probability_theory.variance (Y j)) ≤\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range K)\n            (((j : exprℝ) ^ 2)⁻¹ * expected_value (truncation (X 0) j ^ 2)) :=\n        by\n        apply sum_le_sum fun j hj => _\n        refine' mul_le_mul_of_nonneg_left _ (inv_nonneg.2 (sq_nonneg _))\n        rw [(hident j).truncation.variance_eq]\n        exact variance_le_expectation_sq (hX 0).truncation\n      _ ≤ 2 * expected_value (X 0) := sum_variance_truncation_le hint (hnonneg 0) K\n      \n  let C := c ^ 5 * (c - 1)⁻¹ ^ 3 * (2 * expected_value (X 0))\n  have I2 :\n    ∀ N,\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n          (((u i : exprℝ) ^ 2)⁻¹ * probability_theory.variance (S (u i))) ≤\n        C :=\n    by\n    intro N\n    calc\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            (((u i : exprℝ) ^ 2)⁻¹ * probability_theory.variance (S (u i))) =\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            (((u i : exprℝ) ^ 2)⁻¹ *\n              finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n                (range (u i)) (probability_theory.variance (Y j))) :=\n        by\n        congr 1 with i\n        congr 1\n        rw [hS, indep_fun.variance_sum]\n        · intro j hj\n          exact (hident j).ae_strongly_measurable_fst.mem_ℒp_truncation\n        · intro k hk l hl hkl\n          exact (hindep hkl).comp (A k).measurable (A l).measurable\n      _ =\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (range (u (N - 1)))\n            (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n                ((range N).filter fun i => j < u i) ((u i : exprℝ) ^ 2)⁻¹ *\n              probability_theory.variance (Y j)) :=\n        by\n        simp_rw [mul_sum, sum_mul, sum_sigma']\n        refine'\n          sum_bij' (fun (p : Σi : ℕ, ℕ) hp => (⟨p.2, p.1⟩ : Σi : ℕ, ℕ)) _ (fun a ha => rfl)\n            (fun (p : Σi : ℕ, ℕ) hp => (⟨p.2, p.1⟩ : Σi : ℕ, ℕ)) _ _ _\n        · rintro ⟨i, j⟩ hij\n          simp only [mem_sigma, mem_range] at hij\n          simp only [hij.1, hij.2, mem_sigma, mem_range, mem_filter, and_true_iff]\n          exact hij.2.trans_le (u_mono (Nat.le_pred_of_lt hij.1))\n        · rintro ⟨i, j⟩ hij\n          simp only [mem_sigma, mem_range, mem_filter] at hij\n          simp only [hij.2.1, hij.2.2, mem_sigma, mem_range, and_self_iff]\n        · rintro ⟨i, j⟩ hij\n          rfl\n        · rintro ⟨i, j⟩ hij\n          rfl\n      _ ≤\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n            (range (u (N - 1))) (c ^ 5 * (c - 1)⁻¹ ^ 3 / j ^ 2 * probability_theory.variance (Y j)) :=\n        by\n        apply sum_le_sum fun j hj => _\n        rcases@eq_zero_or_pos _ _ j with (rfl | hj)\n        · simp only [Y, Nat.cast_zero, zero_pow', ne.def, bit0_eq_zero, nat.one_ne_zero, not_false_iff, div_zero,\n            zero_mul]\n          simp only [Nat.cast_zero, truncation_zero, variance_zero, mul_zero]\n        apply mul_le_mul_of_nonneg_right _ (variance_nonneg _ _)\n        convert sum_div_nat_floor_pow_sq_le_div_sq N (nat.cast_pos.2 hj) c_one\n        · simp only [nat.cast_lt]\n        · simp only [one_div]\n      _ =\n          c ^ 5 * (c - 1)⁻¹ ^ 3 *\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\"\n              (range (u (N - 1))) (((j : exprℝ) ^ 2)⁻¹ * probability_theory.variance (Y j)) :=\n        by\n        simp_rw [mul_sum, div_eq_mul_inv]\n        ring_nf\n      _ ≤ c ^ 5 * (c - 1)⁻¹ ^ 3 * (2 * expected_value (X 0)) :=\n        by\n        apply mul_le_mul_of_nonneg_left (I1 _)\n        apply mul_nonneg (pow_nonneg c_pos.le _)\n        exact pow_nonneg (inv_nonneg.2 (sub_nonneg.2 c_one.le)) _\n      \n  have I3 :\n    ∀ N,\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n          ((measure_space.volume) { ω | (u i * ε : exprℝ) ≤ |S (u i) ω - expected_value (S (u i))| }) ≤\n        ennreal.of_real (ε⁻¹ ^ 2 * C) :=\n    by\n    intro N\n    calc\n      finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            ((measure_space.volume) { ω | (u i * ε : exprℝ) ≤ |S (u i) ω - expected_value (S (u i))| }) ≤\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n            (ennreal.of_real (probability_theory.variance (S (u i)) / (u i * ε) ^ 2)) :=\n        by\n        refine' sum_le_sum fun i hi => _\n        apply meas_ge_le_variance_div_sq\n        · exact mem_ℒp_finset_sum' _ fun j hj => (hident j).ae_strongly_measurable_fst.mem_ℒp_truncation\n        · apply mul_pos (nat.cast_pos.2 _) εpos\n          refine' zero_lt_one.trans_le _\n          apply Nat.le_floor\n          rw [Nat.cast_one]\n          apply one_le_pow_of_one_le c_one.le\n      _ =\n          ennreal.of_real\n            (finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range N)\n              (probability_theory.variance (S (u i)) / (u i * ε) ^ 2)) :=\n        by\n        rw [ennreal.of_real_sum_of_nonneg fun i hi => _]\n        exact div_nonneg (variance_nonneg _ _) (sq_nonneg _)\n      _ ≤ ennreal.of_real (ε⁻¹ ^ 2 * C) := by\n        apply ennreal.of_real_le_of_real\n        simp_rw [div_eq_inv_mul, ← inv_pow, mul_inv, mul_comm _ ε⁻¹, mul_pow, mul_assoc, ← mul_sum]\n        refine' mul_le_mul_of_nonneg_left _ (sq_nonneg _)\n        simp_rw [inv_pow]\n        exact I2 N\n      \n  have I4 :\n    «expr∑' , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∑' , »\"\n        ((measure_space.volume) { ω | (u i * ε : exprℝ) ≤ |S (u i) ω - expected_value (S (u i))| }) <\n      ennreal.top :=\n    (le_of_tendsto_of_tendsto' (ennreal.tendsto_nat_tsum _) tendsto_const_nhds I3).trans_lt ennreal.of_real_lt_top\n  filter_upwards [ae_eventually_not_mem I4.ne] with ω hω\n  simp_rw [not_le, mul_comm, S, sum_apply] at hω\n  exact hω\n#align strong_law_aux1 strong_law_aux1\n\n",
 "strong_law_ae":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/-- *Strong law of large numbers*, almost sure version: if `X n` is a sequence of independent\nidentically distributed integrable real-valued random variables, then `∑ i in range n, X i / n`\nconverges almost surely to `𝔼[X 0]`. We give here the strong version, due to Etemadi, that only\nrequires pairwise independence. -/\ntheorem strong_law_ae (X : ℕ → Ω → exprℝ) (hint : integrable (X 0)) (hindep : Pairwise fun i j => indep_fun (X i) (X j))\n    (hident : ∀ i, ident_distrib (X i) (X 0)) :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      (tendsto\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (X i ω) /\n            n)\n        at_top ((nhds) (expected_value (X 0)))) :=\n  by\n  let pos : exprℝ → exprℝ := fun x => max x 0\n  let neg : exprℝ → exprℝ := fun x => max (-x) 0\n  have posm : measurable pos := measurable_id'.max measurable_const\n  have negm : measurable neg := measurable_id'.neg.max measurable_const\n  have A :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      (tendsto\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              ((pos ∘ X i) ω) /\n            n)\n        at_top ((nhds) (expected_value (pos ∘ X 0)))) :=\n    strong_law_aux7 _ hint.pos_part (fun i j hij => (hindep hij).comp posm posm) (fun i => (hident i).comp posm)\n      fun i ω => le_max_right _ _\n  have B :\n    «expr∀ᵐ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ , »\"\n      (tendsto\n        (fun n : ℕ =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              ((neg ∘ X i) ω) /\n            n)\n        at_top ((nhds) (expected_value (neg ∘ X 0)))) :=\n    strong_law_aux7 _ hint.neg_part (fun i j hij => (hindep hij).comp negm negm) (fun i => (hident i).comp negm)\n      fun i ω => le_max_right _ _\n  filter_upwards [A, B] with ω hωpos hωneg\n  convert hωpos.sub hωneg\n  · simp only [← sub_div, ← sum_sub_distrib, max_zero_sub_max_neg_zero_eq_self]\n  · simp only [← integral_sub hint.pos_part hint.neg_part, max_zero_sub_max_neg_zero_eq_self]\n#align strong_law_ae strong_law_ae\n\n",
 "strong_law_Lp":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal.top -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `expected_value -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `measure_space.volume -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `nhds -/\n/-- *Strong law of large numbers*, Lᵖ version: if `X n` is a sequence of independent\nidentically distributed real-valued random variables in Lᵖ, then `∑ i in range n, X i / n`\nconverges in Lᵖ to `𝔼[X 0]`. -/\ntheorem strong_law_Lp {p : ennreal} (hp : 1 ≤ p) (hp' : p ≠ ennreal.top) (X : ℕ → Ω → exprℝ) (hℒp : mem_ℒp (X 0) p)\n    (hindep : Pairwise fun i j => indep_fun (X i) (X j)) (hident : ∀ i, ident_distrib (X i) (X 0)) :\n    tendsto\n      (fun n =>\n        snorm\n          (fun ω =>\n            finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n                  (X i ω) /\n                n -\n              expected_value (X 0))\n          p (measure_space.volume))\n      at_top ((nhds) 0) :=\n  by\n  have hmeas : ∀ i, ae_strongly_measurable (X i) (measure_space.volume) := fun i =>\n    (hident i).ae_strongly_measurable_iff.2 hℒp.1\n  have hint : integrable (X 0) (measure_space.volume) := hℒp.integrable hp\n  have havg :\n    ∀ n,\n      ae_strongly_measurable\n        (fun ω =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (X i ω) /\n            n)\n        (measure_space.volume) :=\n    by\n    intro n\n    simp_rw [div_eq_mul_inv]\n    exact ae_strongly_measurable.mul_const (ae_strongly_measurable_sum _ fun i _ => hmeas i) _\n  refine'\n    tendsto_Lp_of_tendsto_in_measure _ hp hp' havg (mem_ℒp_const _) _\n      (tendsto_in_measure_of_tendsto_ae havg (strong_law_ae _ hint hindep hident))\n  rw [(_ :\n      (fun n ω =>\n          finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n              (X i ω) /\n            ↑n) =\n        fun n =>\n        finset.sum \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `finset.sum\" (range n)\n            (X i) /\n          ↑n)]\n  · exact (uniform_integrable_average hp <| mem_ℒp.uniform_integrable_of_ident_distrib hp hp' hℒp hident).2.1\n  · ext (n ω)\n    simp only [pi.coe_nat, pi.div_apply, sum_apply]\n#align strong_law_Lp strong_law_Lp\n\n",
 "moment_truncation_eq_interval_integral_of_nonneg":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\ntheorem moment_truncation_eq_interval_integral_of_nonneg (hf : ae_strongly_measurable f μ) {A : exprℝ} {n : ℕ}\n    (hn : n ≠ 0) (h'f : 0 ≤ f) :\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        (truncation f A x ^ n) μ =\n      «expr∫ in .. , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0\n        A (y ^ n) (measure.map f μ) :=\n  by\n  have M : measurable_set (Set.Ioc 0 A) := measurable_set_Ioc\n  have M' : measurable_set (Set.Ioc A 0) := measurable_set_Ioc\n  rw [truncation_eq_of_nonneg h'f]\n  change\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        ((fun z => indicator (Set.Ioc 0 A) id z ^ n) (f x)) μ =\n      _\n  rcases le_or_lt 0 A with (hA | hA)\n  · rw [← integral_map hf.ae_measurable, interval_integral.integral_of_le hA, ← integral_indicator M]\n    · simp only [indicator, zero_pow' _ hn, id.def, ite_pow]\n    · exact ((measurable_id.indicator M).pow_const n).ae_strongly_measurable\n  · rw [← integral_map hf.ae_measurable, interval_integral.integral_of_ge hA.le, ← integral_indicator M']\n    · simp only [Set.Ioc_eq_empty_of_le hA.le, zero_pow' _ hn, set.indicator_empty, integral_zero, zero_eq_neg]\n      apply integral_eq_zero_of_ae\n      have :\n        «expr∀ᵐ ∂ , » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∀ᵐ ∂ , »\"\n          (measure.map f μ) ((0 : exprℝ) ≤ x) :=\n        (ae_map_iff hf.ae_measurable measurable_set_Ici).2 (eventually_of_forall h'f)\n      filter_upwards [this] with x hx\n      simp only [indicator, Set.mem_Ioc, pi.zero_apply, ite_eq_right_iff, and_imp]\n      intro h'x h''x\n      have : x = 0 := by linarith\n      simp [this, zero_pow' _ hn]\n    · exact ((measurable_id.indicator M).pow_const n).ae_strongly_measurable\n#align moment_truncation_eq_interval_integral_of_nonneg moment_truncation_eq_interval_integral_of_nonneg\n\n",
 "moment_truncation_eq_interval_integral":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\ntheorem moment_truncation_eq_interval_integral (hf : ae_strongly_measurable f μ) {A : exprℝ} (hA : 0 ≤ A) {n : ℕ}\n    (hn : n ≠ 0) :\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        (truncation f A x ^ n) μ =\n      «expr∫ in .. , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\"\n        (-A) A (y ^ n) (measure.map f μ) :=\n  by\n  have M : measurable_set (Set.Ioc (-A) A) := measurable_set_Ioc\n  change\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        ((fun z => indicator (Set.Ioc (-A) A) id z ^ n) (f x)) μ =\n      _\n  rw [← integral_map hf.ae_measurable, interval_integral.integral_of_le, ← integral_indicator M]\n  · simp only [indicator, zero_pow' _ hn, id.def, ite_pow]\n  · linarith\n  · exact ((measurable_id.indicator M).pow_const n).ae_strongly_measurable\n#align moment_truncation_eq_interval_integral moment_truncation_eq_interval_integral\n\n",
 "mem_ℒp_truncation":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `ennreal -/\ntheorem _root_.measure_theory.ae_strongly_measurable.mem_ℒp_truncation [is_finite_measure μ]\n    (hf : ae_strongly_measurable f μ) {A : exprℝ} {p : ennreal} : mem_ℒp (truncation f A) p μ :=\n  mem_ℒp.of_bound hf.truncation (|A|) (eventually_of_forall fun x => abs_truncation_le_bound _ _ _)\n#align measure_theory.ae_strongly_measurable.mem_ℒp_truncation measure_theory.ae_strongly_measurable.mem_ℒp_truncation\n\n",
 "integral_truncation_le_integral_of_nonneg":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\ntheorem integral_truncation_le_integral_of_nonneg (hf : integrable f μ) (h'f : 0 ≤ f) {A : exprℝ} :\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        (truncation f A x) μ ≤\n      «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\" (f x) μ :=\n  by\n  apply integral_mono_of_nonneg (eventually_of_forall fun x => _) hf (eventually_of_forall fun x => _)\n  · exact truncation_nonneg _ (h'f x)\n  ·\n    calc\n      truncation f A x ≤ |truncation f A x| := le_abs_self _\n      _ ≤ |f x| := abs_truncation_le_abs_self _ _ _\n      _ = f x := abs_of_nonneg (h'f x)\n      \n#align integral_truncation_le_integral_of_nonneg integral_truncation_le_integral_of_nonneg\n\n",
 "integral_truncation_eq_interval_integral_of_nonneg":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\ntheorem integral_truncation_eq_interval_integral_of_nonneg (hf : ae_strongly_measurable f μ) {A : exprℝ} (h'f : 0 ≤ f) :\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        (truncation f A x) μ =\n      «expr∫ in .. , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\" 0\n        A y (measure.map f μ) :=\n  by simpa using moment_truncation_eq_interval_integral_of_nonneg hf one_ne_zero h'f\n#align integral_truncation_eq_interval_integral_of_nonneg integral_truncation_eq_interval_integral_of_nonneg\n\n",
 "integral_truncation_eq_interval_integral":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `«expr∫ in .. , ∂ » -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ » -/\ntheorem integral_truncation_eq_interval_integral (hf : ae_strongly_measurable f μ) {A : exprℝ} (hA : 0 ≤ A) :\n    «expr∫ , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ , ∂ »\"\n        (truncation f A x) μ =\n      «expr∫ in .. , ∂ » \"./././Mathport/Syntax/Translate/Expr.lean:210:13: unsupported notation `«expr∫ in .. , ∂ »\"\n        (-A) A y (measure.map f μ) :=\n  by simpa using moment_truncation_eq_interval_integral hf hA one_ne_zero\n#align integral_truncation_eq_interval_integral integral_truncation_eq_interval_integral\n\n",
 "integrable_truncation":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem _root_.measure_theory.ae_strongly_measurable.integrable_truncation [is_finite_measure μ]\n    (hf : ae_strongly_measurable f μ) {A : exprℝ} : integrable (truncation f A) μ :=\n  by\n  rw [← mem_ℒp_one_iff_integrable]\n  exact hf.mem_ℒp_truncation\n#align\n  measure_theory.ae_strongly_measurable.integrable_truncation measure_theory.ae_strongly_measurable.integrable_truncation\n\n",
 "abs_truncation_le_bound":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem abs_truncation_le_bound (f : α → exprℝ) (A : exprℝ) (x : α) : |truncation f A x| ≤ |A| :=\n  by\n  simp only [truncation, set.indicator, Set.mem_Icc, id.def, Function.comp_apply]\n  split_ifs\n  · exact abs_le_abs h.2 (neg_le.2 h.1.le)\n  · simp [abs_nonneg]\n#align abs_truncation_le_bound abs_truncation_le_bound\n\n",
 "abs_truncation_le_abs_self":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `exprℝ -/\ntheorem abs_truncation_le_abs_self (f : α → exprℝ) (A : exprℝ) (x : α) : |truncation f A x| ≤ |f x| :=\n  by\n  simp only [truncation, indicator, Set.mem_Icc, id.def, Function.comp_apply]\n  split_ifs\n  · exact le_rfl\n  · simp [abs_nonneg]\n#align abs_truncation_le_abs_self abs_truncation_le_abs_self\n\n"}