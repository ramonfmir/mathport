{"schur_complement_eqâ‚‚â‚‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âŠ•áµ¥ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âŠ•áµ¥ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\ntheorem schur_complement_eqâ‚‚â‚‚ [Fintype m] [Fintype n] [DecidableEq n] (A : Matrix m m ğ•œ) (B : Matrix m n ğ•œ)\n    {D : Matrix n n ğ•œ} (x : m â†’ ğ•œ) (y : n â†’ ğ•œ) [Invertible D] (hD : D.is_hermitian) :\n    matrix.dot_product (vecMul (star (Â«expr âŠ•áµ¥ Â» x y)) (fromBlocks A B (matrix.conj_transpose B) D)) (Â«expr âŠ•áµ¥ Â» x y) =\n      matrix.dot_product (vecMul (star ((matrix.mul Dâ»Â¹ (matrix.conj_transpose B)).mul_vec x + y)) D)\n          ((matrix.mul Dâ»Â¹ (matrix.conj_transpose B)).mul_vec x + y) +\n        matrix.dot_product (vecMul (star x) (A - matrix.mul (matrix.mul B Dâ»Â¹) (matrix.conj_transpose B))) x :=\n  by\n  simp [Function.star_sum_elim, from_blocks_mul_vec, vec_mul_from_blocks, add_vec_mul, dot_product_mul_vec, vec_mul_sub,\n    Matrix.mul_assoc, vec_mul_mul_vec, hD.eq, conj_transpose_nonsing_inv, star_mul_vec]\n  abel\n#align schur_complement_eqâ‚‚â‚‚ schur_complement_eqâ‚‚â‚‚\n\n",
 "schur_complement_eqâ‚â‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âŠ•áµ¥ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âŠ•áµ¥ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\ntheorem schur_complement_eqâ‚â‚ [Fintype m] [DecidableEq m] [Fintype n] {A : Matrix m m ğ•œ} (B : Matrix m n ğ•œ)\n    (D : Matrix n n ğ•œ) (x : m â†’ ğ•œ) (y : n â†’ ğ•œ) [Invertible A] (hA : A.is_hermitian) :\n    matrix.dot_product (vecMul (star (Â«expr âŠ•áµ¥ Â» x y)) (fromBlocks A B (matrix.conj_transpose B) D)) (Â«expr âŠ•áµ¥ Â» x y) =\n      matrix.dot_product (vecMul (star (x + (matrix.mul Aâ»Â¹ B).mul_vec y)) A) (x + (matrix.mul Aâ»Â¹ B).mul_vec y) +\n        matrix.dot_product (vecMul (star y) (D - matrix.mul (matrix.mul (matrix.conj_transpose B) Aâ»Â¹) B)) y :=\n  by\n  simp [Function.star_sum_elim, from_blocks_mul_vec, vec_mul_from_blocks, add_vec_mul, dot_product_mul_vec, vec_mul_sub,\n    Matrix.mul_assoc, vec_mul_mul_vec, hA.eq, conj_transpose_nonsing_inv, star_mul_vec]\n  abel\n#align schur_complement_eqâ‚â‚ schur_complement_eqâ‚â‚\n\n",
 "from_blocksâ‚‚â‚‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\ntheorem pos_semidef.from_blocksâ‚‚â‚‚ [Fintype m] [Fintype n] [DecidableEq n] (A : Matrix m m ğ•œ) (B : Matrix m n ğ•œ)\n    {D : Matrix n n ğ•œ} (hD : D.pos_def) [Invertible D] :\n    (fromBlocks A B (matrix.conj_transpose B) D).pos_semidef â†”\n      (A - matrix.mul (matrix.mul B Dâ»Â¹) (matrix.conj_transpose B)).pos_semidef :=\n  by\n  rw [â† pos_semidef_submatrix_equiv (Equiv.sumComm n m), Equiv.sumComm_apply, from_blocks_submatrix_sum_swap_sum_swap]\n  convert pos_semidef.from_blocksâ‚â‚ _ _ hD <;> first |infer_instance|simp\n#align pos_semidef.from_blocksâ‚‚â‚‚ pos_semidef.from_blocksâ‚‚â‚‚\n\n",
 "from_blocksâ‚â‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«expr âŠ•áµ¥ Â» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.conj_transpose -/\ntheorem pos_semidef.from_blocksâ‚â‚ [Fintype m] [DecidableEq m] [Fintype n] {A : Matrix m m ğ•œ} (B : Matrix m n ğ•œ)\n    (D : Matrix n n ğ•œ) (hA : A.pos_def) [Invertible A] :\n    (fromBlocks A B (matrix.conj_transpose B) D).pos_semidef â†”\n      (D - matrix.mul (matrix.mul (matrix.conj_transpose B) Aâ»Â¹) B).pos_semidef :=\n  by\n  rw [pos_semidef, is_hermitian.from_blocksâ‚â‚ _ _ hA.1]\n  constructor\n  Â· refine' fun h => âŸ¨h.1, fun x => _âŸ©\n    have := h.2 (Â«expr âŠ•áµ¥ Â» (-(matrix.mul Aâ»Â¹ B).mul_vec x) x)\n    rw [dot_product_mul_vec, schur_complement_eqâ‚â‚ B D _ _ hA.1, neg_add_self, dot_product_zero, zero_add] at this\n    rw [dot_product_mul_vec]\n    exact this\n  Â· refine' fun h => âŸ¨h.1, fun x => _âŸ©\n    rw [dot_product_mul_vec, â† Sum.elim_comp_inl_inr x, schur_complement_eqâ‚â‚ B D _ _ hA.1, map_add]\n    apply le_add_of_nonneg_of_le\n    Â· rw [â† dot_product_mul_vec]\n      apply hA.pos_semidef.2\n    Â· rw [â† dot_product_mul_vec]\n      apply h.2\n#align pos_semidef.from_blocksâ‚â‚ pos_semidef.from_blocksâ‚â‚\n\n",
 "from_blocks_eq_of_invertibleâ‚‚â‚‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/-- LDU decomposition of a block matrix with an invertible bottom-right corner, using the\nSchur complement. -/\ntheorem from_blocks_eq_of_invertibleâ‚‚â‚‚ (A : Matrix l m Î±) (B : Matrix l n Î±) (C : Matrix n m Î±) (D : Matrix n n Î±)\n    [Invertible D] :\n    fromBlocks A B C D =\n      matrix.mul\n        (matrix.mul (fromBlocks 1 (matrix.mul B ((Â«exprâ…ŸÂ») D)) 0 1)\n          (fromBlocks (A - matrix.mul (matrix.mul B ((Â«exprâ…ŸÂ») D)) C) 0 0 D))\n        (fromBlocks 1 0 (matrix.mul ((Â«exprâ…ŸÂ») D) C) 1) :=\n  (Matrix.reindex (Equiv.sumComm _ _) (Equiv.sumComm _ _)).injective <| by\n    simpa [reindex_apply, Equiv.sumComm_symm, â† submatrix_mul_equiv _ _ _ (Equiv.sumComm n m), â†\n      submatrix_mul_equiv _ _ _ (Equiv.sumComm n l), Equiv.sumComm_apply, from_blocks_submatrix_sum_swap_sum_swap] using\n      from_blocks_eq_of_invertibleâ‚â‚ D C B A\n#align from_blocks_eq_of_invertibleâ‚‚â‚‚ from_blocks_eq_of_invertibleâ‚‚â‚‚\n\n",
 "from_blocks_eq_of_invertibleâ‚â‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/-\nCopyright (c) 2022 Alexander Bentkamp. All rights reserved.\nReleased under Apache 2.0 license as described in the file LICENSE.\nAuthors: Alexander Bentkamp, Eric Wieser, Jeremy Avigad, Johan Commelin\n-/\n/-- LDU decomposition of a block matrix with an invertible top-left corner, using the\nSchur complement. -/\ntheorem from_blocks_eq_of_invertibleâ‚â‚ (A : Matrix m m Î±) (B : Matrix m n Î±) (C : Matrix l m Î±) (D : Matrix l n Î±)\n    [Invertible A] :\n    fromBlocks A B C D =\n      matrix.mul\n        (matrix.mul (fromBlocks 1 0 (matrix.mul C ((Â«exprâ…ŸÂ») A)) 1)\n          (fromBlocks A 0 0 (D - matrix.mul (matrix.mul C ((Â«exprâ…ŸÂ») A)) B)))\n        (fromBlocks 1 (matrix.mul ((Â«exprâ…ŸÂ») A) B) 0 1) :=\n  by\n  simp only [from_blocks_multiply, Matrix.mul_zero, Matrix.zero_mul, add_zero, zero_add, Matrix.one_mul, Matrix.mul_one,\n    Matrix.invOf_mul_self, Matrix.mul_invOf_self_assoc, Matrix.mul_invOf_mul_self_cancel, Matrix.mul_assoc,\n    add_sub_cancel'_right]\n#align from_blocks_eq_of_invertibleâ‚â‚ from_blocks_eq_of_invertibleâ‚â‚\n\n",
 "det_one_sub_mul_comm":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\ntheorem det_one_sub_mul_comm (A : Matrix m n Î±) (B : Matrix n m Î±) :\n    det (1 - matrix.mul A B) = det (1 - matrix.mul B A) := by\n  rw [sub_eq_add_neg, â† Matrix.neg_mul, det_one_add_mul_comm, Matrix.mul_neg, â† sub_eq_add_neg]\n#align det_one_sub_mul_comm det_one_sub_mul_comm\n\n",
 "det_one_add_mul_comm":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/-- The **Weinsteinâ€“Aronszajn identity**. Note the `1` on the LHS is of shape mÃ—m, while the `1` on\nthe RHS is of shape nÃ—n. -/\ntheorem det_one_add_mul_comm (A : Matrix m n Î±) (B : Matrix n m Î±) :\n    det (1 + matrix.mul A B) = det (1 + matrix.mul B A) :=\n  calc\n    det (1 + matrix.mul A B) = det (fromBlocks 1 (-A) B 1) := by\n      rw [det_from_blocks_oneâ‚‚â‚‚, Matrix.neg_mul, sub_neg_eq_add]\n    _ = det (1 + matrix.mul B A) := by rw [det_from_blocks_oneâ‚â‚, Matrix.mul_neg, sub_neg_eq_add]\n    \n#align det_one_add_mul_comm det_one_add_mul_comm\n\n",
 "det_one_add_col_mul_row":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.dot_product -/\n/-- A special case of the **Matrix determinant lemma** for when `A = I`.\n\nTODO: show this more generally. -/\ntheorem det_one_add_col_mul_row (u v : m â†’ Î±) : det (1 + matrix.mul (col u) (row v)) = 1 + matrix.dot_product v u := by\n  rw [det_one_add_mul_comm, det_unique, Pi.add_apply, Pi.add_apply, Matrix.one_apply_eq, Matrix.row_mul_col_apply]\n#align det_one_add_col_mul_row det_one_add_col_mul_row\n\n",
 "det_mul_add_one_comm":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/-- Alternate statement of the **Weinsteinâ€“Aronszajn identity** -/\ntheorem det_mul_add_one_comm (A : Matrix m n Î±) (B : Matrix n m Î±) :\n    det (matrix.mul A B + 1) = det (matrix.mul B A + 1) := by rw [add_comm, det_one_add_mul_comm, add_comm]\n#align det_mul_add_one_comm det_mul_add_one_comm\n\n",
 "det_from_blocksâ‚‚â‚‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/-- Determinant of a 2Ã—2 block matrix, expanded around an invertible bottom right element in terms\nof the Schur complement. -/\ntheorem det_from_blocksâ‚‚â‚‚ (A : Matrix m m Î±) (B : Matrix m n Î±) (C : Matrix n m Î±) (D : Matrix n n Î±) [Invertible D] :\n    (Matrix.fromBlocks A B C D).det = det D * det (A - matrix.mul (matrix.mul B ((Â«exprâ…ŸÂ») D)) C) :=\n  by\n  have : from_blocks A B C D = (from_blocks D C B A).submatrix (Equiv.sumComm _ _) (Equiv.sumComm _ _) :=\n    by\n    ext (i j)\n    cases i <;> cases j <;> rfl\n  rw [this, det_submatrix_equiv_self, det_from_blocksâ‚â‚]\n#align det_from_blocksâ‚‚â‚‚ det_from_blocksâ‚‚â‚‚\n\n",
 "det_from_blocksâ‚â‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `Â«exprâ…ŸÂ» -/\n/-- Determinant of a 2Ã—2 block matrix, expanded around an invertible top left element in terms of\nthe Schur complement. -/\ntheorem det_from_blocksâ‚â‚ (A : Matrix m m Î±) (B : Matrix m n Î±) (C : Matrix n m Î±) (D : Matrix n n Î±) [Invertible A] :\n    (Matrix.fromBlocks A B C D).det = det A * det (D - matrix.mul (matrix.mul C ((Â«exprâ…ŸÂ») A)) B) := by\n  rw [from_blocks_eq_of_invertibleâ‚â‚, det_mul, det_mul, det_from_blocks_zeroâ‚‚â‚, det_from_blocks_zeroâ‚‚â‚,\n    det_from_blocks_zeroâ‚â‚‚, det_one, det_one, one_mul, one_mul, mul_one]\n#align det_from_blocksâ‚â‚ det_from_blocksâ‚â‚\n\n",
 "det_from_blocks_oneâ‚‚â‚‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n@[simp]\ntheorem det_from_blocks_oneâ‚‚â‚‚ (A : Matrix m m Î±) (B : Matrix m n Î±) (C : Matrix n m Î±) :\n    (Matrix.fromBlocks A B C 1).det = det (A - matrix.mul B C) :=\n  by\n  haveI : Invertible (1 : Matrix n n Î±) := invertibleOne\n  rw [det_from_blocksâ‚‚â‚‚, invOf_one, Matrix.mul_one, det_one, one_mul]\n#align det_from_blocks_oneâ‚‚â‚‚ det_from_blocks_oneâ‚‚â‚‚\n\n",
 "det_from_blocks_oneâ‚â‚":
 "/- ./././Mathport/Syntax/Translate/Expr.lean:207:4: warning: unsupported notation `matrix.mul -/\n@[simp]\ntheorem det_from_blocks_oneâ‚â‚ (B : Matrix m n Î±) (C : Matrix n m Î±) (D : Matrix n n Î±) :\n    (Matrix.fromBlocks 1 B C D).det = det (D - matrix.mul C B) :=\n  by\n  haveI : Invertible (1 : Matrix m m Î±) := invertibleOne\n  rw [det_from_blocksâ‚â‚, invOf_one, Matrix.mul_one, det_one, one_mul]\n#align det_from_blocks_oneâ‚â‚ det_from_blocks_oneâ‚â‚\n\n"}